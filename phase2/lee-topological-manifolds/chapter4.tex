% chktex-file 8
% chktex-file 44
\chapter{Connectedness and Compactness}

\section*{Connectedness}\addcontentsline{toc}{section}{Connectedness}

\subsection*{Definitions and Basic Properties}\addcontentsline{toc}{subsection}{Definitions and Basic Properties}

\begin{exercise}{4.3}
	Suppose $X$ is a connected topological space, and $\sim$ is an equivalence relation on $X$ such that every equivalence class is open. Show that there is exactly one equivalence class, namely $X$ itself.
\end{exercise}

\begin{proof}
	Suppose $X$ has exactly $n$ equivalence classes, all of which are open. Because all equivalence classes constitute a partition of $X$, then $X$ is the union of these open, disjoint equivalence classes. On the other hand, $X$ is connected, so $n = 1$. Hence $X$ has exactly one equivalence class.
\end{proof}

\begin{exercise}{4.4}
	Prove that a topological space $X$ is disconnected if and only if there exists a nonconstant continuous function from $X$ to the discrete space $\set{0,1}$.
\end{exercise}

\begin{proof}
	Suppose there is a nonconstant continuous function $f: X\to \set{0,1}$, then $f^{-1}(0)$ and $f^{-1}(1)$ are nonempty, open, disjoint, and their union is $X$. Therefore $X$ is disconnected.

	Conversely, suppose $X$ is disconnected, then there are nonempty, open, disjoint subsets $U, V\subseteq X$ such that $X = U\cup V$. Define $f: X\to \set{0,1}$ as follows: $f(x) = 0$ if $x\in U$ and $f(x) = 1$ if $x\notin U$, then $f$ is nonconstant and $f$ is continuous (because the preimages under $f$ of $\varnothing, \set{0}, \set{1}, \set{0, 1}$ are open in $X$).
\end{proof}

\begin{exercise}{4.5}
	Prove that a topological space is disconnected if and only if it is homeomorphic to a disjoint union of two or more nonempty spaces.
\end{exercise}

\begin{proof}
	Let $X$ be a topological space.

	Suppose $X$ is disconnected, then there are subsets $U, V\subseteq X$ that disconnect $X$. The map $\varphi: X \to U\sqcup V$ given by
	\begin{equation*}
		\varphi(x) = \begin{cases}
			(x, 0) & \text{if $x \in U$} \\
			(x, 1) & \text{if $x \in V$}
		\end{cases}
	\end{equation*}

	is a homeomorphism, so $X$ is homeomorphic to the disjoint union $U\sqcup V$. Hence $X$ is homeomorphic to a disjoint union of at least two nonempty spaces.

	Conversely, suppose $X$ is homeomorphic to a disjoint union of $n\geq 2$ nonempty spaces $U_{1}, \ldots, U_{n}$. Let $f: X\to \coprod^{n}_{i=1}U_{i}$ be a homeomorphism, then $f^{-1}(U_{1}), \ldots, f^{-1}(U_{n})$ constitutes a partition on $X$, and $f^{-1}(U_{1}), \ldots, f^{-1}(U_{n})$ are nonempty open subsets of $X$. Because $n\geq 2$, it follows that $X$ is disconnected.
\end{proof}

\begin{exercise}{4.10}
	Suppose $M$ is a connected manifold with nonempty boundary. Show that its double $D(M)$ is connected.
\end{exercise}

\begin{proof}
	Let $h: \partial M\to \partial M$ be the identity map from the boundary of $M$ onto itself. $\sim$ is the equivalence relation on $D(M)$ defined by $x\sim h(x)$ for $x\in\partial M$, and other points are equivalent to itself. By the definition of the double of a manifold with boundary
	\begin{equation*}
		D(M) = M\cup_{h}M = (M\sqcup M)/_{\sim}.
	\end{equation*}

	Assume that $D(M)$ is disconnected by open subsets $U, V$. Let $q: M \sqcup M \to (M \sqcup M)/_{\sim}$ be the quotient map, then $q^{-1}(U)$ and $q^{-1}(V)$ disconnect $M\sqcup M \approx (M\times\set{0}) \cup (M\times\set{1})$. Because $M\times\set{0}, M\times\set{1} \subseteq q^{-1}(U) \cup q^{-1}(V)$ and $M\times\set{0}, M\times\set{1}$ are connected, it follows from Proposition 4.9 that either $M\times\set{0} \subseteq q^{-1}(U)$ or $M\times\set{0} \subseteq q^{-1}(V)$, either $M\times\set{1} \subseteq q^{-1}(U)$ or $M\times\set{1} \subseteq q^{-1}(V)$. Because $q^{-1}(U)$ and $q^{-1}(V)$ are nonempty, it follows that either $M\times\set{0} \subseteq q^{-1}(U)$ and $M\times\set{1} \subseteq q^{-1}(V)$ or $M\times\set{0} \subseteq q^{-1}(V)$ and $M\times\set{1} \subseteq q^{-1}(U)$. Without loss of generality, suppose that the former is the case. Since the boundary $\partial M$ is nonempty, there is $a \in \partial M$. $a \sim h(a)$, $(a, 0) \in M\times\set{0} = q^{-1}(U)$ and $(a, 1) \in M\times\set{1} = q^{-1}(V)$ so $q(a) = q(h(a)) \in U, V$. Hence $U$ and $V$ are not disjoint, which contradicts our assumption.

	Thus $D(M)$ is connected.
\end{proof}

\subsection*{Path Connectedness}\addcontentsline{toc}{subsection}{Path Connectedness}

\begin{exercise}{4.14}\label{exercise:4.14}
	Prove Proposition 4.13 (Properties of Path-Connected Spaces).
	\begin{enumerate}[label={(\alph*)}]
		\item Every continuous image of a path-connected space is path-connected.
		\item Let $X$ be a space, and let ${\{ B_{\alpha} \}}_{\alpha\in A}$ be a collection of path-connected subspaces of $X$ with a point in common. Then $\bigcup_{\alpha\in A}B_{\alpha}$ is path-connected.
		\item Every product of finitely many path-connected spaces is path-connected.
		\item Every quotient space of a path-connected space is path-connected.
	\end{enumerate}
\end{exercise}

\begin{proof}
	\begin{enumerate}[label={(\alph*)}]
		\item Let $f: X\to Y$ be a continuous map and $X$ is a path-connected space. Let $p, q$ be two points of $f(X)$, let $a \in f^{-1}(p)$ and $b \in f^{-1}(q)$. Because $X$ is path-connected, there is a continuous map $g: \closedinterval{0, 1} \to X$ such that $g(0) = a$ and $g(1) = b$, so the composition $f\circ g: \closedinterval{0, 1} \to f(X)$ is continuous and $(f\circ g)(0) = p$ and $(f\circ g)(1) = q$. Hence for every two points $p, q$ of $f(X)$, there is a continuous map from $\closedinterval{0, 1}$ to $f(X)$ such that the images of $0, 1$ are $p, q$, respectively, which implies $f(X)$ is path-connected.
		\item Let $p, q$ be two points of $\bigcup_{\alpha\in A}B_{\alpha}$.

		      $p \in B_{\alpha_{p}}$ and $q \in B_{\alpha_{q}}$ for some $\alpha_{p}, \alpha_{q} \in A$. Let $x \in \bigcap_{\alpha\in A}B_{\alpha}$ (these sets have a point in common). Because $B_{\alpha_{p}}, B_{\alpha_{q}}$ are path-connected, there are continuous maps $f_{p}: \closedinterval{0, 1} \to B_{\alpha_{p}}$ such that $f_{p}(0) = p, f_{p}(1) = x$, and $f_{q}: \closedinterval{0, 1} \to B_{\alpha_{q}}$ such that $f_{q}(0) = x, f_{q}(1) = q$.

		      The maps $g: \closedinterval{0, \frac{1}{2}} \to \closedinterval{0, 1}$ given by $g(t) = 2t$ and $h: \closedinterval{\frac{1}{2}, 1} \to \closedinterval{0, 1}$ given by $h(t) = 2t - 1$ are continuous. The compositions $f_{p}\circ g$ and $f_{q}\circ h$ are therefore continuous, and they agree on $\closedinterval{0, \frac{1}{2}} \cap \closedinterval{\frac{1}{2}, 1}$, since $(f_{p}\circ g)(1/2) = x = (f_{q}\circ h)(1/2)$. $\closedinterval{0, \frac{1}{2}}, \closedinterval{\frac{1}{2}, 1}$ constitute a finite closed cover of $\closedinterval{0, 1}$, so by the gluing lemma, there is a unique continuous map $f: \closedinterval{0, 1} \to B_{\alpha_{p}} \cup B_{\alpha_{q}}$ such that $f\vert_{\closedinterval{0, \frac{1}{2}}} = f_{p}\circ g$ and $f\vert_{\closedinterval{\frac{1}{2}, 1}} = f_{q}\circ h$. Moreover, $f(0) = p, f(1) = q$. Hence there is a path in $\bigcup_{\alpha\in A}B_{\alpha}$ from $p$ to $q$.

		      Thus $\bigcup_{\alpha\in A}B_{\alpha}$ is path-connected.
		\item It suffices to prove that the product of two path-connected spaces is path-connected.

		      Let $X, Y$ be path-connected spaces and $(x_{1}, y_{1}), (x_{2}, y_{2})$ are two points of $X\times Y$. The maps $i_{y_{0}}: X\to X\times Y$ given by $i_{y_{0}}(x) = (x, y_{0})$ and $i_{x_{0}}: Y\to X\times Y$ given by $i_{x_{0}}(y) = (x_{0}, y)$ are continuous. From part (a), it follows that $X\times\set{y_{0}}$ and $\set{x_{0}}\times Y$ are path-connected for every $y_{0} \in Y, x_{0}\in X$. Hence there is a path $f_{1}$ in $X\times Y$ from $(x_{1}, y_{1})$ to $(x_{2}, y_{1})$ and a path $f_{2}$ in $X\times Y$ from $(x_{2}, y_{1})$ to $(x_{2}, y_{2})$.

		      The maps $g: \closedinterval{0, \frac{1}{2}} \to \closedinterval{0, 1}$ given by $g(t) = 2t$ and $h: \closedinterval{\frac{1}{2}, 1} \to \closedinterval{0, 1}$ given by $h(t) = 2t - 1$ are continuous. The compositions $f_{1}\circ g$ and $f_{2}\circ h$ are therefore continuous, and they agree on $\closedinterval{0, \frac{1}{2}} \cap \closedinterval{\frac{1}{2}, 1}$, since $(f_{1}\circ g)(1/2) = (x_{2}, y_{1}) = (f_{2}\circ h)(1/2)$. From the gluing lemma, it follows that there is a unique continuous map $f: \closedinterval{0, 1} \to X\times Y$ such that $f\vert_{\closedinterval{0, \frac{1}{2}}} = f_{1}\circ g$ and $f\vert_{\closedinterval{\frac{1}{2}, 1}} = f_{2}\circ h$. Moreover, $f(0) = (x_{1}, y_{1})$ and $f(1) = (x_{2}, y_{2})$.

		      Therefore $X\times Y$ is path-connected. From mathematical induction, it follows that the finite product of path-connected spaces is path-connected.
		\item Since every quotient map is continuous and surjective, from part (a), it follows that every quotient space of a path-connected space is path-connected.
	\end{enumerate}
\end{proof}

\subsection*{Components and Path Components}\addcontentsline{toc}{subsection}{Components and Path Components}

\begin{exercise}{4.22}
	Prove Proposition 4.21 (Properties of Path Components).

	Let $X$ be any space.
	\begin{enumerate}[label={(\alph*)}]
		\item The path components of $X$ form a partition of $X$.
		\item Each path component is contained in a single component, and each component is a disjoint union of path components.
		\item Any nonempty path-connected subset of $X$ is contained in a single path component.
	\end{enumerate}
\end{exercise}

\begin{proof}
	\begin{enumerate}[label={(\alph*)}]
		\item Let $U, V$ be non-disjoint path components of $X$. From Exercise~\ref{exercise:4.14} (b), $U\cup V$ is path-connected. Due to the maximality of path components, $U = V = U\cup V$, from which we deduce that non-disjoint path components are identical. Hence distinct path components are disjoint.

		      Let $x$ be a point of $X$. The singleton $\set{x}$ is a path component containing $x$. Let ${(B_{\alpha})}_{\alpha\in A}$ be the family of all path-connected sets containing $x$, then $\bigcup_{\alpha\in A}B_{\alpha}$ is path-connected (according to Exercise~\ref{exercise:4.14} (b)). Moreover $\bigcup_{\alpha\in A}B_{\alpha}$ is a maximal path-connected set so it is a path component containing $x$. Therefore every element of $X$ is in a path component.

		      Thus the path components of $X$ form a partition of $X$.

			      [Another approach to part (a) is to prove path-connectedness of two points is an equivalence relation on the given topological space.]
		\item Let $P$ be a path component of $X$. Because the components of $X$ form a partition of $X$, $P$ has a common point with some component $C$ of $X$. Since a path-connected set is also connected, $P$ is a connected set. Because the union of connected sets with a point in common is connected, $P\cup C$ is connected. From the maximality of $C$, we deduce that $P\cup C = C$, which means $P\subseteq C$. Moreover, distinct components are disjoint, so $P$ is contained in the component $C$ only. Hence every path component is contained in a single component.

		      Let $C$ be a component of $X$. Every point $p$ of $C$ is in some path component of $X$, so the path component containing $p$ is contained in $C$. On the other hand, distinct path components are disjoint. Hence $C$ is a disjoint union of path components.
		\item Let $A$ be a nonempty path-connected subset of $X$.

		      Let $x$ be an element of $A$. According to part (a), $x$ is a point of a path component $P$. According to Exercise~\ref{exercise:4.14} (b), $A\cup P$ is path-connected. Because $P$ is a maximal path-connected set, it follows that $A\cup P = P$, which means $A\subseteq P$.

		      If $A$ is contained in two path components, then the two path components are not disjoint (because $A$ is nonempty) and it follows that the two path components are identical (according to part (a)).

		      Therefore any nonempty path-connected subset of $X$ is contained in a single path component of $X$.
	\end{enumerate}
\end{proof}

\begin{exercise}{4.24}\label{exercise:4.24}
	Prove Proposition 4.23.

	Every manifold (with or without boundary) is locally connected and locally path-connected.
\end{exercise}

\begin{proof}
	Let $M$ be an $n$-manifold (with or without boundary).

	\textbf{Case 1. $M$ is an $n$-manifold without boundary.}

	According to Problem~\ref{problem:2-23}, every manifold has a basis of coordinate balls. On the other hand, every coordinate ball is homeomorphic to an open ball of $\mathbb{R}^{n}$ and every open ball of $\mathbb{R}^{n}$ is path-connected because every open ball of $\mathbb{R}^{n}$ is homeomorphic to $\mathbb{R}^{n}$ (which is path-connected). Therefore every coordinate ball is path-connected (and hence connected). Hence $M$ is locally path-connected and locally connected.

	\textbf{Case 2. $M$ is an $n$-manifold with boundary.}

	Firstly, we construct a basis for $M$. Let $U$ be a nonempty open subset of $M$ and $x\in U$, then $x$ is in the domain of an interior chart or that of a boundary chart.

	If $x$ is in the domain of an interior chart $(V, \varphi_{x})$, then $\varphi_{x}(V)$ is an open subset of $\mathbb{R}^{n}$. $U\cap V$ is homeomorphic to $\varphi_{x}(U\cap V)$ and $\varphi_{x}(U\cap V)$ is an open subset of $\mathbb{R}^{n}$. Because $\varphi_{x}(U\cap V)$ is open and $\varphi_{x}(x)$ is a point of this set, there is an open ball $B_{r}(\varphi_{x}(x)) \subseteq \varphi_{x}(U\cap V)$. Therefore $\varphi_{x}^{-1}(B_{r}(\varphi_{x}(x)))$ and $B_{r}(\varphi_{x}(x))$ are homeomorphic. So $x$ is in the domain of the following interior chart $(\varphi_{x}^{-1}(B_{r}(\varphi_{x}(x))), \varphi_{x}\vert_{\varphi_{x}^{-1}(B_{r}(\varphi_{x}(x)))})$ where the domain is contained in $U$ and homeomorphic to an open ball in $\mathbb{R}^{n}$.

	If $x$ is in the domain of a boundary chart $(V, \varphi_{x})$, then $\varphi_{x}(x) \in \partial\mathbb{H}^{n}$ and $\varphi_{x}(V)$ is an open subset of $\mathbb{H}^{n}$. $U\cap V$ is homeomorphic to $\varphi_{x}(U\cap V)$ and $\varphi_{x}(U\cap V)$ is an open subset of $\mathbb{H}^{n}$. Because $\varphi_{x}(U\cap V)$ is open and $\varphi_{x}(x)$ is a point of this set, there is an open ball $B_{r}(\varphi_{x}(x))$ in $\mathbb{R}^{n}$ such that $B_{r}(\varphi_{x}(x)) \cap \mathbb{H}^{n} \subseteq \varphi_{x}(U\cap V)$ (here we make use of the subspace topology on $\mathbb{H}^{n}$ and the basis for $\mathbb{R}^{n}$ containing open balls). Therefore $W = B_{r}(\varphi_{x}(x)) \cap \mathbb{H}^{n}$ and $\varphi_{x}^{-1}(W)$ are homeomorphic, and $x$ is in the domain of the following boundary chart $(\varphi_{x}^{-1}(W), \varphi_{x}\vert_{W})$ where the domain is contained in $U$ and is homeomorphic to an open half-ball in $\mathbb{H}^{n}$ (it is halved by taking intersection of $\mathbb{H}^{n}$ and an open ball in $\mathbb{R}^{n}$ with center on $\partial \mathbb{H}^{n}$).

	Hence the collection of open sets of $M$ which are domains of some interior chart (and homeomorphic to some open ball in $\mathbb{R}^{n}$) or some boundary chart  (and homeomorphic to some open half-ball in $\mathbb{H}^{n}$) constitutes a basis for the $n$-manifold with boundary $M$.

	On the other hand, an open ball or an open half-ball is path-connected (because it is a convex set), so $M$ has a basis of path-connected (hence connected) open sets. Therefore $M$ is locally path-connected and locally connected.

	From the two cases, we conclude that every manifold (without or with boundary) is locally path-connected and locally connected.
\end{proof}

\section*{Compactness}\addcontentsline{toc}{section}{Compactness}

\subsection*{Definitions and Basic Properties}\addcontentsline{toc}{subsection}{Definitions and Basic Properties}

\begin{exercise}{4.28}
	Prove Lemma 4.27 (Compactness Criterion for Subspaces).

	If $X$ is any topological space, a subset $A\subseteq X$ is compact (in the subspace topology) if and only if every cover of $A$ by open subsets of $X$ has a finite subcover.
\end{exercise}

\begin{proof}
	Suppose $A\subseteq X$ is compact with the subspace topology. Let ${(U_{i})}_{i\in I}$ be a cover of $A$ by open subsets of $X$, then ${(U_{i}\cap A)}_{i\in I}$ is a cover of $A$ by open subsets of $A$. Because $A$ is compact with the subspace topology, ${(U_{i}\cap A)}_{i\in I}$ contains a finite subcover of $A$ by open subsets of $A$, which implies ${(U_{i})}_{i\in I}$ contains a finite subcover of $A$ by open subsets of $X$.

	Conversely, suppose that every cover of $A$ by open subsets of $X$ has a finite subcover. Let ${(V_{i})}_{i\in I}$ be a cover of $A$ by open subsets of $A$. From the definition of subspace topology, for each $i\in I$, there is an open subset $U_{i}\subseteq X$ such that $V_{i} = U_{i}\cap A$. Therefore ${(U_{i})}_{i\in I}$ is a cover of $A$ by open subsets of $X$, so ${(U_{i})}_{i\in I}$ contains a finite subcover of $A$ by open subsets of $X$, which implies that ${(V_{i})}_{i\in I}$ contains a finite subcover of $A$ by open subsets of $A$. Hence $A\subseteq X$ is compact with the subspace topology.
\end{proof}

\begin{exercise}{4.29}
	In any topological space $X$, show that every union of finitely many compact subsets of $X$ is compact.
\end{exercise}

\begin{proof}
	It suffices to prove that the union of two compact subsets of $X$ is compact. Let $A, B$ be compact subsets of $X$ and $\mathcal{O}$ be an open cover of $A\cup B$ by open subsets of $X$. Since $A$ is compact, there exist finitely many open subsets $A_{1}, \ldots, A_{m}$ from $\mathcal{O}$ that covers $A$ and finitely many open subsets $B_{1}, \ldots, B_{n}$ from $\mathcal{O}$ that covers $B$. Hence $\mathcal{O}$ has a finite subcover, which consists of $A_{1}, \ldots, A_{m}, B_{1}, \ldots, B_{n}$. Therefore $A\cup B$ is compact.

	The union of zero compact subsets of $X$ is compact (because it is the empty set). Assume that the union of $n - 1$ compact subsets of $X$ is compact. Let $A_{1}, \ldots, A_{n}$ be $n$ compact subsets of $X$. By the inductive hypothesis, $\bigcup^{n-1}_{i=1}A_{i}$ is a compact subset of $X$. From the previous paragraph, we deduce that $\bigcup^{n}_{i=1}A_{i}$ is a compact subset of $X$. By the principle of mathematical induction, we conclude that every union of finitely many compact subsets of $X$ is compact.
\end{proof}

\begin{exercise}{4.37}
	Suppose $M$ is a compact manifold with boundary. Show that the double of $M$ is compact.
\end{exercise}

\begin{proof}
	Let $h$ be the identity map $\partial M\to \partial M$. From the definition of the double of a manifold with boundary, $D(M) = M\cup_{h} M = {(M\sqcup M)}/_{\sim}$ (where $(a, 0) \sim (h(a), 1)$ for $a\in \partial H$). Because $M\sqcup M \approx (M\times\set{0}) \cup (M\times\set{1})$ is the union of two compact manifolds (which are homeomorphic to the compact manifold $M$), it follows that $M\sqcup M$ is compact.

	Let $q: M\sqcup M \to (M\sqcup M)/_{\sim} = D(M)$ be the quotient map. Because every quotient of a compact space is compact, it follows that $D(M)$ is compact.
\end{proof}

\begin{exercise}{4.38}
	Let $X$ be a compact space, and suppose $\set{F_{n}}$ is a countable collection of nonempty closed subsets of $X$ that are \textbf{nested}, which means that $F_{n}\supseteq F_{n+1}$ for each $n$. Show that $\bigcap_{n}F_{n}$ is nonempty.
\end{exercise}

\begin{proof}
	Each $F_{n}$ is a closed subset $X$, so $X\smallsetminus F_{n}$ is open. Assume for the sake of contradiction that $\bigcap_{n}F_{n}$ is empty then
	\begin{equation*}
		X = X\smallsetminus \left(\bigcap_{n}F_{n}\right) = \bigcup_{n}(X\smallsetminus F_{n})
	\end{equation*}

	so $\set{X\smallsetminus F_{n}}_{n}$ is an open cover of $X$. Because of the compactness of $X$, $\set{X\smallsetminus F_{n}}_{n}$ contains a finite subcover, say $X\smallsetminus F_{k_{1}}, \ldots, X\smallsetminus F_{k_{m}}$, and we can relabel these sets such that $k_{1} < \cdots < k_{m}$. Since $F_{k_{1}} \supseteq \cdots \supseteq F_{k_{m}}$, we have $X\smallsetminus F_{k_{1}} \subseteq \cdots \subseteq X\smallsetminus F_{k_{m}}$ hence $X = \bigcup^{m}_{i=1}(X\smallsetminus F_{k_{i}}) = X \smallsetminus F_{k_{m}}$, which is a contradiction since $X$ is a proper superset of $X\smallsetminus F_{k_{m}}$, because $F_{k_{m}}$ is a nonempty subset of $X$. Hence $\bigcap_{n}F_{n}$ is nonempty.
\end{proof}

\subsection*{Sequential and Limit Point Compactness}\addcontentsline{toc}{subsection}{Sequential and Limit Point Compactness}

\begin{exercise}{4.49}
	Prove the preceding three theorems.

	Theorem 4.46 (Bolzano-WeierstraÃŸ). Every bounded sequence in $\mathbb{R}^{n}$ has a convergent subsequence.

	Theorem 4.47. Endowed with the Euclidean metric, a subset of $\mathbb{R}^{n}$ is a complete metric space if and only if it is closed in $\mathbb{R}^{n}$. In particular, $\mathbb{R}^{n}$ is complete.

	Theorem 4.48. Every compact metric space is complete.
\end{exercise}

\begin{proof}
	\textbf{Proof for Theorem 4.46.} Let ${(x_{i})}_{i\in\mathbb{N}}$ be a bounded sequence in $\mathbb{R}^{n}$, then there exists $a > 0$ such that $x_{i} \in {\closedinterval{-a, a}}^{n}$ for every $i\in\mathbb{N}$. If the sequence ${(x_{i})}_{i\in\mathbb{N}}$ takes on finitely many values then it has a subsequence that is eventually constant. Otherwise, suppose ${(x_{i})}_{i\in\mathbb{N}}$ takes on infinitely many values. ${\closedinterval{-a, a}}^{n}$ is closed and bounded in $\mathbb{R}^{n}$ so it is compact, due to Heine-Borel's theorem. The space ${\closedinterval{-a, a}}^{n}$ with subspace topology inherited from $\mathbb{R}^{n}$ is second countable (implies first countable) and Hausdorff so from Lemma 4.42 (compactness implies limit point compactness) and Lemma 4.43 (In first countable Hausdorff spaces, limit point compactness implies sequential compactness), it follows that ${(x_{i})}_{i\in\mathbb{N}}$ has a convergent subsequence.

	\textbf{Proof for Theorem 4.47.} Let $M$ be subset of $\mathbb{R}^{n}$, then $M$ is a metric space with the Euclidean metric restricted to $M$. If $M$ is complete, let $x\in \mathbb{R}^{n}$ be a limit point of $M$. For every $i\in\mathbb{N}$, $B_{1/2^{i}}(x)$ contains a point $a_{i}$ in $M$, then the sequence ${(a_{i})}_{i\in\mathbb{N}}$ is a Cauchy sequence. Since $M$ is complete, the sequence converges to a point of $M$. Because $a_{i}$ converges to $x$, it follows that $x\in M$, hence $M$ contains all of its limit points, which means $M$ is closed. Conversely, if $M$ is closed, let ${(x_{i})}_{i\in\mathbb{N}}$ be a Cauchy sequence of points in $M$. In a metric space, a Cauchy sequence is a bounded sequence. By Theorem 4.46, ${(x_{i})}_{i\in\mathbb{N}}$ has a convergent subsequence. A Cauchy sequence having a convergent subsequence is convergent, hence ${(x_{i})}_{i\in\mathbb{N}}$ is convergent, so $M$ is complete.

	\textbf{Proof for Theorem 4.48.} Let $M$ be a compact metric space and ${(x_{i})}_{i\in\mathbb{N}}$ be a Cauchy sequence of points in $M$. $M$ is a metric space so it is first countable and Hausdorff. By Lemma 4.42, $M$ is limit point compact. By Lemma 4.43 (In first countable Hausdorff spaces, limit point compactness implies sequential compactness), $M$ is sequentially compact. Hence ${(x_{i})}_{i\in\mathbb{N}}$ has a convergent subsequence. A Cauchy sequence having a convergent subsequence is convergent, hence ${(x_{i})}_{i\in\mathbb{N}}$ is convergent, so $M$ is complete.
\end{proof}

\subsection*{The Closed Map Lemma}\addcontentsline{toc}{subsection}{The Closed Map Lemma}

\begin{exercise}{4.58}
	Using the map of Example 4.55, show that there is a coordinate ball in $\mathbb{S}^{n}$ whose closure is equal to all of $\mathbb{S}^{n}$.
\end{exercise}

\begin{proof}
	The quotient map of Example 4.55 is $q: {\overline{\mathbb{B}}}^{n} \to \mathbb{S}^{n}$ given by
	\begin{equation*}
		q(x) = \tuple{2\sqrt{1 - {\abs{x}}^{2}}x, 2{\abs{x}}^{2} - 1}.
	\end{equation*}

	Let $N$ be the point of $\mathbb{R}^{n+1}$ whose coordinates are $\tuple{0, \ldots, 0, 1}$ then $N\in \mathbb{S}^{n}$. The singleton set $\set{N}$ is closed in $\mathbb{S}^{n}$ so its complement $\mathbb{S}^{n}\smallsetminus \set{N}$ is open in $\mathbb{S}^{n}$. On the other hand, $q^{-1}(N) = \partial{\overline{\mathbb{B}}}^{n}$, so $q^{-1}(\mathbb{S}^{n}\smallsetminus \set{N}) = {\overline{\mathbb{B}}}^{n} \smallsetminus \partial{\overline{\mathbb{B}}}^{n} = \mathbb{B}^{n}$. Moreover, the restriction of $q$ on $\mathbb{S}^{n}\smallsetminus \set{N}$ is injective, it follows that $\mathbb{S}^{n}\smallsetminus \set{N}$ is homeomorphic to $B^{n}$, hence $\mathbb{S}^{n}\smallsetminus \set{N}$ is a coordinate ball in $\mathbb{S}^{n}$. The closure of $\mathbb{S}^{n}\smallsetminus \set{N}$ is the entire $\mathbb{S}^{n}$.

	Thus $\mathbb{S}^{n}\smallsetminus \set{N}$ is a coordinate ball in $\mathbb{S}^{n}$ whose closure is equal to all of $\mathbb{S}^{n}$.
\end{proof}

\begin{exercise}{4.61}\label{exercise:4.61}
	Complete the proof of Proposition 4.60 by showing that $\mathscr{B}$ is a basis.
\end{exercise}

\begin{quotation}
	Proposition 4.60. Every manifold has a countable basis of regular coordinate balls.

	The author gave an incorrect proof/idea to this proposition. He suggested a correction on his website.
\end{quotation}

\begin{proof}
	Let $M$ be an $n$-manifold.

	Every point of $M$ has an Euclidean neighborhood (or coordinate domain), and these Euclidean neighborhoods cover $M$. Since $M$ is second countable, every open cover of $X$ has a countable subcover (This is Theorem 2.50). Let $\set{U_{i}}_{i\in\mathbb{N}}$ be such a countable subcover. Each $U_{i}$ is a coordinate domain, so there is a homeomorphism $\varphi_{i}$ from $U_{i}$ onto an open subset $\widehat{U}_{i} \subseteq \mathbb{R}^{n}$.

	Let $\mathscr{B}$ be the collection of all open subsets of $M$ of the form $\varphi_{i}^{-1}(B_{r}(x))$, where $x\in \widehat{U}_{i}$ is a point with rational coordinates only and $r$ is any positive rational number such that there exists a real number $r'$ where $B_{r}(x) \subseteq B_{r'}(x) \subseteq \widehat{U}_{i}$ (such open balls exist because of the density of $\mathbb{Q}^{n}$ in $\mathbb{R}^{n}$ and $\widehat{U}_{i} \subseteq \mathbb{R}^{n}$ is open.)

	By Lemma 4.59 and the way we define the elements of $\mathscr{B}$, every element of $\mathscr{B}$ is a regular coordinate ball. On the other hand, with these choices of coordinates and radii, $\mathscr{B}$ is countable. Now we need to prove $\mathscr{B}$ is a basis for $M$.

	Let $U$ be an open subset of $M$, then $U = \bigcup_{i\in\mathbb{N}}(U\cap U_{i})$. $U\cap U_{i} \subseteq M$ and $\varphi_{i}(U\cap U_{i}) \subseteq \mathbb{R}^{n}$ are homeomorphic (by the homeomorphism $\varphi_{i}$). $\mathbb{R}^{n}$ admits the collection of open balls with rational coordinates and rational radii as a basis, so for every $x\in \varphi_{i}(U\cap U_{i})$, there exists $B_{r'}(x)$ where $y\in \mathbb{Q}^{n}$ and $r' \in \mathbb{Q}$ such that $B_{r'}(y) \subseteq \varphi_{i}(U\cap U_{i})$. $\operatorname{dist}(y, x) < r'$, there is a positive rational number $r$ such that $\operatorname{dist}(y, x) < r < r'$ then $x \in B_{r}(y) \subseteq B_{r'}(y) \subseteq \varphi_{i}(U\cap U_{i})$, this implies $\varphi_{i}^{-1}(B_{r}(y))$ is an element of $\mathscr{B}$. Hence $\mathscr{B}$ is a basis for $M$.

	Thus every manifold has a countable basis of regular coordinate balls.
\end{proof}

\begin{exercise}{4.62}
	Prove that every manifold with boundary has a countable basis consisting of regular coordinate balls and half-balls.
\end{exercise}

\begin{proof}
	This proof uses the invariance of boundary.

	In this proof we denote by $B_{r}(x)$ an entire open ball in $\mathbb{R}^{n}$.

	First, we prove a result similar to Lemma 4.59 as follows

	\textbf{Similar to Lemma 4.59.} Let $M$ be an $n$-manifold with boundary. $B'\subseteq M$ is a (coordinate half-ball) domain of any boundary chart and $\varphi: B' \to B_{r'}(x)\cap \mathbb{H}^{n}$ is a homeomorphism where $x \in \partial\mathbb{H}^{n}$, then $\varphi^{-1}(B_{r}(x) \cap \mathbb{H}^{n})$ is a regular coordinate half-ball whenever $0 < r < r'$.

	\textit{Proof for the above result.} For every $0 < r < r'$, $B_{r}(x) \cap \mathbb{H}^{n}$ is an open subset of $B_{r'}(x) \cap \mathbb{H}^{n}$, so $B = \varphi^{-1}(B_{r}(x) \cap \mathbb{H}^{n})$ is a coordinate half-ball. Regard $\varphi^{-1}$ as a map from $\bar{B}_{r}(0) \cap \mathbb{H}^{n}$ to $M$, then $\varphi^{-1}$ is a continuous and closed map (because $\bar{B}_{r}(x) \cap \mathbb{H}^{n}$ is compact due to Heine-Borel's theorem, and $M$ is Hausdorff). By Problem~\ref{problem:2-6}, $\varphi^{-1}(\bar{B}_{r}(x) \cap \mathbb{H}^{n}) = \overline{B}$, hence $\varphi(\overline{B}) = \bar{B}_{r}(x) \cap \mathbb{H}^{n}$. Hence $\varphi^{-1}(B_{r}(x) \cap \mathbb{H}^{n})$ is a regular coordinate half-ball whenever $0 < r < r'$. $\hfill\square$

	\textbf{A basis for $\mathbb{H}^{n}$.} The collection of the following open sets
	\begin{itemize}[itemsep=0pt]
		\item $B_{r}(x)$ where $x$ is a point of $\operatorname{Int}\mathbb{H}^{n}$ with rational coordinates, $r$ is rational, and $B_{r}(x) \subseteq \operatorname{Int}\mathbb{H}^{n}$
		\item $B_{r}(x) \cap \mathbb{H}^{n}$ where $x$ is a point of $\partial\mathbb{H}^{n}$ with rational coordinates, $r$ is rational
	\end{itemize}

	is a countable basis for the subspace topology on $\mathbb{H}^{n} \subseteq \mathbb{R}^{n}$.

		[An equivalence statement to the result we have just proved is given by replacing the point $x$ in $\partial\mathbb{H}^{n}$ by $0$, and this fits the definition of regular coordinate half-ball in the book. However, for convenience, we will use the definition given at the beginning of this proof.]

	Back to the proof for the main result.

	Let $M$ be an $n$-manifold with boundary. Every point of $M$ has an Euclidean neighborhood, so $M$ is covered by those Euclidean neighborhoods. Since $M$ is second countable then the open cover made of those Euclidean neighborhoods has a countable subcover. Let $\set{U_{i}}_{i\in\mathbb{N}}$ be an open cover of $M$ made of Euclidean neighborhoods, then for each $U_{i}$, there is a homeomorphism $\varphi_{i}$ from $U_{i}$ to an open subset $\widehat{U}_{i}$ of $\mathbb{R}^{n}$ or $\mathbb{H}^{n}$.

	For every $\widehat{U}_{i}$, consider the following open sets
	\begin{itemize}
		\item (Type 1) $B_{r}(x) \subseteq \widehat{U}_{i}$ where $x$ is a point of $\operatorname{Int}\mathbb{H}^{n}$ with rational coordinates, and $r$ is a positive rational number such that there are $r' > 0$ where $B_{r}(x) \subseteq B_{r'}(x) \subseteq \operatorname{Int}\mathbb{H}^{n}$.
		\item (Type 2) $B_{r}(x) \subseteq \widehat{U}_{i}$ where $x$ is a point of $\partial\mathbb{H}^{n}$ with rational coordinates, and $r$ is a positive rational number such that there are $r' > 0$ where $B_{r}(x) \cap \mathbb{H}^{n} \subseteq B_{r'}(x) \cap \mathbb{H}^{n} \subseteq \mathbb{H}^{n}$.
	\end{itemize}

	The open sets of type 1 are regular coordinate balls, ones of type 2 are regular coordinate half-balls. The collection of all these regular coordinate balls and half-balls (where $i$ varies in $\mathbb{N}$) is countable.

	Let $U$ be an open subset of $M$, then $U = \bigcup_{i\in\mathbb{N}}(U\cap U_{i})$. $U\cap U_{i}$ is homeomorphic to $\varphi_{i}(U\cap U_{i})$. If $x \in \varphi_{i}(U\cap U_{i})$ then $x$ is either an interior point or a boundary point.

	If $x$ is an interior point, then there exists $B_{r'}(y)$ where $y\in\mathbb{Q}^{n}$ and $r'\in\mathbb{Q}$ such that $x \in B_{r'}(y) \subseteq \varphi_{i}(U\cap U_{i})$. Since $\operatorname{dist}(y, x) < r'$, there is a rational number $r$ such that $\operatorname{dist}(y, x) < r < r'$. Therefore $x \in B_{r}(y) \subseteq B_{r'}(y) \subseteq \varphi_{i}(U\cap U_{i})$, which means $x$ is contained in an open set of type 1 in $\mathscr{B}$.

	If $x$ is a boundary point, then there exists $B_{r'}(y)$ where $y\in\mathbb{Q}^{n}$ and $r'\in\mathbb{Q}$ such that $x \in B_{r'}(y) \cap \mathbb{H}^{n} \subseteq \varphi_{i}(U\cap U_{i})$. Since $\operatorname{dist}(y, x) < r'$, there is a rational number $r$ such that $\operatorname{dist}(y, x) < r < r'$. Therefore $x \in B_{r}(y) \cap \mathbb{H}^{n} \subseteq B_{r'}(y) \cap \mathbb{H}^{n} \subseteq \varphi_{i}(U\cap U_{i})$, which means $x$ is contained in an open set of type 2 in $\mathscr{B}$.

	Hence $\mathscr{B}$ is a basis for $M$. Thus every manifold with boundary has a countable basis of regular coordinate balls and half-balls.
\end{proof}

\section*{Local Compactness}\addcontentsline{toc}{section}{Local Compactness}

\begin{lemma}{4.65}\label{lemma:4.65}
	Let $X$ be a locally compact Hausdorff space. If $x\in X$ and $U$ is any neighborhood of $x$, there exists a precompact neighborhood $V$ of $x$ such that $\overline{V} \subseteq U$.
\end{lemma}

\begin{proof}
	Since $X$ is a locally compact Hausdorff space, $x$ has a precompact neighborhood $W$. $\overline{W}$ is compact and $\overline{W}\smallsetminus U = \overline{W} \cap (X\smallsetminus U)$ is a closed subset of $\overline{W}$, so $\overline{W}\smallsetminus U$ is compact.

	In a Hausdorff space, disjoint compact subsets have disjoint neighborhoods, so there exist disjoint open subsets $Y, Y'\subseteq X$ such that $\set{x} \subseteq Y$ and $\overline{W}\smallsetminus U \subseteq Y'$. Define $V = W\cap Y$ then $V \subseteq W$, which implies $\overline{V} \subseteq \overline{W}$. Therefore $\overline{V}$ is compact (because it is a closed subset of the compact set $\overline{W}$). We will show that $\overline{V}\subseteq U$.

	$Y, Y'$ are disjoint and $Y, Y'\subseteq X$ so $Y\cup Y' \subseteq X$. Hence $V = W\cap Y \subseteq Y \subseteq X\smallsetminus Y'$, it follows that $\overline{V} \subseteq \overline{Y} \subseteq \overline{X\smallsetminus Y'} = X\smallsetminus Y'$. Hence $\overline{V} \subseteq \overline{W} \cap (X\smallsetminus Y') = \overline{W} \smallsetminus Y' \subseteq U$, so $V$ is a precompact neighborhood of $x$ such that $\overline{V} \subseteq U$.
\end{proof}

\begin{exercise}{4.67}
	Show that any finite product of locally compact spaces is locally compact.
\end{exercise}

\begin{proof}
	Let $X, Y$ be locally compact spaces and $\tuple{x, y}$ be a point of $X\times Y$. Because $X, Y$ are locally compact, there exist $U_{x}, K_{x} \subseteq X$ and $U_{y}, K_{y} \subseteq Y$ such that $U_{x}, U_{y}$ are open, $K_{x}, K_{y}$ are compact, and $x\in U_{x} \subseteq K_{x}, y\in U_{y} \subseteq K_{y}$. So $\tuple{x, y} \in U_{x}\times U_{y} \subseteq K_{x} \times K_{y}$, where $U_{x}\times U_{y}$ is a product open set and $K_{x}\times K_{y}$ is compact because the product of finitely many compact spaces is compact. Hence $X\times Y$ is locally compact.

	It follows from mathematical induction that any finite product of locally compact spaces is locally compact.
\end{proof}

\begin{exercise}{4.70}
	Prove Proposition 4.69: In a Baire space, every meager subset has dense complement.
\end{exercise}

\begin{quote}
	A subset $F$ of a topological space $X$ is said to be \textbf{nowhere dense} if $\overline{F}$ has a dense complement, and $F$ is said to be \textbf{meager} if it can be expressed as a union of countably many nowhere dense subsets.
\end{quote}

\begin{proof}
	Let $X$ be a Baire space and $A\subseteq X$ is a meager subset. The meager set $A$ can be expressed as a union of countable many nowhere dense subsets $\set{U_{i}}_{i\in\mathbb{N}}$. Because $U_{i}$ is nowhere dense, $X\smallsetminus\overline{U_{i}}$ is dense for every $i\in\mathbb{N}$. By De Morgan's law and $U_{i}\subseteq \overline{U_{i}}$ for every $i\in \mathbb{N}$, we obtain
	\begin{equation*}
		X\smallsetminus A = X\smallsetminus \left(\bigcup_{i\in\mathbb{N}}U_{i}\right) = \bigcap_{i\in\mathbb{N}}(X\smallsetminus U_{i}) \supseteq \bigcap_{i\in\mathbb{N}}(X\smallsetminus \overline{U_{i}})
	\end{equation*}

	Because $X$ is a Baire space and $X\smallsetminus \overline{U_{i}}$ is a dense open subset for every $i\in\mathbb{N}$, the intersection $\bigcap_{i\in\mathbb{N}} (X\smallsetminus \overline{U_{i}})$ is dense, from which we deduce that $X\smallsetminus A$ (which is a superset of the intersection) is dense. Thus every meager subset has a dense complement.
\end{proof}

\begin{example}{4.71}
	The solution set of any polynomial equation in two variables is nowhere dense in $\mathbb{R}^{2}$.

	There are points in the plane that satisfy no rational polynomial equation.
\end{example}

\begin{proof}
	Let $f \in \mathbb{R}[x, y]$ be a nonzero polynomial in two variables. $\set{0}$ is closed in $\mathbb{R}$ and the solution set of $p$ is $f^{-1}(0)$, which is closed because $f$ is continuous. Assume that the interior (which is an open set) of $f^{-1}(0)$ is nonempty, then there is an open disk of $\mathbb{R}^{2}$ on which $f$ vanishes. This implies that $f$ is the zero polynomial, which is a contradiction. Hence the interior of $f^{-1}(0)$ is empty, so it is nowhere dense.

	There are countably many polynomials with rational coefficients, and the union of their solution sets (they are nowhere dense) is a meager subset of $\mathbb{R}^{2}$, so the complement of this meager subset is dense in $\mathbb{R}^{2}$, which implies the existence of points satisfying no rational polynomial equation.
\end{proof}

\section*{Paracompactness}\addcontentsline{toc}{section}{Paracompactness}

\begin{exercise}{4.73}
	Suppose $\mathscr{A}$ is an \textit{open} cover of $X$ such that each element of $\mathscr{A}$ intersects only finitely many others. Show that $\mathscr{A}$ is locally finite. Give a counterexample to show that this need not be true when the elements of $\mathscr{A}$ are not open.
\end{exercise}

\begin{proof}
	Because $\mathscr{A}$ is an open cover of $X$, for every element of $x$, there exists $A\in\mathscr{A}$ such that $x\in A$. Moreover, $A$ is a neighborhood of $x$ and this neighborhood intersects at most finitely many elements of $\mathscr{A}$ (including $A$). Therefore $\mathscr{A}$ is locally finite.

	Here is a counterexample: Consider the Euclidean space $\mathbb{R}^{n}$ where $n > 1$. Define $\mathscr{A}$ to be the following collection consisting of $\set{0}$ and $\set{ \lambda v : \lambda > 0 }$ for each $v\in \mathbb{R}^{n}$ such that $\abs{v} = 1$. $\mathscr{A}$ is a cover of $X$ where every element of $\mathscr{A}$ is not open. However $\mathscr{A}$ is not locally finite, because any neighborhood of $0$ intersects infinitely many (all) elements of $\mathscr{A}$.
\end{proof}

\subsection*{Normal Spaces}\addcontentsline{toc}{subsection}{Normal Spaces}

\begin{exercise}{4.78}
	Show that every compact Hausdorff space is normal.
\end{exercise}

\begin{proof}
	Suppose $X$ is a compact Hausdorff space.

	Let $A, B$ be two disjoint closed subsets of $X$. Closed subsets of a compact space are compact, so $A, B$ are compact subsets of $X$. In a Hausdorff space, two disjoint compact sets have disjoint neighborhoods. Hence there exist disjoint open subsets $U, V\subseteq X$ such that $A\subseteq U$ and $B\subseteq V$. By definition, $X$ is normal.
\end{proof}

\begin{exercise}{4.79}
	Show that every closed subspace of a normal space is normal.
\end{exercise}

\begin{proof}
	Suppose $X$ is a normal space and $S$ is a closed subspace of $X$.

	$X$ is Hausdorff so its subspaces are Hausdorff. Therefore $S$ is Hausdorff. Let $A, B$ be disjoint closed subsets of $S$. Because $A, B$ are closed in $S$ (with the subspace topology) and $S$ is closed in $X$, it follows that $A, B$ are closed in $X$. $X$ is normal, so there are disjoint open sets $U, V\subseteq X$ such that $A\subseteq U$ and $B\subseteq V$. Furthermore, $S\cap U$ and $S\cap V$ are open subsets of $S$, $A$ and $B$ are separated by open subsets $S\cap U$ and $S\cap V$ of $S$. Hence $S$ is normal.

	Thus every closed subspace of a normal space is normal.
\end{proof}

\begin{lemma}{4.80}\label{lemma:4.80}
	Let $X$ be a Hausdorff space. Then $X$ is normal if and only if it satisfies the following condition: whenever $A$ is a closed subset of $X$ and $U$ is a neighborhood of $A$, there exists a neighborhood $V$ of $A$ such that $\overline{V} \subseteq U$.
\end{lemma}

\begin{proof}
	$(\Longrightarrow)$ $X$ is normal.

	Let $A$ be a closed subset of $X$, $U$ be a neighborhood of $A$, and $B = X\smallsetminus U$. $A, B$ are disjoint closed subsets of $X$ so there are disjoint open subsets $V, W$ such that $A \subseteq V, B \subseteq W$. On the other hand $V \subseteq X\smallsetminus W$. $\overline{V}$ is the smallest closed set containing $V$, $X\smallsetminus W$ is a closed set containing $V$, so $\overline{V} \subseteq X\smallsetminus W \subseteq X\smallsetminus B = U$. Hence there is a neighborhood $V$ of $A$ such that $\overline{V} \subseteq U$.

	$(\Longleftarrow)$ Whenever $A$ is a closed subset of $X$ and $U$ is a neighborhood of $A$, there exists a neighborhood $V$ of $A$ such that $\overline{V} \subseteq U$.

	Let $A, B$ be disjoint closed subsets of $X$. $X\smallsetminus B$ is a neighborhood of $A$, so there is a neighborhood $V\supseteq A$ such that $\overline{V} \subseteq X\smallsetminus B$, then $X\smallsetminus \overline{V} \supseteq B$. Hence $A, B$ have disjoint neighborhoods $V$ and $X\smallsetminus \overline{V}$. Therefore $X$ is normal.
\end{proof}

\begin{theorem}{4.81}
	Every paracompact Hausdorff space is normal.
\end{theorem}

\begin{proof}
	Suppose $X$ is a paracompact Hausdorff space.

	\textbf{Prove that $X$ is regular.}

	Let $A$ be a closed subset of $X$ and $q\in X\smallsetminus A$, then $\set{q}$ is closed in $X$ (because every finite subset of a Hausdorff space is closed).

	For each $p\in A$, there are disjoint open subsets $U_{p}\ni p$ and $V_{p}\ni q$, because of the Hausdorff property of $X$. The collection $\set{U_{p}}_{p\in A} \cup \set{X\smallsetminus A}$ is an open cover of $X$. By paracompactness, this collection has a locally finite open refinement $\mathcal{W}$. Each open sets in $\mathcal{W}$ is contained either in $U_{p}$ for some $p\in A$, or in $X\smallsetminus A$. Let $\mathcal{U}$ be the collection of sets in $\mathcal{W}$ that are contained in some $U_{p}$, then $\mathcal{U}$ is also locally finite and it is an open cover of $A$.

	Let $\mathbb{U} = \bigcup_{U\in\mathcal{U}} U_{p}$ and $\mathbb{V} = X\smallsetminus \overline{\mathbb{U}}$. By Lemma 4.75, $\overline{\mathbb{U}} = \bigcup_{U\in \mathcal{U}} \overline{U}$, because $\mathcal{U}$ is locally finite. For every $U \in \mathcal{U}$, there is $V_{p}\ni q$ that is disjoint from $U$, so $q\notin \overline{U}$ for every $U\in \mathcal{U}$. Therefore $q\notin \overline{\mathbb{U}}$, which means $q\in \mathbb{V}$. The open sets $\mathbb{U}$ and $\mathbb{V}$ are disjoint neighborhoods of $A$ and $\set{q}$. Hence $X$ is regular.

	\textbf{Prove that $X$ is normal.} (The proof is the same as for regularity.)

	Let $A, B$ be disjoint closed subsets of $X$.

	For each $p\in A$, there are disjoint open subsets $U_{p}\ni p$ and $V_{p}\supseteq B$, because of the regularity of $X$. The collection $\set{U_{p}}_{p\in A} \cup \set{X\smallsetminus A}$ is an open cover of $X$. Because $X$ is paracompact, this collection has locally finite open refinement $\mathcal{W}$. Each open sets in $\mathcal{W}$ is contained either in $U_{p}$ for some $p\in A$, or in $X\smallsetminus A$. Let $\mathcal{U}$ be the collection of sets in $\mathcal{W}$ that are contained in some $U_{p}$, then $\mathcal{U}$ is also locally finite and it is an open cover of $A$.

	Let $\mathbb{U} = \bigcup_{U\in\mathcal{U}} U$ and $\mathbb{V} = X\smallsetminus \overline{\mathbb{U}}$. By Lemma 4.75, $\overline{\mathbb{U}} = \bigcup_{U\in \mathcal{U}} \overline{U}$, because $\mathcal{U}$ is locally finite. For every $U \in \mathcal{U}$, there is $V_{p}\supseteq B$ that is disjoint from $U$, so $B \subseteq X\smallsetminus \overline{U}$ (the exterior of $U$), it follows that
	\begin{equation*}
		B \subseteq \bigcap_{U\in\mathcal{U}} X\smallsetminus \overline{U} = X\smallsetminus \left(\bigcup_{U\in\mathcal{U}}\overline{U}\right) = X\smallsetminus \overline{\mathbb{U}} = \mathbb{V}.
	\end{equation*}

	Hence $\mathbb{U}$ and $\mathbb{V}$ are disjoint neighborhoods of $A$ and $B$. Therefore $X$ is normal.
\end{proof}

\begin{theorem}{4.82}[Urysohn's Lemma]
	Suppose $X$ is a normal topological space. If $A, B \subseteq X$ are disjoint closed subsets, then there exists a continuous function $f: X \to \closedinterval{0, 1}$ such that $f\vert_{A} \equiv 0$ and $f\vert_{B} \equiv 1$.
\end{theorem}

\begin{proof}
	The following proof is a full version of the proof in the book.

	\textbf{Step 1.} Construct a family of open subsets $\set{ U_{r} \mid r \in \mathbb{Q} }$ such that
	\begin{enumerate}[label={(\roman*)},itemsep=0pt,topsep=0pt]
		\item $U_{r} = \varnothing$ when $r < 0$, and $U_{r} = X$ when $r > 1$.
		\item $U_{0} \supseteq A$.
		\item $U_{1} = X\smallsetminus B$.
		\item If $p < q$, then $\overline{U_{p}} \subseteq U_{q}$.
	\end{enumerate}

	Define $U_{1} = X\smallsetminus B$ and $U_{r}$ that satisfy (i).

	Because $X$ is normal, $A\subseteq X$ is closed and $A\subseteq U_{1}$, then there is a neighborhood $U_{0}$ of $A$ such that $\overline{U_{0}} \subseteq U_{1}$ (Lemma~\ref{lemma:4.80}).

	Let ${(r_{i})}_{i\in\mathbb{Z}_{>0}}$ be an injective sequence of rational numbers in the open interval $\openinterval{0, 1}$.

	Suppose that for $i = 1, \ldots, n$, we have chosen open subsets $U_{r_{i}}$ such that $\overline{U_{0}} \subseteq U_{r_{i}}$, $\overline{U_{r_{i}}} \subseteq U_{1}$, and $r_{i} < r_{j}$ implies $\overline{U_{r_{i}}} \subseteq U_{r_{j}}$. Consider the next rational number $r_{n+1}$ in the sequence. Let $p$ be the largest number in the set $\set{0, r_{1}, \ldots, r_{n}, 1}$ that is smaller than $r_{n+1}$ and $q$ the smallest number in the same set that is larger than $r_{n+1}$. By the inductive hypothesis, $\overline{U_{p}} \subseteq U_{q}$. From the normality of $X$ (Lemma~\ref{lemma:4.80}), we see that there is an open subset $U_{r_{n+1}} \subseteq X$ such that $\overline{U_{p}} \subseteq U_{r_{n+1}}$ and $\overline{U_{r_{n+1}}} \subseteq U_{q}$. By mathematical induction, we successfully construct open subsets $U_{r}$ that satisfy (i), (ii), (iii), (iv).

	\textbf{Step 2.} Define a function $f: X \to \closedinterval{0,1}$ such that $f\vert_{A}\equiv 0$ and $f\vert_{B}\equiv 1$.

	Let $f: X\to \mathbb{R}$ given by $f(x) = \inf\set{ r\in \mathbb{Q} : x\in U_{r} }$. By the definition of $U_{r}$, it follows that $f$ is well-defined and $f(x) \in \closedinterval{0, 1}$. Due to (i) and the definition of infimum, $f\vert_{B} \equiv 1$. Due to (ii), $f\vert_{A}\equiv 0$.

	It remains to prove that $f$ is continuous.

	\textbf{Step 3.} $f$ is continuous.

	The sets of the form $\openinterval{a, \infty}$ and $\openinterval{-\infty, a}$ form a subbasis for the Euclidean topology on $\mathbb{R}$ (which coincides with the order topology), so it suffices to show that the preimage under $f$ of these kinds of sets are open.

	We prove the following results:
	\begin{enumerate}[label={(\alph*)}]
		\item $f(x) < a \Longleftrightarrow \text{$x\in U_{r}$ for some rational $r < a$,}$

		      If $f(x) < a$ then due to the definition of infimum, $\halfopenright{f(x), a}$ intersects $\set{ r\in\mathbb{Q} : x\in U_{r} }$ at a point other than $f(x)$, so there is a rational $r$ such that $r < a$ and $x\in U_{r}$. Conversely, if $x\in U_{r}$ for some $r < a$ then $f(x) \leq r < a$, which implies $f(x) < a$.
		\item $f(x) \leq a \Longleftrightarrow \text{$x\in \overline{U_{r}}$ for all rational $r > a$.}$

		      If $f(x) \leq a$ then for every rational number $r > a$, there exists a rational number $s$ such that $x\in U_{s} \subseteq U_{r} \subseteq \overline{U_{r}}$ (here we apply (a) for $f(x) < r$).

		      Conversely, suppose $x\in \overline{U_{r}}$ for all rational $r > a$. For every rational $s > a$, there is a rational number $r$ such that $s > r > a$. From (iv), $x\in \overline{U_{r}} \subseteq U_{s}$, which implies that $f(x) \leq s$. Hence for every rational $s > a$, $f(x) \leq a$.
	\end{enumerate}

	From (a), we obtain
	\[
		f^{-1}(\openinterval{-\infty, a}) = \bigcup_{\underset{r < a}{r\in\mathbb{Q}}}U_{r}
	\]

	From (b), we obtain
	\begin{align*}
		f^{-1}(\openinterval{a, \infty}) & = f^{-1}(\mathbb{R}\smallsetminus \halfopenleft{-\infty, a})                                                                               \\
		                                 & = f^{-1}(\mathbb{R}) \smallsetminus f^{-1}(\halfopenleft{-\infty, a})            & \text{(this is a property of preimage, see Appendix A)} \\
		                                 & = X \smallsetminus \bigcup_{\underset{r \geq a}{r\in\mathbb{Q}}}\overline{U_{r}}
	\end{align*}

	So the preimages under $f$ of the sets of the form $\openinterval{-\infty, a}$ and $\openinterval{a, \infty}$ are open subsets of $X$. Hence $f$ is continuous.
\end{proof}

\begin{corollary}{4.83}[Existence of Bump Functions]
	Let $X$ be a normal space. If $A$ is a closed subset of $X$ and $U$ is a neighborhood of $A$, there exists a bump function for $A$ supported in $U$.
\end{corollary}

\begin{quote}
	Given a continuous function $f: X \to \mathbb{R}$. The support of $f$, denoted by $\operatorname{supp} f$, is the closure of the set $\set{ x\in X : f(x) \ne 0 } = f^{-1}(\mathbb{R}\smallsetminus\set{0})$.

	If $A$ is a closed subset of $X$ and $U$ is a neighborhood of $A$, a continuous function $f: X\to \closedinterval{0, 1}$ such that $f\vert_{A} \equiv 1$ and $\operatorname{supp} f \subseteq U$ is called a bump function for $A$ supported in $U$. In this definition, $A \subseteq \operatorname{supp} f \subseteq U$.
\end{quote}

\begin{proof}
	By Lemma~\ref{lemma:4.80}, there is a neighborhood $V$ of $A$ such that $\overline{V} \subseteq U$. So $A$ and $X\smallsetminus V$ are disjoint closed subsets of the normal space $X$. By Urysohn's lemma, there exists a continuous function $f: X \to \closedinterval{0, 1}$ such that $f\vert_{A}\equiv 1$ and $f\vert_{X\smallsetminus V}\equiv 0$.

	Because $f\vert_{X\smallsetminus V} \equiv 0$, it follows that $X\smallsetminus V \subseteq f^{-1}(\set{0})$, so
	\begin{align*}
		f^{-1}(\mathbb{R}\smallsetminus\set{0}) & = f^{-1}(\mathbb{R}) \smallsetminus f^{-1}(\set{0}) \\
		                                        & = X \smallsetminus f^{-1}(\set{0})                  \\
		                                        & \subseteq X\smallsetminus (X\smallsetminus V) = V
	\end{align*}

	Therefore $\operatorname{supp} f = \overline{f^{-1}(\mathbb{R}\smallsetminus\set{0})} \subseteq \overline{V} \subseteq U$. Thus $f$ is a bump function for $A$ supported in $U$.
\end{proof}

\subsection*{Partition of Unity}\addcontentsline{toc}{subsection}{Partition of Unity}

If $\mathscr{U} = {(U_{\alpha})}_{\alpha\in A}$ is an indexed open cover of $X$, a partition of unity subordinate to $\mathscr{U}$ is a family of continuous functions $\psi_{\alpha}: X\to \mathbb{R}$, indexed by the same set $A$, with the following properties:
\begin{enumerate}[label={(\roman*)},itemsep=0pt]
	\item $0 \leq \psi_{\alpha}(p) \leq 1$ for all $\alpha\in A$ and all $p\in X$.
	\item $\operatorname{supp} \psi_{\alpha} \subseteq U_{\alpha}$.
	\item The family of supports ${(\operatorname{supp}\psi_{\alpha})}_{\alpha\in A}$ is locally finite.
	\item $\sum_{\alpha\in A}\psi_{\alpha}(p) = 1$ for all $p\in X$.
\end{enumerate}

Because the family of supports ${(\operatorname{supp} \psi_{\alpha})}_{\alpha\in A}$ is locally finite, then every point $p$ of $X$ has a neighborhood $V_{p}$ that intersects $\operatorname{supp} \psi_{\alpha}$ for finitely many $\alpha\in A$. Therefore $\psi_{\alpha}(p)$ is nonzero only for finitely many $\alpha\in A$ (not necessarily every $\alpha\in A$ such that $V_{p}$ intersects $\operatorname{supp} \psi_{\alpha}$). Hence the sum in (iv) contains only finitely many nonzero terms in a neighborhood of each point $p\in X$, thus there is no problem with convergence.

\begin{lemma}{4.84}
	Suppose $X$ is a paracompact Hausdorff space. If $\mathscr{U} = {(U_{\alpha})}_{\alpha\in A}$ is an indexed open cover of $X$, then $\mathscr{U}$ admits a locally finite open refinement $\mathcal{V} = {(V_{\alpha})}_{\alpha\in A}$ indexed by the same set, such that $\overline{V_{\alpha}} \subseteq U_{\alpha}$ for each $\alpha$.
\end{lemma}

\begin{proof}
	This proof assumes the axiom of choice.

	$X$ is a paracompact Hausdorff space so $X$ is a normal space (Theorem 4.81). For each $x\in X$, there is $\alpha\in A$ such that $x\in U_{\alpha}$ since $\mathscr{U}$ covers $X$. By Lemma 4.80, there is a neighborhood $Y_{x}$ of $x$ such that $\overline{Y_{x}} \subseteq U_{\alpha}$ (each singleton set $\set{x}$ is closed because $X$ is Hausdorff and we apply Lemma 4.84 to the singleton set $\set{x}$). Because $X$ is paracompact, the open cover $\set{ Y_{x} : x\in X }$ of $X$ has a locally finite open refinement $\mathcal{Z} = {(Z_{\beta})}_{\beta\in B}$.

	For each $\beta\in B$, there is some $x\in X$ such that $Z_{\beta} \subseteq Y_{x}$, and then there is some $\alpha\in A$ such that $\overline{Z_{\beta}} \subseteq \overline{Y_{x}} \subseteq U_{\alpha}$. Define a map $f: B\to A$ by choosing such index $\alpha\in A$ for each $\beta\in B$, and let $f(\beta) = \alpha$ (this is where we use the axiom of choice).

	For each $\alpha\in A$, define $V_{\alpha} \subseteq X$ by $V_{\alpha} = \bigcup_{\beta : f(\beta) = \alpha} Z_{\beta}$. Because $\mathcal{Z}$ is locally finite, $\set{ Z_{\beta} : f(\beta) = \alpha }$ is also locally finite. By Lemma 4.75, $\overline{V_{\alpha}} = \bigcup_{\beta: f(\beta) = \alpha}\overline{Z_{\beta}}$. Because $\overline{Z_{\beta}} \subseteq U_{\alpha}$ whenever $f(\beta) = \alpha$, it follows that $\overline{V_{\alpha}} \subseteq U_{\alpha}$.

	For each $x\in X$, there is $Z_{\beta}$ such that $x\in Z_{\beta}$ because ${(Z_{\beta})}_{\beta\in B}$ covers $X$. Moreover, $\overline{Z_{\beta}} \subseteq U_{f(\beta)}$, so $x \in V_{f(\beta)}$. Hence ${(V_{\alpha})}_{\alpha\in A}$ is an open cover of $X$.

	Hence ${(V_{\alpha})}_{\alpha\in A}$ is a locally finite open refinement of ${(U_{\alpha})}_{\alpha\in A}$ such that $\overline{V_{\alpha}} \subseteq U_{\alpha}$.
\end{proof}

\begin{theorem}{4.85}\label{theorem:4.85}
	Let $X$ be a paracompact Hausdorff space. If $\mathscr{U}$ is any indexed open cover of $X$, then there is a partition of unity subordinate of $\mathscr{U}$.
\end{theorem}

\begin{proof}
	Let $\mathscr{U} = {(U_{\alpha})}_{\alpha\in A}$. Applying Lemma 4.84 twice, we obtain locally finite open covers ${(V_{\alpha})}_{\alpha\in A}$ and ${(W_{\alpha})}_{\alpha\in A}$ such that $\overline{W_{\alpha}} \subseteq V_{\alpha}$ and $\overline{V_{\alpha}} \subseteq U_{\alpha}$.

		[We apply Lemma 4.84 twice in order to make use of local finiteness.]

	By Corollary 4.83, there is a bump function $f_{\alpha}: X \to \closedinterval{0, 1}$ for $\overline{W_{\alpha}}$ supported in $V_{\alpha}$. Define $f: X \to \mathbb{R}$ by $f = \sum_{\alpha\in A}f_{\alpha}$. Since $\operatorname{supp} f_{\alpha} \subseteq V_{\alpha}$ and ${(V_{\alpha})}_{\alpha\in A}$ is locally finite, the family ${(\operatorname{supp} f_{\alpha})}_{\alpha\in A}$ is locally finite.

	${(W_{\alpha})}_{\alpha\in A}$ is locally finite so the sum $\sum_{\alpha\in A}f_{\alpha}(p)$ has only finite nonzero terms in some neighborhood of $p$. Therefore $f$ is continuous due to the local criterion for continuity and the sum of finite continuous functions is continuous.

	$\set{W_{\alpha}}$ cover $X$, so for each $p\in X$, there is $\alpha\in A$ such that $p\in W_{\alpha}$ and thus $f_{\alpha}(p) = 1$, so $f$ is positive everywhere. Therefore we can define $\psi_{\alpha}(p) = f_{\alpha}(p) / f(p)$. $\psi_{\alpha}$ is then continuous, the family ${(\operatorname{supp} \psi_{\alpha})}_{\alpha\in A}$ is locally finite, $0 \leq \psi_{\alpha}(p) \leq 1$, $\sum_{\alpha}\psi_{\alpha} \equiv 1$, $\operatorname{supp} \psi_{\alpha} \subseteq V_{\alpha} \subseteq U_{\alpha}$.

	Thus ${(\psi_{\alpha})}_{\alpha\in A}$ is a partition of unity subordinate of $\mathscr{U}$.
\end{proof}

\begin{theorem}{4.86}\label{theorem:4.86}
	Every compact manifold is homeomorphic to a subset of some Euclidean space.
\end{theorem}

\begin{proof}
	Let $M$ be a compact $n$-manifold without boundary. Because $M$ is a manifold, each point of $M$ has a neighborhood that is homeomorphic to $\mathbb{R}^{n}$. Since $M$ is compact, $M$ is covered by finitely many of those neighborhoods. Hence there is a cover of $M$ consisting of open subsets $U_{1}, \ldots, U_{k}$, each of which is homeomorphic to $\mathbb{R}^{n}$. For each $i$, let $\varphi_{i}: U_{i} \to \mathbb{R}^{n}$ be a homeomorphism. Let $\psi_{1}, \ldots, \psi_{k}$ be a partition of unity subordinate to this open cover. Define functions $F_{i}: M \to \mathbb{R}^{n}$ by
	\begin{align*}
		F_{i}(x) = \begin{cases}
			           \psi_{i}(x)\varphi_{i}(x) & x\in U_{i}                                        \\
			           0                         & x\in M \smallsetminus \operatorname{supp}\psi_{i}
		           \end{cases}
	\end{align*}

	For $x\in U_{i} \cap (M \smallsetminus \operatorname{supp}\psi_{i})$, $\psi_{i}(x) = 0$ so $F_{i}(x) = 0$. Hence each $F_{i}$ is continuous by the gluing lemma.

	Define $F: M \to \mathbb{R}^{nk + k}$ by
	\begin{align*}
		F(x) = (F_{1}(x), \ldots, F_{k}(x), \psi_{1}(x), \ldots, \psi_{k}(x))
	\end{align*}

	$F$ is continuous as each component is continuous.

	Suppose $F(x) = F(y)$ for some points $x, y\in M$. Because $\sum^{k}_{i=1}\psi_{i}(x) \equiv 1$, there is $i$ such that $\psi_{i}(x) > 0$ and therefore $x\in U_{i}$. $F(x) = F(y)$ so $y \in U_{i}$. Therefore $\varphi_{i}(x) = \varphi_{i}(y)$, which implies $x = y$ because $\varphi_{i}$ is a homeomorphism. Therefore $F$ is injective.

	$F$ is a continuous map from a compact space to a Hausdorff space so $F$ is a closed map (the closed map lemma). Additionally $F$ is injective, so $F$ is a topological embedding. Thus $M$ is homeomorphic to a subset of some Euclidean space.
\end{proof}

\begin{exercise}{4.87}
	Show that every compact manifold with boundary is homeomorphic to a subset of some Euclidean space. [Hint: use the double.]
\end{exercise}

\begin{proof}
	Let $M$ be a compact $n$-manifold with boundary, then $D(M)$ is a compact $n$-manifold without boundary. By Theorem~\ref{theorem:4.86}, $D(M)$ is homeomorphic to a subset of some Euclidean space. By Theorem 3.79, there is a topological embedding from $M$ into $D(M)$. Hence $M$ is homeomorphic to a subset of some Euclidean space.
\end{proof}

\begin{theorem}{4.88}\label{theorem:4.88}
	Suppose $M$ is a topological manifold, and $B\subseteq M$ is any closed subset. Then there exists a continuous function $f: M \to \halfopenright{0, \infty}$ whose zero set is exactly $B$.
\end{theorem}

\begin{proof}
	Consider the special case in which $M = \mathbb{R}^{n}$ and $B\subseteq \mathbb{R}^{n}$ is a closed subset. If $B\ne \varnothing$, we define $f: \mathbb{R}^{n} \to \halfopenright{0, \infty}$ by
	\begin{align*}
		f(x) = \inf\set{\abs{x - y}: y\in B}.
	\end{align*}

	We will show that $f$ is well-defined, continuous and the zero set of $f$ is exactly $B$.

	For every $x\in \mathbb{R}^{n}$, the set $\set{ \abs{x - y}: y\in B }$ is a nonempty set of real numbers and is bounded below by 0, so it has a greatest lower bound (infimum). The infimum of a set of real numbers, if exists, is unique. Hence $f$ is well-defined.

	Let $x_{1}, x_{2}\in \mathbb{R}^{n}$. For every $\varepsilon > 0$, there is $y\in M$ such that $f(x_{1}) + \varepsilon > \abs{x_{1} - y}$ and there is $z\in M$ such that $f(x_{2}) + \varepsilon > \abs{x_{2} - z}$. Therefore
	\begin{align*}
		 & f(x_{2}) - f(x_{1}) < \abs{x_{2} - y} - \abs{x_{1} - y} + \varepsilon \leq \abs{(x_{2} - y) - (x_{1} - y)} + \varepsilon = \abs{x_{2} - x_{1}} + \varepsilon \\
		 & f(x_{1}) - f(x_{2}) < \abs{x_{1} - y} - \abs{x_{2} - y} + \varepsilon \leq \abs{(x_{1} - y) - (x_{2} - y)} + \varepsilon = \abs{x_{1} - x_{2}} + \varepsilon
	\end{align*}

	so $\abs{f(x_{2}) - f(x_{1})} < \abs{x_{2} - x_{1}} + \varepsilon$. Taking infimum (as $\varepsilon > 0$ varies), we obtain
	\begin{align*}
		\abs{f(x_{2}) - f(x_{1})} \leq \inf\limits_{\varepsilon} (\abs{x_{2} - x_{1}} + \varepsilon) = \abs{x_{2} - x_{1}}.
	\end{align*}

	For every $x_{1}, x_{2} \in \mathbb{R}^{n}$ and $\varepsilon > 0$, whenever $\abs{x_{1} - x_{2}} < \delta(\varepsilon) = \varepsilon$, $\abs{f(x_{1}) - f(x_{2})} < \varepsilon$, so $f$ is uniformly continuous.

	If $x\in B$ then $f(x) = 0$ by definition. Assume that $f(x) = 0$. Suppose on the contrary that $x\notin B$. $M$ is a metric space (the Euclidean space $\mathbb{R}^{n}$) and $M\smallsetminus B$ is open so there exists $r > 0$ such that $B_{r}(x) \subseteq M\smallsetminus B$, which means $B_{r}(x)$ is disjoint from $B$. On the other hand, due to the definition of infimum, there exists $y\in B$ such that $\abs{x - y} < 0 + r = r$, which means $y \in B_{r}(x)$, which is a contradiction. Hence $x\in B$. Therefore the zero set of $f$ is exactly $B$.

	If $B = \varnothing$, we define $f(x) \equiv 1$, this function satisfies the desired properties.

	Now let $M$ be an arbitrary $n$-manifold. Let $\mathscr{U} = {(U_{\alpha})}_{\alpha\in A}$ be an open cover of $M$ by open subsets homeomorphic to $\mathbb{R}^{n}$, and let ${(\psi_{\alpha})}_{\alpha\in A}$ be a partition of unity subordinate to $\mathscr{U}$. From the particular case (in which $M = \mathbb{R}^{n}$), there are continuous functions $f_{\alpha}: U_{\alpha} \to \halfopenright{0, \infty}$ such that $f_{\alpha}^{-1}(0) = B \cap U_{\alpha}$. Define $f: M\to \mathbb{R}$ by
	\begin{align*}
		f(x) = \sum_{\alpha\in A} \psi_{\alpha}(x)f_{\alpha}(x)
	\end{align*}

	where this sum has finitely many nonzero terms due to the explanation after the definition of a partition of unity. $f(x) \geq 0$ for every $x\in M$ because $\psi_{\alpha}(x) \geq 0, f_{\alpha}(x) \geq 0$ for every $x\in M$.

	Each function $x\mapsto \psi_{A}(x)f_{\alpha}(x)$ is continuous because of the gluing lemma. The sum in the definition of $f$ is finite, so $f$ is continuous (here we implicitly use the local criterion of continuity in association with paracompactness of ${(\operatorname{supp}\psi_{\alpha})}_{\alpha\in A}$).

	If $x\in B$ then $f(x) = 0$ due to the definition of each function $f_{\alpha}$. Conversely, if $f(x) = 0$ then $\psi_{\alpha}(x)f_{\alpha}(x) = 0$ for every $\alpha\in A$ as these terms are nonnegative. On the other hand, $\sum_{\alpha\in A}\psi_{\alpha}(x) = 1$ so $\psi_{\alpha}(x)$ are not simultaneously zero. Hence there exists $\alpha\in A$ such that $f_{\alpha}(x) = 0$, which implies $x \in B\cap U_{\alpha} \subseteq B$ according to the construction of $f_{\alpha}$. Therefore $B = f^{-1}(0)$.

	Thus there is a continuous function $f: M \to \halfopenright{0, \infty}$ such that $f^{-1}(0) = B$.
\end{proof}

\begin{corollary}{4.89}
	Suppose $M$ is a topologically manifold, and $A, B$ are disjoint closed subsets of $M$. Then there exists a continuous function $f: M\to \closedinterval{0,1}$ such that $f^{-1}(1) = A$ and $f^{-1}(B)$.
\end{corollary}

\begin{proof}
	Using Theorem~\ref{theorem:4.88}, there exist functions $u, v: M \to \halfopenright{0, \infty}$ such that $u^{-1}(0) = A$ and $v^{-1}(0) = B$. Define $f(x) = \frac{v(x)}{u(x) + v(x)}$ then $f$ is continuous, $f(x) \in \closedinterval{0, 1}$, $f^{-1}(1) = A$ and $f^{-1}(0) = B$.
\end{proof}

\begin{theorem}{4.90}\label{theorem:4.90}
	Every manifold admits a positive exhaustion function.
\end{theorem}

\begin{proof}
	Let $M$ be a manifold. There exists a countable open cover $\set{U_{i}}$ of $M$ by precompact open subsets. Let $\set{\psi_{i}}$ be a partition of unity subordinate to this cover. Define $f: M\to \mathbb{R}$ by
	\begin{align*}
		f(x) = \sum^{\infty}_{k=1}k\psi_{k}(x).
	\end{align*}

	$f$ is continuous because only finitely many terms are nonzero in some neighborhood of each point of $M$. $f$ is positive because $\sum^{\infty}_{k=1}k\psi_{k}(x) \geq \sum^{\infty}_{k=1}\psi_{k}(x) = 1$.

	If $x\notin \bigcup^{m}_{i=1}\overline{U_{i}}$ then $\psi_{i}(x) = 0$ for $1\leq i\leq m$ and
	\begin{align*}
		f(x) & = \sum^{\infty}_{k=m+1}k\psi_{k}(x)                                                        \\
		     & > \sum^{\infty}_{k=m+1}m\psi_{k}(x)                                                        \\
		     & = \sum^{\infty}_{k=1}m\psi_{k}(x)   & \text{because $\psi_{i}(x) = 0$ for $1\leq i\leq m$} \\
		     & = m.
	\end{align*}

	So $x\notin \bigcup^{m}_{i=1}\overline{U_{i}}$ implies $f(x) > m$. Therefore $f(x) \leq m$ implies $x \in \bigcup^{m}_{i=1}\overline{U_{i}}$. Let $c\in \mathbb{R}$ and $m$ be a positive integer greater than $c$. $f^{-1}(\halfopenleft{-\infty, c})$ is a closed subset of the compact set $\bigcup_{k=1}^{m}\overline{U_{k}}$, so $f^{-1}(\halfopenleft{-\infty, c})$ is compact.
\end{proof}

\section*{Proper Maps}\addcontentsline{toc}{section}{Proper Maps}

\begin{lemma}{4.91}\label{lemma:4.91}
	Suppose $X$ is a first countable Hausdorff space. A sequence in $X$ diverges to infinity if and only if it has no convergent subsequence.
\end{lemma}

\begin{quote}
	A sequence ${(x_{i})}$ in a topological space $X$ is said to \textbf{diverge to infinity} if for every compact subset $K\subseteq X$ there are at most finitely many values of $i$ for which $x_{i} \in K$.
\end{quote}

\begin{proof}
	$(\Longrightarrow)$ Assume that ${(x_{i})}$ is a sequence in $X$ that diverges to infinity.

	If ${(x_{i})}$ has a convergent subsequence ${(x_{i_{j}})}$ that converges to $x$ then $K = \set{ x_{i_{j}} : j\in\mathbb{N} } \cup \set{x}$ is compact by Proposition 4.31. This contradicts the definition of divergence to infinity. Hence ${(x_{i})}$ has no convergent subsequence.

	$(\Longleftarrow)$ Assume that ${(x_{i})}$ has no convergent sequence.

	Suppose on the contrary that there is a compact subset $K$ of $X$ such that there are infinitely many values of $i$ for which $x_{i} \in K$, then there is a subsequence ${(x_{i_{j}})}$ such that $x_{i_{j}}\in K$ for all $j$. Compactness implies limit point compactness, and in first countable Hausdorff spaces, limit point compactness implies sequential compactness. Therefore the subsequence ${(x_{i_{j}})}$ has a convergent subsequence, which means ${(x_{i})}$ has a convergent subsequence, which is a contradiction. Hence ${(x_{i})}$ diverges to infinity.
\end{proof}

\begin{prop}{4.92}
	Suppose $X$ and $Y$ are topological spaces and $F: X\to Y$ is a proper map. Then $F$ takes every sequence diverging to infinity in $X$ to a sequence diverging to infinity in $Y$.
\end{prop}

\begin{quote}
	If $X$ and $Y$ are topological spaces, a map $F: X\to Y$ is said to be \textbf{proper} if the preimage of each compact subset of $Y$ is compact.
\end{quote}

\begin{proof}
	Let ${(x_{i})}$ be a sequence in $X$ diverging to infinity. Define the sequence ${(y_{i})}$ by $y_{i} = F(x_{i})$ for every $i\in\mathbb{N}$. For every compact subset $K\subseteq Y$, $F^{-1}(K)$ is compact and there are at most finitely many values of $i$ for which $x_{i} \in F^{-1}(K)$. Therefore there are at most finitely many values of $i$ for which $y_{i} \in K$ (proved by contradiction). Hence ${(y_{i})}$ diverges to infinity. Thus a proper map takes every sequence diverging to infinity to a sequence diverging to infinity.
\end{proof}

\begin{prop}{4.93}[Sufficient Conditions for Properness] Suppose $X$ and $Y$ are topological spaces, and $F: X\to Y$ is a continuous map.
	\begin{enumerate}[label={(\alph*)}]
		\item If $X$ is compact and $Y$ is Hausdorff, then $F$ is proper.
		\item If $X$ is a second countable Hausdorff space, $Y$ is a Hausdorff space and $F$ takes sequences diverging to infinity in $X$ to sequences diverging to infinity in $Y$, then $F$ is proper.
		\item If $F$ is a closed map with compact fibers, then $F$ is proper.
		\item If $F$ is a topological embedding with closed image, then $F$ is proper.
		\item If $Y$ is Hausdorff and $F$ has a continuous left inverse, then $F$ is proper.
		\item If $F$ is proper and $A \subseteq X$ is any subset that is saturated with respect to $F$, then $F\vert_{A}: A \to F(A)$ is proper.
	\end{enumerate}
\end{prop}

\begin{proof}
	\begin{enumerate}[label={(\alph*)}]
		\item Let $K$ be a compact subspace of $Y$. Because $Y$ is Hausdorff, $K$ is closed. The preimage of any closed subset under a continuous map is also closed, so $F^{-1}(K) \subseteq X$ is closed. $X$ is compact, any closed subset of a compact space is compact, so $F^{-1}(K)$ is compact. Therefore $F$ is proper.
		\item Let $K$ be a compact subspace of $Y$. Suppose on the contrary that there is a sequence ${(x_{i})}$ in $F^{-1}(K)$ that is not subconvergent. By Lemma~\ref{lemma:4.91}, ${(x_{i})}$ diverges to infinity, so the sequence ${(F(x_{i}))}$ in $Y$ diverges to infinity. This is a contradiction because $F(x_{i})$ lies in the compact set $K$ for all $i\in\mathbb{N}$.

		      Hence every sequence in $F^{-1}(K)$ is subconvergent, which means $F^{-1}(K)$ is sequentially compact. $F^{-1}(K)$ is a subspace of $X$ and $X$ is second countable, then so is $F^{-1}(K)$. In a second countable space, sequential compactness implies compactness, so $F^{-1}(K)$ is compact. Thus $F$ is proper.
		\item Let $K$ be a compact subspace of $Y$. Let $\mathscr{U}$ be an open cover of $F^{-1}(K)$ in $X$. For every $y\in K$, $F^{-1}(y)$ is compact, hence is covered by finitely many open sets from $\mathscr{U}$, denote them by $U_{1}, \ldots, U_{k}$. The set $A_{y} = X\smallsetminus \bigcup^{k}_{i=1}U_{i}$ is closed in $X$ and disjoint from $F^{-1}(y)$, so $V_{y} = Y\smallsetminus F(A_{y})$ is open in $Y$ and contains $y$. Therefore
		      \begin{align*}
			      F^{-1}(V_{y}) & = F^{-1}(Y\smallsetminus F(A_{y}))                         \\
			                    & = X \smallsetminus F^{-1}(F(A_{y}))                        \\
			                    & \subseteq X \smallsetminus A_{y} = \bigcup^{k}_{i=1}U_{i}.
		      \end{align*}

		      $K$ is compact so it is covered by finitely many of the sets $V_{y}$, so $F^{-1}(K)$ is covered by finitely many of the sets $F^{-1}(V_{y})$. Each $F^{-1}(V_{y})$ is covered by finitely many sets from $\mathscr{U}$, so $F^{-1}(K)$ is covered by finitely many sets from $\mathscr{U}$, which means $F^{-1}(K)$ is compact.
		\item $F$ is a topological embedding with closed image then $F$ is a closed map. Because $F$ is injective, every fiber of $F$ is finite (either empty or singleton), hence compact. It follows from (c) that $F$ is proper.
		\item Let $G$ be a continuous left inverse of $F$, then $G\circ F = \operatorname{Id}_{X}$. Let $K$ be a compact subset of $Y$ then $G(K)$ is compact. For every $x\in F^{-1}(K)$, $x = G(F(x)) \in G(K)$, so $F^{-1}(K) \subseteq G(K)$. $K\subseteq Y$ is compact and $Y$ is Hausdorff so $K$ is closed, hence $F^{-1}(K)$ is closed due to the continuity of $F$. Because $F^{-1}(K)$ is a closed subset of the compact set $G(K)$, it is compact.
		\item Let $K$ be a compact subset of $F(A)$ then $K$ is also a compact subset of $Y$. ${(F\vert_{A})}^{-1}(K) = F^{-1}(K)$ because $A$ is saturated. $F^{-1}(K) \subseteq A \subseteq X$ is compact in $X$ so $F^{-1}(K)$ is compact in $A$. Hence $F$ is proper.
	\end{enumerate}
\end{proof}

\begin{lemma}{4.94}
	First countable spaces and locally compact spaces are compactly generated.
\end{lemma}

\begin{quote}
	A topological space $X$ is said to be \textbf{compactly generated} if it has the following property: if $A$ is any subset of $X$ whose intersection with each compact subset $K\subseteq X$ is closed in $K$, then $A$ is closed in $X$. We can replace ``closed'' with ``open'' to obtain an equivalent definition.
\end{quote}

\begin{proof}
	Let $X$ be a topological space that satisfies either of these two properties and $A$ is a subset of $X$ whose intersection with each compact subset $K\subseteq X$ is closed in $K$. Let $x \in \overline{A}$, we will show that $x\in A$.

	Assume $X$ is first countable. By the sequence lemma (Problem~\ref{problem:2-14}), there is a sequence ${(a_{i})}$ of points in $A$ converging to $x$. The set $K = \set{ a_{i} : i\in\mathbb{N} } \cup \set{x}$ is compact by Proposition 4.31, so $A\cap K$ is closed in $K$ by the hypothesis. $x$ is the limit of ${(a_{i})}$ so it is the limit of a subsequence of ${(a_{i})}$ in $A\cap K$. Because $A\cap K$ is closed, it contains $x$, so $x\in A$.

	Assume $X$ is locally compact. Let $K$ be a compact subset of $X$ containing a neighborhood $U$ of $x$. If $V$ is any neighborhood of $x$, then $x\in \overline{A}$ implies that $V\cap U$ contains a point of $A$ because $V\cap U$ is a neighborhood of $x$. $V\cap U \subseteq K$ and $V\cap U$ intersects $A$ so $V\cap U$ contains a point of $A\cap K$, which means $V$ contains a point of $A\cap K$. Therefore $x$ is in the closure of $A\cap K$ in $K$. Because $A\cap K$ is closed in $K$, it follows that $x \in A\cap K \subseteq A$.

	So $x\in A$ for any $x\in \overline{A}$, which means $A$ is closed. Thus $X$ is compactly generated.
\end{proof}

\section*{Problems}

\begin{problem}{4-1}\label{problem:4-1}
Show that for $n > 1$, $\mathbb{R}^{n}$ is not homeomorphic to any open subset of $\mathbb{R}$.
\end{problem}

\begin{proof}
	Let $n$ be a positive integer greater than $1$. Assume that $\mathbb{R}^{n}$ is homeomorphic to an open subset $U\subseteq \mathbb{R}$, then $U$ is nonempty and there is a homeomorphism $\varphi: \mathbb{R}^{n} \to U$. Let $p$ be a point of $U$. Since $U\subseteq \mathbb{R}$ is open, $U$ is an union of disjoint open intervals, and $x$ lies in one of those open intervals, denote such open interval by $\openinterval{a, b}$, then $\openinterval{a, b}\smallsetminus\set{p}$ is disconnected. Therefore $U\smallsetminus\set{p}$ is disconnected. Because $\varphi$ is a homeomorphism, $\varphi^{-1}(U\smallsetminus\set{p}) = \mathbb{R}^{n} \smallsetminus \set{\varphi^{-1}(p)}$.

	We will show that $\mathbb{R}^{n}\smallsetminus\set{0}$ is path-connected. Let $x, y$ be two points of $\mathbb{R}^{n}\smallsetminus\set{0}$. Because $n > 1$, there exists a nonzero vector $v\in \mathbb{R}^{n}$ such that $x, y$ are not multiples of $v$. Let $v_{x} = \frac{\abs{x}}{\abs{v}}v$ and $v_{y} = \frac{\abs{y}}{\abs{v}}v$. We will construct
	\begin{itemize}
		\item a path in $\mathbb{R}^{n}\smallsetminus\set{0}$ from $x$ to $v_{x}$

		      Note that $\abs{x} = \abs{v_{x}}$. $x = (x_{1}, \ldots, x_{n})$ and $v_{x} = (v_{x,1}, \ldots, v_{x,n})$.

		      There exist $\varphi_{x,1}, \ldots, \varphi_{x,n-1} \in \mathbb{R}$ such that
		      \begin{align*}
			      x_{1}   & = \abs{x}\cos(\varphi_{x,1})                                                 \\
			      x_{2}   & = \abs{x}\sin(\varphi_{x,1})\cos(\varphi_{x,2})                              \\
			      \cdots  &                                                                              \\
			      x_{n-1} & = \abs{x}\sin(\varphi_{x,1})\cdots\sin(\varphi_{x,n-2})\cos(\varphi_{x,n-1}) \\
			      x_{n}   & = \abs{x}\sin(\varphi_{x,1})\cdots\sin(\varphi_{x,n-2})\sin(\varphi_{x,n-1})
		      \end{align*}

		      Also there exist $\varphi_{v_{x},1}, \ldots, \varphi_{v_{x},n-1} \in \mathbb{R}$ such that
		      \begin{align*}
			      v_{x,1}   & = \abs{x}\cos(\varphi_{v_{x},1})                                                         \\
			      v_{x,2}   & = \abs{x}\sin(\varphi_{v_{x},1})\cos(\varphi_{v_{x},2})                                  \\
			      \cdots    &                                                                                          \\
			      v_{x,n-1} & = \abs{x}\sin(\varphi_{v_{x},1})\cdots\sin(\varphi_{v_{x},n-2})\cos(\varphi_{v_{x},n-1}) \\
			      v_{x,n}   & = \abs{x}\sin(\varphi_{v_{x},1})\cdots\sin(\varphi_{v_{x},n-2})\sin(\varphi_{v_{x},n-1})
		      \end{align*}

		      The maps $f_{i}: \closedinterval{0, 1} \to \mathbb{R}$ given by
		      \begin{equation*}
			      f_{i}(t) = \abs{x}\sin((1-t)\varphi_{x,1} + t\varphi_{v_{x},1})\cdots \sin((1-t)\varphi_{x,i-1} + t\varphi_{v_{x},i-1})\cos((1-t)\varphi_{x,i} + t\varphi_{v_{x},i})
		      \end{equation*}

		      if $i < n$ and
		      \begin{equation*}
			      f_{n}(t) = \abs{x}\sin((1-t)\varphi_{x,1} + t\varphi_{v_{x},1})\cdots \sin((1-t)\varphi_{x,n-1} + t\varphi_{v_{x},n-1})
		      \end{equation*}

		      are continuous. So ${(f_{1}(t))}^{2} + \cdots + {(f_{n}(t))}^{2} = \abs{x}^{2} \ne 0$ for every $t\in \closedinterval{0,1}$. Hence the map $f_{x}: \closedinterval{0, 1} \to \mathbb{R}^{n}\smallsetminus\set{0}$ given by
		      \begin{equation*}
			      f_{x}(t) = (f_{1}(t), \ldots, f_{n}(t))
		      \end{equation*}

		      is continuous, due to the characteristic property of product topology. Hence $f$ is a path in $\mathbb{R}^{n}\smallsetminus\set{0}$ from $x$ to $v_{x}$.
		\item a path in $\mathbb{R}^{n}\smallsetminus\set{0}$ from $v_{x}$ to $v_{y}$

		      The map $f: \closedinterval{0, 1} \to \mathbb{R}^{n}\smallsetminus\set{0}$ given by
		      \begin{equation*}
			      f(t) = (1 - t)v_{x} + tv_{y}
		      \end{equation*}

		      is continuous (this map is well-defined because the line segment connecting $v_{x}$ and $v_{y}$ lies entirely in $\mathbb{R}^{n}\smallsetminus\set{0}$) so there is a path in $\mathbb{R}^{n}$ from $v_{x}$ to $v_{y}$.
		\item a path in $\mathbb{R}^{n}\smallsetminus\set{0}$ from $v_{y}$ to $y$

		      Similar to the first contruction, we can construct a path $f_{y}$ in $\mathbb{R}^{n}\smallsetminus\set{0}$ from $v_{y}$ to $y$.
	\end{itemize}

	From these constructions, we deduce that there are continuous maps $g_{x}: \closedinterval{0, \frac{1}{3}} \to \mathbb{R}^{n}\smallsetminus\set{0}$ such that $g_{x}(0) = x$ and $g_{x}(1/3) = v_{x}$, $g: \closedinterval{\frac{1}{3}, \frac{2}{3}} \to \mathbb{R}^{n}\smallsetminus\set{0}$ such that $g(1/3) = v_{x}$ and $g(2/3) = v_{y}$, $g_{y}: \closedinterval{\frac{2}{3}, 1} \to \mathbb{R}^{n}\smallsetminus\set{0}$ such that $g_{y}(2/3) = v_{y}$ and $g_{y}(1) = y$. By the gluing lemma, there is a unique continuous map $f: \closedinterval{0, 1} \to \mathbb{R}^{n}\setminus \set{0}$ such that $f\vert_{\closedinterval{0, \frac{1}{3}}} = g_{x}$, $f\vert_{\closedinterval{\frac{1}{3}, \frac{2}{3}}} = g$, $f\vert_{\closedinterval{\frac{2}{3}, 1}} = g_{y}$. Hence there is a path in $\mathbb{R}^{n}\smallsetminus\set{0}$ from $x$ to $y$.

	Back to the set $\mathbb{R}^{n}\smallsetminus\set{\varphi^{-1}(p)}$. For every $c, d \in \mathbb{R}^{n}\smallsetminus\set{\varphi^{-1}(p)}$, there is a path in $\mathbb{R}^{n}\smallsetminus\set{0}$ from $c - \varphi^{-1}(p)$ to $d - \varphi^{-1}(p)$, so there is a path in $\mathbb{R}^{n}\smallsetminus\set{\varphi^{-1}(p)}$ from $c$ to $d$. Therefore $\mathbb{R}^{n}\smallsetminus\set{\varphi^{-1}(p)}$ is path-connected. Since $\varphi$ is a homeomorphism
	\begin{equation*}
		U\smallsetminus\set{p} = \varphi(\varphi^{-1}(U\smallsetminus\set{p})) = \varphi(\mathbb{R}^{n}\smallsetminus\set{\varphi^{-1}(p)})
	\end{equation*}

	is also path-connected, which is a contradiction because $U\smallsetminus\set{p}$ is disconnected.

	Thus for $n > 1$, $\mathbb{R}^{n}$ is not homeomorphic to any open subset $U\subseteq \mathbb{R}$.
\end{proof}

\begin{problem}{4-2}\label{problem:4-2}
\textsc{Invariance of Dimension, 1-Dimensional Case:} Prove that a nonempty topological space cannot be both a 1-manifold and an $n$-manifold for some $n > 1$.
\end{problem}

\begin{proof}
	Let $M$ be a nonempty $n$-manifold where $n > 1$. Assume that $M$ is also a 1-manifold. Let $x$ be a point of $M$. Because $M$ is an $n$-manifold and a 1-manifold, $x$ has a neighborhood $U$ which admits a homeomorphism $\varphi: U\to \mathbb{R}^{n}$ and a neighborhood $V$ which admits a homeomorphism $\psi: V\to \mathbb{R}$. $U\cap V$ is nonempty because it contains $x$ and it is open. The restrictions $\varphi\vert_{U\cap V}: U\cap V \to \varphi(U\cap V)$ and $\psi\vert_{U\cap V}: U\cap V \to \psi(U\cap V)$ are also a homemorphisms. Since $\varphi(U\cap V)$ is open (because a homemorphism is an open map), there is an open $n$-ball $B^{n}_{r}(\varphi(x)) \subseteq \varphi(U\cap V)$. Denote by $W$ the preimage $\varphi^{-1}(B^{n}_{r}(\varphi(x)))$ then $W\subseteq U\cap V$. The restrictions $\varphi\vert_{W}: W \to \varphi(W) = B^{n}_{r}(\varphi(x))$ and $\psi\vert_{W}: W \to \psi(W)$ are also homeomophism, so the open $n$-ball $B^{n}_{r}(\varphi(x))$ and $\psi(W)$ are homeomorphic. On the other hand, every open $n$-ball is homeomorphic to $\mathbb{R}^{n}$ and $\mathbb{R}^{n}$ is not homeomorphic to $\psi(W)$ (which is an open subset of $\mathbb{R}$) according to Problem~\ref{problem:4-1}, hence the contradiction. Thus a nonempty topological space cannot be both a 1-manifold and an $n$-manifold for some $n > 1$.
\end{proof}

\begin{problem}{4-3}
\textsc{Invariance of the Boundary, 1-Dimensional Case:} Suppose $M$ is a 1-dimensional manifold with boundary. Show that a point of $M$ cannot be both a boundary point and an interior point.
\end{problem}

\begin{proof}
	Firstly, we prove that $\mathbb{R}$ and $\mathbb{H}$ are not homeomorphic. Assume that there is a homeomorphism $f: \mathbb{H} \to \mathbb{R}$. $\mathbb{H}\smallsetminus\set{0}$ is path-connected, however, $\mathbb{R}\smallsetminus\set{f(0)}$ is not path-connected, which is a contradiction because a homeomorphism preserves path-connectedness. Hence $\mathbb{R}$ and $\mathbb{H}$ are not homeomorphic.

	Assume that $M$ has a point $x$ which is both a boundary point and an interior point. Because $x$ is a boundary point, $x$ is in the domain of a boundary chart $(U, \varphi)$ where $\varphi(x) \in \partial\mathbb{H}$ (which implies $\varphi(x) = 0$). Because $x$ is an interior point, $x$ is in the domain of an interior chart $(V, \psi)$. $U\cap V$ is a neighborhood of $x$ and the restrictions $\varphi\vert_{U\cap V}: U\cap V \to \varphi(U\cap V)$, $\psi\vert_{U\cap V}: U\cap V \to \psi(U\cap V)$. Since $\varphi(U\cap V)$ is open and $\varphi(x) = 0$, there exists $r > 0$ such that $\halfopenright{0, r} \subseteq \varphi(U\cap V)$.

	Denote $W = \varphi^{-1}(\halfopenright{0, r})$ then $W \subseteq U\cap V$. It follows that $\halfopenright{0, r}$ and $W$ are homeomorphic, $W$ and $\psi(W)$ are homeomorphic. On the other hand, $W$ is open (because $\halfopenright{0, a} \subseteq \mathbb{H}$ is open) and $\varphi$ is continuous, so $\psi(W) \subseteq \mathbb{R}$ is open (because $\psi$ is a homeomorphism, hence an open map), so $\halfopenright{0, r} \subseteq \mathbb{H}$ is homeomorphic to an open subset $A\subseteq \mathbb{R}$.

	Since $\halfopenright{0, r}$ is connected, $A$ is also connected. $A$ is a connected and open subset of $\mathbb{R}$ so $A$ is an open interval. $\halfopenright{0, r}$ is homeomorphic to $\mathbb{H}$, an open interval is homeomorphic to $\mathbb{R}$, hence $\mathbb{R}$ and $\mathbb{H}$ are homeomorphic, which is a contradiction.

	Thus a point of a 1-dimensional manifold with boundary cannot be both a boundary point and an interior point.
\end{proof}

\begin{problem}{4-4}
Show that the following topological spaces are not manifolds
\begin{enumerate}[label={(\alph*)}]
	\item the union of the $x$-axis and the $y$-axis in $\mathbb{R}^{2}$
	\item the conical surface $C\subseteq \mathbb{R}^{3}$ defined by
	      \begin{equation*}
		      C = \set{(x,y,z) : z^{2} = x^{2} + y^{2}}
	      \end{equation*}
\end{enumerate}
\end{problem}

\begin{proof}
	\begin{enumerate}[label={(\alph*)}]
		\item Assume that $M = (\mathbb{R}\times\set{0}) \cup (\set{0}\times\mathbb{R}) \subseteq \mathbb{R}^{2}$ is an $n$-manifold for some positive integer $n$.

		      Let $x$ be a nonzero real number. From the definition of manifold, $x$ has a neighborhood $U$ which is homeomorphic to an open subset of $\mathbb{R}^{n}$. On the other hand, a basis for the topology on $M$ is obtained by taking the intersection of $M$ and open balls in $\mathbb{R}^{2}$, so there is an open ball $B_{r}(\tuple{x,0})$ such that $\tuple{x,0} \in B_{r}(\tuple{x,0}) \cap M \subseteq U$. Let $\varepsilon$ be a positive number such that $\varepsilon < \min\set{r, \abs{x}}$ then
		      \begin{equation*}
			      \tuple{x, 0} \in \openinterval{x - \varepsilon, x + \varepsilon} \times \set{0} \subseteq B_{r}(\tuple{x,0}) \cap M \subseteq U.
		      \end{equation*}

		      $\openinterval{x - \varepsilon, x + \varepsilon} \times \set{0}$ is a neighborhood of $(x, 0)$ in $M$ and it is homeomorphic to an open subset of $\mathbb{R}$ and an open subset of $\mathbb{R}^{n}$. From Problem~\ref{problem:4-2}, we deduce that $n = 1$.

		      Because $M$ is a 1-manifold, $\tuple{0,0}$ has a neighborhood $V$ which admits a homeomorphism $\varphi: V \to \mathbb{R}$. There is an open ball $B_{r}(\tuple{0,0})$ in $\mathbb{R}^{2}$ such that
		      \begin{equation*}
			      \tuple{0, 0} \in B_{r}(\tuple{0, 0}) \cap M \subseteq M.
		      \end{equation*}

		      Denote $B_{r}(\tuple{0, 0}) \cap M$ by $W$ then the restriction $\varphi\vert_{W}: W \to \varphi(W)$ is also a homeomorphism. $W$ is path-connected because it is the union of path-connected sets with a point in common (the origin)
		      \begin{equation*}
			      W = (\openinterval{-r, r} \times\set{0}) \cup (\set{0} \times \openinterval{-r, r}).
		      \end{equation*}

		      so $\varphi(W) \subseteq \mathbb{R}$ is path-connected, hence it is an interval. $W\smallsetminus\set{0}$ has four path components, namely
		      \begin{equation*}
			      \openinterval{0, r}\times\set{0};\quad \openinterval{-r, 0}\times\set{0};\quad \set{0}\times\openinterval{0, r};\quad \set{0}\times\openinterval{-r, 0}
		      \end{equation*}

		      but $\varphi(W\smallsetminus\set{0}) \subseteq \mathbb{R}$ has two path components (because it is an open interval minus a point), which is a contradiction.

		      Thus $M$ is not a manifold.
		\item Assume that $C$ is an $n$-manifold for some positive integer $n$.

		      Every point on $C$ other than $(0, 0, 0)$ is of the form $(r\cos\theta, r\sin\theta, r)$ for some $r\ne 0$. Consider a point $(r\cos\theta, r\sin\theta, r)$ where $r > 0$. The set $H = \set{ \tuple{x, y, z} \in \mathbb{R}^{3} : z > 0 }$ is open in $\mathbb{R}^{3}$, so $H \cap C$ is open in $C$ (using the subspace topology). In fact, $H\cap C$ is the set of points on $C$ with positive $z$-ordinate. The map $f: H\cap C \to \mathbb{R}^{2}$ given by $f(x, y, z) = (x, y)$ is a homeomorphism, so $(r\cos\theta, r\sin\theta, r)$ has a neighborhood that is homeomorphic to $\mathbb{R}^{2}$. From Problem~\ref{problem:4-2} we deduce that $n > 1$.

		      $\tuple{0, 0, 0}$ has a neighborhood $U \subseteq C$ which is homeomorphic to $\mathbb{R}^{n}$ with the coordinate map $\varphi$. There exists $r > 0$ such that
		      \begin{equation*}
			      \tuple{0,0,0} \in B_{r}(\tuple{0,0,0}) \cap C \subseteq U \cap C
		      \end{equation*}

		      because the set of open balls is a basis for the Euclidean topology on $\mathbb{R}^{3}$ (and taking the intersection with a subset of $\mathbb{R}^{3}$, we obtain a basis for the subspace topology).

		      Denote $B_{r}(\tuple{0,0,0}) \cap C$ by $V$. $V$ is connected. $V\smallsetminus\set{\tuple{0,0,0}}$ is disconnected since it has two components, namely
		      \begin{equation*}
			      \begin{split}
				      \set{\tuple{(x, y, z)} \in \mathbb{R}^{3} : 0 < z < r} \cap C \\
				      \set{\tuple{(x, y, z)} \in \mathbb{R}^{3} : -r < z < 0} \cap C
			      \end{split}
		      \end{equation*}

		      and $\varphi(V \smallsetminus \set{\tuple{0,0,0}})$ is therefore disconnected. However, because $\varphi(V)$ is connected, $\varphi(V \smallsetminus \set{\tuple{0,0,0}}) = \varphi(V) \smallsetminus\set{\varphi(\tuple{0,0,0})}$. A connected open subset in $\mathbb{R}^{n}$ (where $n > 1$) minus a point is still connected, hence a contradiction.

		      Thus $C$ is not a manifold.
	\end{enumerate}
\end{proof}

\begin{problem}{4-5}
Let $M = \mathbb{S}^{1}\times\mathbb{R}$, and let $A = \mathbb{S}^{1} \times \set{0}$. Show that the space $M/A$ obtained by collapsing $A$ to a point is homeomorphic to the space $C$ of Problem 4-4 (b), and thus is Hausdorff and second countable but not locally Euclidean.
\end{problem}

\begin{proof}
	The map $f: \mathbb{S}^{1}\times\mathbb{R} \to C$ given by
	\begin{equation*}
		f(\cos(2\pi t), \sin(2\pi t), r) = (r\cos(2\pi t), r\sin(2\pi t), r)
	\end{equation*}

	is continuous and surjective. We will show that $f$ is a proper map. Let $K$ be a compact subset of $C$ then $K$ is a bounded and closed subset of $\mathbb{R}^{3}$ (Heine-Borel theorem). So there exists $R > 0$ such that ${[-R, R]}^{3} \supseteq K$.

	If $K$ doesn't contain the cone point then $f^{-1}(K) = \set{\tuple{x/z, y/z, z} : \tuple{x, y, z} \in K}$. If $\tuple{a,b,c} \in f^{-1}(K)$ then $a^{2} + b^{2} + c^{2} = {(x/z)}^{2} + {(y/z)}^{2} + z^{2} = 1 + z^{2} \leq 1 + R^{2}$, which means $f^{-1}(K)$ is bounded.

	If $K$ contains the cone point then $f^{-1}(K) = \set{\tuple{x/z, y/z,z} : \tuple{x, y, z}\in K \land z\ne 0} \cup (\mathbb{S}^{1} \times \set{0})$. If $\tuple{a, b, c} \in K$ then either
	\begin{itemize}
		\item $\tuple{a, b, c}\in \set{\tuple{x/z, y/z, z} : \tuple{x,y,z}\in K \land z\ne 0}$

		      In this case, $a^{2} + b^{2} + c^{2} = {(x/z)}^{2} + {(y/z)}^{2} + z^{2} = 1 + z^{2} \leq 1 + R^{2}$.
		\item or $\tuple{a, b, c}\in \mathbb{S}^{1}\times\set{0}$

		      In this case, $a^{2} + b^{2} + c^{2} = 1 \leq 1 + R^{2}$.
	\end{itemize}

	So in either case, $f^{-1}(K)$ is bounded. On the other hand, $f^{-1}(K)$ is closed because $K$ is closed and $f$ is continuous. Therefore $f^{-1}(K)$ is a closed and bounded subset of $\mathbb{R}^{3}$, which means $f^{-1}(K)$ is compact (Heine-Borel theorem). Hence every compact subset of $C$ has a compact preimage under $f$ so $f$ is a proper map. According to Theorem 4.95, $f$ is a closed map ($f$ is a proper continuous map, and $C$ is a compactly generated Hausdorff space.) Therefore $f$ is a quotient map.

	Moreover, the quotient map $q: M\to M/A$ and $f$ have the same identification, hence $M/A$ and $C$ are homeomorphism, according to the uniqueness of quotient space. Thus $C$ is Hausdorff, second countable but not locally Euclidean.
\end{proof}

\begin{problem}{4-6}
Like Problem~\ref{problem:2-22}, this problem constructs a space that is locally Euclidean and Hausdorff but not second countable. Unlike that example, however, this one is connected.
\begin{enumerate}[label={(\alph*)}]
	\item Recall that a totally ordered set is said to be well ordered if every nonempty subset has a smallest element. Show that the well-ordering theorem implies that there exists an uncountable well-ordered set $Y$ such that for every $y_{0}\in Y$, there are only countably many $y\in Y$ such that $y < y_{0}$.
	\item Now let $\mathscr{R} = Y \times \halfopenright{0,1}$, with the \textbf{dictionary order}: this means that $(y_{1}, s_{1}) < (y_{2}, s_{2})$ if either $y_{1} < y_{2}$, or $y_{1} = y_{2}$ and $s_{1} < s_{2}$. With the order topology, $\mathscr{R}$ is called the \textbf{long ray}. The \textbf{long line} $\mathscr{L}$ is the wedge sum $\mathscr{R}\vee \mathscr{R}$ obtained by identifying both copies of $(y_{0}, 0)$ with each other, where $y_{0}$ is the smallest element in $Y$. Show that $\mathscr{L}$ is locally Euclidean, Hausdorff, and first countable, but not second countable.
	\item Show that $\mathscr{L}$ is path-connected.
\end{enumerate}
\end{problem}

\begin{proof}
	\begin{enumerate}[label={(\alph*)}]
		\item This assumes the well-ordering theorem.

		      Let $X$ be an uncountable well-ordered set. If for every element of $X$, there is only countably many elements strictly less than it, then we are done. If this is not the case, the subset $X_{0}\subseteq X$ of elements $x$ such that there are uncountably many elements strictly less than $x$, is nonempty. Due to the well-ordering theorem, $X_{0}$ has a smallest element $x_{0}$. Let $Y$ be the subset of $X$ containing element strictly less than $x_{0}$ then $Y$ is uncountable and has the desired property (otherwise, it contradicts the minimality of $x_{0}$).
		\item Denote $\mathscr{R}_{+} = Y \times \halfopenright{0, 1}$ and $\mathscr{R}_{-} = Y \times \halfopenleft{-1, 0}$. $\mathscr{R}_{+}$ and $\mathscr{R}_{-}$ are homeomorphic due to the homeomorphism $f: Y \times \halfopenright{0, 1} \to Y \times \halfopenleft{-1, 0}$ given by $f(\tuple{x, t}) = \tuple{x, -t}$. Moreover $\mathscr{R} \vee \mathscr{R}$ and $\mathscr{R}_{+} \vee \mathscr{R}_{-}$ are homeomorphic, in which the basepoint for the latter wedge sum is $\tuple{y_{0}, 0}$. Note that this is the only common point of $\mathscr{R}_{+}$ and $\mathscr{R}_{-}$.

		      \textbf{$\mathscr{R}_{+} \vee \mathscr{R}_{-}$ is locally Euclidean of dimension one.}

		      Consider an arbitrary point $\tuple{x, t}$ of $\mathscr{R}_{+} \vee \mathscr{R}_{-}$. The following cases are exhaustive
		      \begin{enumerate}[label={\textbf{Case \arabic*.}},itemindent=1cm]
			      \item $0 < t < 1$

			            There exists $\varepsilon > 0$ such that $\openinterval{t - \varepsilon, t + \varepsilon} \subseteq \halfopenright{0, 1}$. The open intervals $\openinterval{\tuple{x, t - \varepsilon}, \tuple{x, t + \varepsilon}}$ and $\openinterval{t - \varepsilon, t + \varepsilon}$ are homeomorphic due to the homeomorphism $\varphi: \openinterval{t - \varepsilon, t + \varepsilon} \to \openinterval{\tuple{x, t - \varepsilon}, \tuple{x, t + \varepsilon}}$ given by $\varphi(s) = \tuple{x, s}$.
			      \item $-1 < t < 0$ (similar to the previous case)

			            There exists $\varepsilon > 0$ such that $\openinterval{t - \varepsilon, t + \varepsilon} \subseteq \halfopenleft{-1, 0}$. The open intervals $\openinterval{\tuple{x, t - \varepsilon}, \tuple{x, t + \varepsilon}}$ and $\openinterval{t - \varepsilon, t + \varepsilon}$ are homeomorphic due to the homeomorphism $\varphi: \openinterval{t - \varepsilon, t + \varepsilon} \to \openinterval{\tuple{x, t - \varepsilon}, \tuple{x, t + \varepsilon}}$ given by $\varphi(s) = \tuple{x, s}$.
			      \item $t = 0$ and $x > y_{0}$
			      \item $t = 0$ and $x = y_{0}$

			            For every $0 < \varepsilon < 1$, $\halfopenleft{\tuple{y_{0}, -\varepsilon}, \tuple{y_{0}, 0}} \vee \halfopenright{\tuple{y_{0}, 0}, \tuple{y_{0}, \varepsilon}}$ is a neighborhood of $\tuple{y_{0}, 0}$ that is homeomorphic to the open interval $\openinterval{-\varepsilon, \varepsilon} \subseteq \mathbb{R}$.
		      \end{enumerate}

		      Hence $\mathscr{R}_{+} \vee \mathscr{R}_{-}$ is locally Euclidean of dimension one.

		      \textbf{$\mathscr{R}_{+} \vee \mathscr{R}_{-}$ is Hausdorff.}

		      Consider two distinct points $\tuple{x_{1}, t_{1}}$ and $\tuple{x_{2}, t_{2}}$ of $\mathscr{R}_{+} \vee \mathscr{R}_{-}$

		      \textbf{$\mathscr{R}_{+} \vee \mathscr{R}_{-}$ is first countable.}

		      \textbf{$\mathscr{R}_{+} \vee \mathscr{R}_{-}$ is not second countable.}
		\item % Unsolved
	\end{enumerate}
\end{proof}

\begin{note}[Characterizations of Local Connectedness]\label{note:characterizations-of-local-connectedness}
	Let $X$ be a topological space. The following statements are equivalent
	\begin{enumerate}[label={(\alph*)}]
		\item $X$ is locally connected.
		\item Every open subset of $X$ is locally connected.
		\item All components of every open subset of $X$ are open in $X$.
		\item For every $x\in X$, every neighborhood of $x$ contains a connected open set containing $x$.
		\item Every point of $X$ has a connected neighborhood basis (local basis).
	\end{enumerate}
\end{note}

\begin{proof}
	$(a)\implies (b)$ $X$ is locally connected then $X$ has a basis $\mathscr{B}$ of connected open sets. Let $U$ be an open subset of $X$ and $\mathscr{B}_{U} = \set{ B\in \mathscr{B} : B\subseteq U }$. If $x\in U$ and $V$ is a neighborhood of $x$ in $U$, then $V$ is also open in $X$, so there is $B\in\mathscr{B}$ such that $x\in B\subseteq V\subseteq U$, which implies $B\in\mathscr{B}_{U}$. Hence $\mathscr{B}_{U}$ is a basis for the subspace topology on $U$, which consists of connected open subsets of $U$. Therefore every open subset of $X$ is locally connected.

	$(b)\implies (a)$ $X$ is an open subset of $X$ so $X$ is locally connected.

	$(a)\implies (c)$ Let $U$ be an open subset of $X$, then $U$ is locally connected ($(a) \implies (b)$). Because $U$ is locally connected, every component of $U$ is open in $U$. Therefore every component of $U$ is open in $X$.

	$(c)\implies (a)$ Let $x$ be a point of $X$. For every neighborhood $U$ of $x$, all components of $U$ are open in $X$, let $C_{U,x}$ be the component of $U$ containing $x$. Therefore the collection of $C_{U,x}$ is a connected neighborhood basis of $X$, so $X$ is locally connected.

	$(a)\implies (d)$ Let $x$ be a point of $X$ and $U$ be a neighborhood of $x$. Since $X$ has a basis $\mathscr{B}$ consisting of connected open sets, there exists $B\in\mathscr{B}$ such that $x \in B\subseteq U$. Hence every neighborhood of $x$ contains a connected open set containing $x$.

	$(d)\implies (c)$ Let $U$ be an open subset of $X$ and $C$ be a component of $U$. Let $x$ be a point of $C$ then there is a connected open set $V$ such that $x\in V\subseteq U$. Since $x\in V, x\in C$ and $V, C$ are connected subsets of $U$, $V\cup C$ is a connected subset of $U$. From the maximality of $C$, it follows that $V\subseteq C$, which means there is a neighborhood of $x$ contained in $C$. This is true for every $x\in C$ so $C$ is open in $U$, hence open in $X$ (because $U\subseteq X$ is open). Hence all components of every open subset of $X$ are open in $X$.

	$(a)\implies (e)$ Let $\mathscr{B}$ be a basis of $X$ consisting connected open sets. Let $x$ be a point of $X$ and $\mathscr{B}_{x} = \set{ B\in\mathscr{B}: x\in B }$. For every neighborhood $U$ of $x$, there exists $B\in\mathscr{B}$ such that $x\in B\subseteq U$, which implies $B\in \mathscr{B}_{x}$. Hence $\mathscr{B}_{x}$ is a connected neighborhood basis of $x$.

	$(e)\implies (a)$ Since every point of $X$ has a connected neighborhood basis, the union of these neighborhood bases gives a basis for the topology on $X$, which contains connected open sets.
\end{proof}

\begin{note}[Characterizations of Local Path-Connectedness]\label{note:characterizations-of-local-path-connectedness}
	Let $X$ be a topological space. The following statements are equivalent
	\begin{enumerate}[label={(\alph*)}]
		\item $X$ is locally path-connected.
		\item Every open subset of $X$ is locally path-connected.
		\item All path components of every open subset of $X$ are open in $X$.
		\item For every $x\in X$, every neighborhood of $x$ contains a path-connected open set containing $x$.
		\item Every point of $X$ has a path-connected neighborhood basis (local basis).
	\end{enumerate}
\end{note}

\begin{proof}
	$(a)\implies (b)$ $X$ is locally path-connected then $X$ has a basis $\mathscr{B}$ of path-connected open sets. Let $U$ be an open subset of $X$ and $\mathscr{B}_{U} = \set{ B\in \mathscr{B} : B\subseteq U }$. If $x\in U$ and $V$ is a neighborhood of $x$ in $U$, then $V$ is also open in $X$, so there is $B\in\mathscr{B}$ such that $x\in B\subseteq V\subseteq U$, which implies $B\in\mathscr{B}_{U}$. Hence $\mathscr{B}_{U}$ is a basis for the subspace topology on $U$, which consists of path-connected open subsets of $U$. Therefore every open subset of $X$ is locally path-connected.

	$(b)\implies (a)$ $X$ is an open subset of $X$ so $X$ is locally connected.

	$(a)\implies (c)$ $X$ is locally path-connected so there is a basis $\mathscr{B}$ for the topology on $X$ consisting of path-connected open sets. Let $U$ be an open subset of $X$ and $C$ be a path component of $U$. For every $x\in C$, there exists $B\in\mathscr{B}$ such that $x\in B \subseteq U$. Since $C$ and $B$ have the point $x$ in common and they are path-connected, $C\cup B$ is a path-connected subset of $U$. Because of the maximality of $C$, $C\cup B = C$, so $B\subseteq C$. Hence every point of $C$ has a path-connected neighborhood contained in $C$, so $C$ is open in $X$. Therefore all path components of every open subset of $X$ are open in $X$.

	$(c)\implies (a)$ Let $x$ be a point of $X$. For every neighborhood $U$ of $x$, all path components of $U$ are open in $X$, let $P_{U,x}$ be the path component of $U$ containing $x$. The collection of $P_{U,x}$ ($x$ varies on $X$, every neighborhood $U$ of $x$) is then a basis for $X$, which consists of path-connected open sets of $X$. Hence $X$ is locally path-connected.

	$(a)\implies (d)$ Let $x$ be a point of $X$ and $U$ be a neighborhood of $x$. Since $X$ has a basis $\mathscr{B}$ consisting of path-connected open sets, there exists $B\in\mathscr{B}$ such that $x \in B\subseteq U$. Hence every neighborhood of $x$ contains a path-connected open set containing $x$.

	$(d)\implies (c)$ Let $U$ be an open subset of $X$ and $P$ be a path component of $U$. Let $x$ be a point of $P$, then there is a path-connected open set $V$ such that $x\in V\subseteq U$. Since $x\in V, x\in P$ and $V, P$ are connected subsets of $U$, $V\cup P$ is a connected subset of $U$. From the maximality of $P$, it follows that $V\subseteq P$, which means there is a neighborhood of $x$ contained in $P$. This is true for every $x\in P$ so $P$ is open in $U$, hence open in $X$ (because $U\subseteq X$ is open). Hence all path components of every open subset of $X$ are open in $X$.

	$(a)\implies (e)$ Let $\mathscr{B}$ be a basis of $X$ consisting connected open sets. Let $x$ be a point of $X$ and $\mathscr{B}_{x} = \set{ B\in\mathscr{B}: x\in B }$. For every neighborhood $U$ of $x$, there exists $B\in\mathscr{B}$ such that $x\in B\subseteq U$, which implies $B\in \mathscr{B}_{x}$. Hence $\mathscr{B}_{x}$ is a path-connected neighborhood basis of $x$.

	$(e)\implies (a)$ Since every point of $X$ has a path-connected neighborhood basis, the union of these neighborhood bases gives a basis for the topology on $X$, which contains path-connected open sets.
\end{proof}

\begin{note}[Product of Local Connected and Local Path-Connected Spaces]
	\begin{enumerate}[label={(\alph*)}]
		\item The product of finitely many local connected spaces is locally connected.
		\item The product of finitely many local path-connected spaces is locally path-connected.
	\end{enumerate}
\end{note}

\begin{proof}
	\begin{enumerate}[label={(\alph*)}]
		\item Suppose $X, Y$ are locally connected spaces.

		      Let $\mathscr{B}_{X}$ be a basis for the topology on $X$ consisting of connected open sets of $X$, $\mathscr{B}_{Y}$ be a basis for the topology on $Y$ consisting of connected open sets of $Y$.

		      For every $U\in \mathscr{B}_{X}, V\in \mathscr{B}_{Y}$, $U\times V$ is connected (because the product of two connected spaces is connected). Hence $\mathscr{B} = \set{ U\times V : U\in \mathscr{B}_{X}, V\in \mathscr{B}_{Y} }$ is a basis for the product topology on $X\times Y$ consisting of connected product open sets. Therefore $X\times Y$ is locally connected.

		      By mathematical induction, we conclude that the product of finitely many connected spaces is locally connected.
		\item The proof for local path-connectedness is similar.
	\end{enumerate}
\end{proof}

\begin{problem}{4-7}\label{problem:4-7}
Let $q: X\to Y$ be a quotient map. Show that
\begin{itemize}
	\item if $X$ is locally connected then $Y$ is locally connected,
	\item if $X$ is locally path-connected then $Y$ is locally path-connected,
	\item if $q$ is open and $X$ is locally compact, then $Y$ is locally compact.
\end{itemize}
\end{problem}

\begin{proof}
	A continuous map maps connected sets to connected sets, path-connected sets to path-connected sets, and compact sets to compact sets.

	\textbf{$X$ is locally connected.}

	Let $V$ be an open subset of $Y$, $y$ be a point of $V$, and $C_{y}$ be the component of $V$ containing $y$. We will show that $C_{y}$ is open in $Y$.

	Let $x$ be a point of $q^{-1}(C_{y})$. $q(x) \in C_{y} \subseteq V$ so $x \in q^{-1}(V)$, which is open because $q$ is continuous. Because $X$ is locally connected, $x$ has a connected neighborhood $U_{x}$ such that $x\in U_{x} \subseteq q^{-1}(V)$. Since continuous maps map connected sets to connected sets, $q(U_{x})$ is connected. Connected sets $q(U_{x})$ and $C_{y}$ have the point $q(x)$ is common so $q(U_{x}) \cup C_{y}$ is connected. On the other hand, $q(U_{x})$ and $C_{y}$ are subsets of $V$, and $C_{y}$ is a maximal connected set of $V$, so $q(U_{x}) \cup C_{y} = C_{y}$. Therefore $q(U_{x}) \subseteq C_{y}$, so $U_{x} \subseteq q^{-1}(q(U_{x})) \subseteq q^{-1}(C_{y})$, which means $U_{x}$ is a neighborhood of $x$ contained in $q^{-1}(C_{y})$.

	Because of the arbitrariness of $x$, we deduce that $q^{-1}(C_{y})$ is open. According to the definition of quotient map, $C_{y}$ is open, hence all components of every open subset of $Y$ is open in $Y$. From Note~\ref{note:characterizations-of-local-connectedness} (c), we conclude that $Y$ is locally connected.

	\textbf{$X$ is locally path-connected.}

	Let $V$ be an open subset of $Y$, $y$ be a point of $V$, and $P_{y}$ be the path component of $V$ containing $y$. We will show that $P_{y}$ is open in $Y$ and use the characterization in Note~\ref{note:characterizations-of-local-path-connectedness} (c).

	Let $x$ be a point of $q^{-1}(P_{y})$. $q(x) \in P_{y} \subseteq V$ so $x \in q^{-1}(V)$. The preimage $q^{-1}(V)$ is open because $q$ is continuous. Since $X$ is locally path-connected and $q^{-1}(V)$ is a neighborhood of $x$, there is a path-connected open set $U_{x}$ such that $x \in U_{x} \subseteq q^{-1}(V)$. Continuous maps map path-connected sets to path-connected sets so $q(U_{x})$ is path-connected. $q(U_{x})$ and $P_{y}$ are path-connected and have the point $q(x)$ in common so $q(U_{x}) \cup P_{y}$ is path-connected. Because of the maximality of $P_{y}$ (it is a path component), $q(U_{x}) \subseteq P_{y}$. Therefore $x \in U_{x} \subseteq q^{-1}(q(U_{x})) \subseteq q^{-1}(P_{y})$, which means $U_{x}$ is a neighborhood of $x$ contained in $q^{-1}(P_{y})$.

	Together with the arbitrariness of $x$, we deduce that $q^{-1}(P_{y})$ is open, so $P_{y}$ is open, since $q$ is a quotient map. Hence all path components of every open subset of $Y$ is open in $Y$, this implies $Y$ is locally path-connected.

	\textbf{$q$ is open and $X$ is locally compact.}

	Let $y$ be an element of $Y$ then there exists $x\in X$ such that $q(x) = y$. Since $X$ is locally compact, there is an open subset $U$ and a compact subset $K$ of $X$ such that $x \in U \subseteq K$. Because $q$ is continuous, $q(K)$ is a compact subset of $Y$. Because $q$ is an open map, $q(U)$ is an open subset of $Y$. Therefore $y = q(x) \in q(U) \subseteq q(K)$. Together with the arbitrariness of $y$, we conclude that $Y$ is locally compact.
\end{proof}

\begin{problem}{4-8}\label{problem:4-8}
Show that a locally connected topological space is homeomorphic to the disjoint union of its components.
\end{problem}

\begin{proof}
	Let $X$ be a locally connected topological space and $\mathscr{C}$ be the collection of its components. Denote by $Y$ the space $\coprod_{C\in\mathscr{C}}C$ with the disjoint union topology.

	Consider the map $f: X\to Y$ where $f(x)$ is defined to be $\iota_{C}(x)$ where $C$ is the component containing $x$. $f$ is well-defined because the components of a topological space give a partition of the given space. $f$ is bijective by definition.

	Let $U$ be an open subset of $X$, then $U = \bigcup_{C\in\mathscr{C}}(U\cap C)$ and $\iota_{C}(U\cap C)$ is open in $C$. Therefore $f(U)$ is open in $Y$. Hence $f$ is an open map.

	Let $V$ be an open subset of $Y$, then $V\cap C \subseteq C$ is open for every $C\in\mathscr{C}$. The preimage of $V$ is
	\begin{equation*}
		f^{-1}(V) = f^{-1}\left( \coprod_{C\in\mathscr{C}} (V\cap C) \right) = \bigcup_{C\in\mathscr{C}}\iota_{C}^{-1}(V\cap C).
	\end{equation*}

	$\iota_{C}^{-1}(V\cap C)$ is open in $C$ for every $C\in\mathscr{C}$. On the other hand, \textbf{$X$ is locally connected so every component of $X$ is open}, so $C$ is an open subset of $X$ for every $C\in\mathscr{C}$. From Exercise~\ref{exercise:3.6} (Proposition 3.5), it follows that $\iota_{C}^{-1}(V\cap C)$ is open in $X$. Hence $f^{-1}(V)$ is open in $X$. Therefore $f$ is continuous.

	Thus $f$ is a homeomorphism, which implies that $X$ is homeomorphic to the disjoint union of its components.
\end{proof}

\begin{problem}{4-9}\label{problem:4-9}
Show that every $n$-manifold is homeomorphic to a disjoint union of countably many connected $n$-manifolds, and every $n$-manifold with boundary is homeomorphic to a disjoint union of countably many connected $n$-manifolds with (possibly empty) boundaries.
\end{problem}

\begin{proof}
	Every manifold (with or without boundary) is locally path-connected (hence locally connected).

	Suppose $M$ is an $n$-manifold (with or without boundary). From Problem~\ref{problem:4-8}, $M$ is locally connected, so $M$ is homeomorphic to the disjoint union of its components. Because $M$ is locally connected, every component of $M$ is open. Assume for the sake of contradiction that $M$ has uncountably many components. $M$ is second countable so it has a countable basis $\mathscr{B}$. Each component $C$ of $M$ is open and nonempty so it contains an element $B_{C}$ of $\mathscr{B}$. Since the components of $M$ are disjoint and uncountably many, it follows that $\mathscr{B}$ is uncountably infinite, which is a contradiction. Hence $M$ has countably many components.

	Let $C$ be a component of $M$ and $x$ be an element of $C$.

	\textbf{$M$ is an $n$-manifold without boundary.}

	Because $M$ is an $n$-manifold, $x$ is contained in some coordinate ball $B$. Moreover, every coordinate ball of an $n$-manifold is connected (because it is homeomorphic to an open ball of $\mathbb{R}^{n}$) so $B$ is contained in a single component of $M$. Since $x\in B, x\in C$, then $B \subseteq C$, so $C$ is locally Euclidean of dimension $n$. On the other hand, $C\subseteq M$ is second countable and Hausdorff (with the subspace topology) so $C$ is a connected $n$-manifold. Therefore $M$ is homeomorphic to a disjoint union of countably many connected $n$-manifolds.

	\textbf{$M$ is an $n$-manifold with boundary.}

	Because $M$ is an $n$-manifold with boundary, $x$ is contained in some regular coordinate ball or half-ball $B$. Every regular coordinate ball (or half-ball) of an $n$-manifold is connected, so $B$ is connected and is contained in a single component. Since $x\in B, x\in C$, then $B\subseteq C$, so $C$ is locally Euclidean of dimension $n$. On the other hand, $C\subseteq M$ is second countable and Hausdorff (with the subspace topology) so $C$ is a connected $n$-manifold. Therefore $M$ is homeomorphic to a disjoint union of countably many connected $n$-manifolds with (possibly empty) boundaries.
\end{proof}

\begin{problem}{4-10}\label{problem:4-10}
Let $S$ be the square $I\times I$ with the order topology generated by the dictionary order.
\begin{enumerate}[label={(\alph*)}]
	\item Show that $S$ has the least upper bound property.
	\item Show that $S$ is connected.
	\item Show that $S$ is locally connected, but not locally path-connected.
\end{enumerate}
\end{problem}

\begin{proof}
	Denote by $\pi_{1}, \pi_{2}$ the canonical maps from $I\times I$ to $I$ given by $\pi_{1}(x, y) = x$ and $\pi_{2}(x, y) = y$. $I$ has the least upper bound property.
	\begin{enumerate}[label={(\alph*)}]
		\item Let $A$ be a nonempty subset of $S$. $\pi_{1}(A)$ is a nonempty subset of $I$ so it has a least upper bound $x_{0}$.

		      If $x_{0} \notin \pi_{1}(A)$ then $\tuple{x_{0}, 0}$ is an upper bound of $A$. If $\tuple{x, y} < \tuple{x_{0}, 0}$ then $x < x_{0}$ so there is $x' \in \pi_{1}(A)$ such that $x < x' < x_{0}$, which means any element of $S$ less than $\tuple{x_{0}, 0}$ is not an upper bound of $A$. So $\tuple{x_{0}, 0}$ is the least upper bound of $A$.

		      If $x_{0} \in \pi_{1}(A)$, define $B = \set{ \tuple{x, y} \in A : x = x_{0} }$ then $B$ is nonempty. $\pi_{2}(B)$ is a nonempty subset of $I$ so it has a least upper bound $y_{0}$. If $\tuple{x, y} < \tuple{x_{0}, y_{0}}$ then either $x = x_{0}$ and $y < y_{0}$ or $x < x_{0}$. In case $x = x_{0}$ and $y < y_{0}$, there is $y' \in \pi_{2}(B)$ such that $y < y'$, so $\tuple{x, y} < \tuple{x_{0}, y'} \leq \tuple{x_{0}, y_{0}}$. In case $x < x_{0}$, for every $y' \in \pi_{2}(B)$, $\tuple{x, y} < \tuple{x_{0}, y'} \leq \tuple{x_{0}, y_{0}}$. In either case, $\tuple{x, y}$ is not an upper bound. So $\tuple{x_{0}, y_{0}}$ is the least upper bound of $A$.

		      Hence $S$ has the least upper bound property.
		\item We will prove a stronger result, which is a generalization for Proposition 4.11: A subset $I$ of a topological space $X$ where
		      \begin{itemize}
			      \item $X$ is a linear continuum
			      \item $X$ is endowed with the order topology
			      \item $X$ has the least upper bound property
		      \end{itemize}

		      is connected if and only if $I$ is a singleton or an interval.

		      The proof for this result is similar to that of Proposition 4.11. In fact, the three properties of $X$ listed above are precisely the properties of $\mathbb{R}$ which are used in the proof of Proposition 4.11 in the book. However, we write a proof in details as follows.

		      A basis for the order topology on $X$ is the collection of open intervals of $X$.

		      If $I$ is a singleton then it is connected, so assume that $I$ has at least two elements.

		      Suppose $I$ is an interval. Assume for the sake of contradiction that $I$ is not connected then there are open subsets $U, V\subseteq X$ such that $U\cap I$ and $V\cap I$ disconnect $I$. Choose $a \in U\cap I$ and $b\in V\cap I$ and assume (interchanging $U, V$ if necessary) that $a < b$. Since $I$ is an interval, the closed interval $\closedinterval{a, b}$ is contained in $I$. Because $U, V$ are open, there exist $a'\in U\cap I$, $b'\in V\cap I$, such that $a < a', b' < b$ and $\halfopenright{a, a'} \subseteq U\cap I$ and $\halfopenleft{b', b}\subseteq V\cap I$. From this, we deduce that $a' \leq b'$ (since otherwise, $\halfopenright{a, a'}$ and $\halfopenleft{b', b}$ are not disjoint, so $U$ and $V$ are not disjoint.)

		      Let $c = \sup (U\cap \closedinterval{a, b})$. Since $\halfopenright{a, a'} \subseteq U\cap I \subseteq U$ and $\halfopenright{a, b'} \subseteq \closedinterval{a, b}$, it follows that $\halfopenright{a, a'} \subseteq U\cap \closedinterval{a, b}$, so $a' = \sup\halfopenright{a, a'} \leq \sup (U\cap \closedinterval{a, b}) = c$. Assume that $c > b'$ then $b'$ is not an upper bound of $U\cap\closedinterval{a, b}$, which means there exists $d \in U\cap\closedinterval{a, b}$ such that $d > b'$, which implies $U\cap I$ and $V\cap I$ are not disjoint (because they both contain $d$), which is a contradiction, so $c\leq b'$. Hence $c \in \closedinterval{a', b'} \subseteq \openinterval{a, b} \subseteq \closedinterval{a, b} \subseteq I$.

		      If $c\in U$ then $c\in U\cap\closedinterval{a, b}$, there is a neighborhood $c\in \openinterval{c_{1}, c_{2}} \subseteq U$, so $c\in \openinterval{c_{1}, c_{2}} \cap \closedinterval{a, b} \subseteq U\cap\closedinterval{a, b}$, this contradicts $c$ being the least upper bound of $U\cap\closedinterval{a, b}$.

		      Otherwise, $c\in V$, then there is a neighborhood $c\in \openinterval{c_{1}, c_{2}} \subseteq V$, so $c\in \openinterval{c_{1}, c_{2}} \cap I \subseteq V\cap I$, which means $\openinterval{c_{1}, c_{2}}$ is disjoint from $U\cap I$ (because $U\cap I$ and $V\cap I$ are disjoint). Again, this contradicts the definition of $c$ because $\closedinterval{c_{1}, c_{2}}$ (a neighborhood of the supremum of $U\cap \closedinterval{a, b}$) must intersect $U\cap \closedinterval{a, b}$, hence intersects $U\cap I$.

		      Hence the assumption is false, so $I$ is connected.

		      Conversely, suppose that $I$ is not an interval, so there exist $a < c < b$ such that $a, b\in I$ but $c\notin I$. The sets $\openinterval{-\infty, c}\cap I$ and $\openinterval{c, \infty}\cap I$ disconnects $I$ so $I$ is not connected.

		      Back to the problem. $S$ is the interval $\closedinterval{\tuple{0,0}, \tuple{1,1}}$ so it is connected.
		\item Because the collection of open intervals of $S$ is a basis for the order topology on $S$ and every open interval of $S$ is connected, it follows that $S$ is locally connected.

		      Assume that $S$ is path-connected, so there is a continuous map $f: \closedinterval{0, 1} \to S$ such that $f(0) = \tuple{0,0}$ and $f(1) = \tuple{1,1}$. $f(\closedinterval{0,1})$ is connected because the image of a connected set under a continuous map. $f(\closedinterval{0,1})$ is connected so it is an interval, according to the proof in part (b) and since it contains $\tuple{0, 0}$ and $\tuple{1, 1}$, we conclude that $f(\closedinterval{0, 1})$ contains every point of $S$.

		      For each $x\in I$, $U_{x} = f^{-1}(\set{x} \times \openinterval{0,1})$ is a nonempty open subset of $\closedinterval{0,1}$, because $f$ is continuous and $\set{x} \times \openinterval{0, 1} = \openinterval{\tuple{x, 0}, \tuple{x, 1}}$ is an open interval (which is an open subset) in $S$. For each $x\in I$, choose a rational number $q_{x} \in U_{x}$. Because the sets $U_{x}$ are pairwise disjoint, the map $x\mapsto q_{x}$ is an injection from $I$ into $\mathbb{Q}\cap I$. This means the cardinality of $I$ is less than or equal to the cardinality of $\mathbb{Q}\cap I$ but this is a contradiction because $I$ is uncountable and $\mathbb{Q}\cap I$ is countable. Therefore the assumption is false and $S$ is not path-connected.

		      Assume that $S$ is locally path-connected. In a locally path-connected space, connectedness and path-connectedness are equivalent, so $S$ is path-connected, which is a contradiction. Hence $S$ is not locally path-connected.
	\end{enumerate}
\end{proof}

\begin{problem}{4-11}\label{problem:4-11}
Let $X$ be a topological space, and let $CX$ be the cone on $X$ (see Example 3.53).
\begin{enumerate}[label={(\alph*)}]
	\item Show that $CX$ is path-connected.
	\item Show that $CX$ is locally connected if and only if $X$ is, and locally path-connected if and only if $X$ is.
\end{enumerate}
\end{problem}

\begin{proof}
	$CX = (X \times I)/(X \times\set{0})$. Denote by $q$ the quotient map $X\times I \to (X \times I)/(X \times\set{0})$.

	\begin{enumerate}[label={(\alph*)}]
		\item $q(\tuple{y, 0})$ and $q(\tuple{y, a})$ are path-connected for every $a\in I$, because the map $f: I \to CX$ given by $f(t) = q(\tuple{y, t\cdot a})$ is continuous since $f = q\circ g$ where $g: I \to X\times I$, $g(t) = \tuple{y, t\cdot a}$. Hence $f$ is continuous and $f(0) = q(\tuple{y, 0})$ and $f(1) = q(\tuple{y, a})$, so there is a path from $q(\tuple{y, 0})$ to $q(\tuple{y, a})$.

		      Let $q(\tuple{x, a})$ and $q(\tuple{y, b})$ be two arbitrary points of $CX$. According to the previous paragraph, there is a path from $q(\tuple{x, a})$ to $q(\tuple{x, 0}) = q(\tuple{y, 0})$ and a path from $q(\tuple{y, 0})$ to $q(\tuple{y, b})$, so there is a path from $q(\tuple{x, a})$ and $q(\tuple{y, b})$.

		      Hence $CX$ is path-connected.
		\item Suppose $X$ is locally {(path-)}connected then $X\times I$ is locally {(path-)}connected, since $I$ is locally {(path-)}connected and the product of two local {(path-)}connected spaces is locally {(path-)}connected. From Problem~\ref{problem:4-7}, we conclude that the quotient space $CX = (X\times I)/(X\times\set{0})$ is locally {(path-)}connected.

		      Conversely, suppose $CX$ is locally {(path-)}connected. Let $x\in X$ and $U$ be a neighborhood of $x$. The product set $U\times\halfopenleft{0, 1}$ is open in $X\times I$ and saturated (any two points of $U\times\halfopenleft{0, 1}$ are not identified by $q$, since $U\times\halfopenleft{0, 1}$ doesn't intersect $X\times\set{0}$), so $q(U\times \halfopenleft{0,1})$ is open in $CX$. Because $CX$ is locally {(path-)}connected, there is a {(path-)}connected open set $V_{x}$ such that $q(\tuple{x, 1}) \in V_{x} \subseteq q(U\times \halfopenleft{0,1})$. Therefore $\tuple{x, 1} \in q^{-1}(V_{x}) \subseteq q^{-1}(q(U\times \halfopenleft{0, 1})) = U\times\halfopenleft{0,1}$. The set $q^{-1}(V_{x})$ is saturated (by definition) and open in $X\times I$ (since $q$ is continuous).

		      Since the restriction of a quotient map to a saturated open set is still a quotient map, it follows that $q\vert_{q^{-1}(V_{x})}: q^{-1}(V_{x}) \to V_{x}$ is a quotient map. On the other hand, any two points of $q^{-1}(V_{x})$ are not identified by $q$ (since its superset $U\times\halfopenleft{0,1}$ has this property) so $q\vert_{q^{-1}(V_{x})}$ is injective. Every injective quotient map is a homeomorphism, so $q\vert_{q^{-1}(V_{x})}$ is a homeomorphism. Because of this homeomorphism $V_{x}$ being {(path-)}connected implies $q^{-1}(V_{x})$ being {(path-)}connected. The canonical projection $\pi_{1}: X\times I \to X$ is open and continuous, so $\pi_{1}(q^{-1}(V_{x}))$ is a {(path-)}connected open subset of $X$. Hence $x \in \pi_{1}(q^{-1}(V_{x})) \subseteq \pi_{1}(U\times\halfopenleft{0,1}) = U$, from which we conclude that $X$ is locally {(path-)}connected.
	\end{enumerate}
\end{proof}

\begin{problem}{4-12}
Suppose $X$ is a topological space and $S\subseteq X$ is a subset that is both open and closed in $X$. Show that $S$ is a union of components of $X$.
\end{problem}

\begin{proof}
	If $S$ is empty then the statement is true. Suppose that $S$ is nonempty, then $S$ intersects some component $C$ of $X$.

	Assume that $C\smallsetminus S$ is nonempty. We have $C\smallsetminus S = C\cap (X\smallsetminus S)$ and $C = (C\cap S) \cup (C\cap (X\smallsetminus S))$ where $C\cap S$ and $C\smallsetminus S$ are nonempty. On the other hand, $C\cap S$ is open in $C$ (due to the definition of subspace topology and $S\subseteq X$ is open) and $C\cap (X\smallsetminus S)$ is open in $C$ (due to the  definition of subspace topology and $X\smallsetminus S \subseteq X$ is open). So $C\cap S$ and $C\cap (X\smallsetminus S)$ disconnect $C$, which is a contradiction since $C$ is a component.

	Hence $C\smallsetminus S$ is empty and it follows that $C\subseteq S$. Therefore any component of $X$ that intersects $S$ is contained in $S$, thus $S$ is a union of components of $X$.
\end{proof}

\begin{problem}{4-13}\label{problem:4-13}
Let $T$ be the topologist's sine curve (Example 4.17).
\begin{enumerate}[label={(\alph*)}]
	\item Show that $T$ is connected but not path-connected or locally connected.
	\item Determine the components and that path components of $T$.
\end{enumerate}
\end{problem}

\begin{proof}
	We write down the definition of the topologist's sine curve.
	\begin{align*}
		T_{0} & = \set{\tuple{x,y} : x = 0 \quad\text{and}\quad y \in \closedinterval{-1,1}};           \\
		T_{+} & = \set{\tuple{x,y} : x \in \halfopenleft{0, 2/\pi} \quad\text{and}\quad y = \sin(1/x)}; \\
		T     & = T_{0} \cup T_{+}.
	\end{align*}
	\begin{enumerate}[label={(\alph*)}]
		\item Consider the function $f: \halfopenleft{0, 2/\pi} \to \mathbb{R}$ given by $f(x) = \sin(1/x)$. $f$ is the composition of the two continuous functions $x\mapsto 1/x$ (where $x\in \halfopenleft{0, 2/\pi}$) and $x\mapsto \sin(x)$ so $f$ is continuous. Moreover, $\halfopenleft{0, 2/\pi}$ is connected, so $f(\halfopenleft{0, 2/\pi})$ is also connected. The set $T_{+}$ is the graph of $f$, in other words, $T_{+} = \set{ (x, f(x)) : x\in\halfopenleft{0,2/\pi} }$. Due to the limit property of continuous functions, every point of $T_{+}$ is a limit point of $T_{+}$. However, the points of $T_{+}$ are not all limit points of $T_{+}$.

		      \textbf{$T$ is connected.}

		      Assume that $\tuple{x_{0}, y_{0}}$ is a limit point of $T_{+}$ which is not in $T_{+}$. We will show that $x_{0} = 0$ and $y_{0} \in \closedinterval{-1,1}$.

		      If $y_{0} > 1$ then $\openinterval{x_{0} - 1, x_{0} + 1} \times \openinterval{(1 + y_{0})/2, 1 + y_{0}}$ is a neighborhood of $\tuple{x_{0}, y_{0}}$, which doesn't intersect $T_{+}$ (since the $y$-coordinate of every point in this neighborhood is greater than 1).

		      If $y_{0} < -1$ then $\openinterval{x_{0} - 1, x_{0} + 1} \times \openinterval{-1 + y_{0}, (-1 + y_{0})/2}$ is a neighborhood of $\tuple{x_{0}, y_{0}}$, which doesn't intersect $T_{+}$ (since the $y$-coordinate of every point in this neighborhood is smaller than -1).

		      Hence $y_{0} \in \closedinterval{-1,1}$.

		      If $x_{0} < 0$ then $\openinterval{x_{0} - 1, x_{0}/2} \times \openinterval{y_{0} - 1, y_{0} + 1}$ is a neighborhood of $\tuple{x_{0}, y_{0}}$, which doesn't intersect $T_{0}$ (since the $x$-coordinate of every point in this neighborhood is smaller than 0).

		      If $x_{0} > 2/\pi$ then $\openinterval{(x_{0} + 2/\pi)/2, x_{0} + 1} \times \openinterval{y_{0} - 1, y_{0} + 1}$ is a neighborhood of $\tuple{x_{0}, y_{0}}$, which doesn't intersect $T_{0}$ (since the $x$-coordinate of every point in this neighborhood is greater than $2/\pi$).

		      If $x_{0} \in \openinterval{0, 2/\pi}$ then $y_{0} \ne \sin(1/x_{0})$. Consider the set $\closedinterval{x_{0}/2, 2/\pi}$ and the sequence of points ${(\tuple{x_{i}, f(x_{i})})}_{i\in\mathbb{N}}$ that converges to $\tuple{x_{0}, y_{0}}$, then $x_{i} \to x_{0}$. Because $f$ is continuous on $\closedinterval{x_{0}/2, 2/\pi}$, $f(x_{i}) \to f(x_{0})$, so $f(x_{0}) = y_{0}$, which is a contradiction.

		      Hence $x_{0} = 0$.

		      By using the sequence lemma (Problem~\ref{problem:2-14}), we will show that $\tuple{x_{0}, y_{0}}$ where $x_{0} = 0$ and $y_{0} \in \closedinterval{-1,1}$ is a limit point of $T_{+}$. Because $y_{0} \in \closedinterval{-1,1}$, there exists $\alpha \in \closedinterval{\pi/2, 3\pi/2}$ such that $\sin(\alpha) = y_{0}$. Consider the sequence ${(\tuple{x_{i}, f(x_{i})})}_{i\in\mathbb{N}}$ where $x_{i} = 1/(\alpha + 2i\pi)$. This sequence converges to $\tuple{0, \sin(\alpha)} = \tuple{x_{0}, y_{0}}$.

		      Therefore the closure of $T_{+}$ in $\mathbb{R}^{2}$ is $T$. Since $T_{+}$ is connected, its closure is also connected, which means $T$ is connected.

		      \textbf{$T$ is not path-connected.}

		      Assume that there is a continuous $\gamma: \closedinterval{0, 1} \to T$ such that $\gamma(0) = \tuple{0, y_{0}}$ and $\gamma(1)$ is a point of $T_{+}$ where $y_{0}\in\closedinterval{-1,1}$. Because $\gamma$ is continuous and $T_{0}$ is closed in $T$, $\gamma^{-1}(T_{0})$ is closed in $\closedinterval{0,1}$. Let $t_{0} = \sup \gamma^{-1}(T_{0})$ then $0\leq t_{0} < 1$. If $t_{0} = 0$ then $\gamma$ maps 0 to every point of $T_{0}$, which violates the definition of function, so $0 < t_{0} < 1$.

		      Let $\delta > 0$ such that $\openinterval{t_{0}, t_{0} + \delta} \subseteq \closedinterval{0, 1}$. $(\pi_{2} \circ \gamma)(t_{0}) = b \in \closedinterval{-1,1}$. For every $t > t_{0}$, $\gamma(t) \in T_{+}$, which means $(\pi_{1}\circ\gamma)(t_{0} + \delta) > 0$.

		      There exist $\theta, \phi \in \closedinterval{-\pi/2, \pi/2}$ such that $\sin(\theta) = b$ and $\abs{\sin(\phi) - \sin(\theta)} \geq 1$. There exists a positive integer $n$ such that $0 = (\pi_{1}\circ \gamma)(t_{0}) < \frac{2}{4n\pi + 2\phi} < (\pi_{1}\circ\gamma)(t_{0} + \delta)$. By the intermediate value theorem, there exists $t \in \openinterval{t_{0}, t_{0} + \delta}$ such that $(\pi_{1}\circ \gamma)(t) = \frac{2}{4n\pi + 2\phi}$, then $(\pi_{2}\circ \gamma)(t) = \sin \left(\frac{4n\pi + 2\phi}{2}\right) = \sin(\phi)$, so $\abs{ (\pi_{2}\circ \gamma)(t) - (\pi_{2}\circ \gamma)(t_{0}) } = \abs{ \sin(\phi) - \sin(\theta) } \geq 1$.

		      Hence $\pi_{2}\circ \gamma$ is not continuous at $t_{0}$, which is a contradiction because $\pi_{2}, \gamma$ are continuous.

		      So there is no path from a point of $T_{0}$ to a point of $T_{+}$. Therefore $T$ is not path-connected.

		      \textbf{$T$ is not locally connected.}

		      Assume that $T$ is locally connected. In a locally connected space, the components of every open subset are open in that space.

		      The square $S_{r} = \openinterval{-r, r}\times\openinterval{-r, r}$ where $0 < r < 1$ is open in $\mathbb{R}^{2}$ and it contains $\tuple{0, 0}$. So $S_{r}\cap T$ is a neighborhood of $\tuple{0,0}$ in $T$. Let $C$ be the component of $S_{r}\cap T$ which contains $\tuple{0,0}$, then $C$ is open in $T$. On the other hand, every nonempty subset of $T_{0}$ is not open, so $C$ is not a subset of $T_{0}$ and $C$ intersects $T_{+}$. Let $\tuple{c, f(c)}$ be a point of $C\cap T_{+}$. If there is a point $\tuple{d, f(d)}$ in $T_{+}$ which is not in $C$ and $0 < d < c$ then $C$ is disconnected by the following two open sets
		      \begin{align*}
			       & C\cap (T_{0} \cup \set{\tuple{x, f(x)} : x < d }), \\
			       & C\cap \set{\tuple{x, f(x) : x > d }}.
		      \end{align*}

		      The set $T_{0} \cup \set{ \tuple{x, f(x)} : x < d }$ is open in $T$ because it is equal to $T \cap (\openinterval{-\infty, d} \times \mathbb{R})$.

		      The set $\set{\tuple{x, f(x) : x > d }}$ is open in $T$ because it is equal to $T\cap (\openinterval{d, \infty} \times \mathbb{R})$.

		      Hence every point $\tuple{d, f(d)} \in T_{+}$ where $d < c$ is in $C$. On the other hand, there exists a positive integer $n$ such that $t = \frac{2}{4n\pi + \pi} < c$. Then $\tuple{t, \sin(1/t)} = \tuple{t, 1} \in C$. Meanwhile, $C = S_{r}\cap T$, $0 < r < 1$, so $\tuple{t, 1} \notin C$, which is a contradiction.

		      Thus $T$ is not locally connected.
		\item Because $T$ is connected, $T$ has exactly one component, which is $T$.

		      $T_{+}$ and $T_{0}$ are path-connected and disjoint. From the proof in part (a), there is no path connecting a point of $T_{0}$ to a point of $T_{1}$. Therefore $T_{+}$ and $T_{0}$ are maximal, which means $T_{+}$ and $T_{0}$ are the path components of $T$.
	\end{enumerate}
\end{proof}

\begin{problem}{4-14}
This chapter introduced four connectedness properties: connectedness, path connectedness, local connectedness, and local path connectedness. Use the following examples to show that any subset of these four properties can be true while the others are false, except those combinations that are disallowed by Theorem 4.15 and Proposition 4.26(a,e).
\begin{enumerate}[label={(\alph*)}]
	\item The set $\mathbb{Q}^{2}$ of rational points in the plane.
	\item The topologist's sine curve $T$ (Example 4.17).
	\item The union of $T$ with the $x$-axis.
	\item The space $S$ of Problem~\ref{problem:4-10}.
	\item The cone on $S$ (see Problem~\ref{problem:4-11}).
	\item The disjoint union of two copies of $S$.
	\item Any disconnected manifold.
	\item Any nonempty connected manifold.
\end{enumerate}
\end{problem}

\begin{table}[htp]
	\centering
	\begin{tabular*}{\textwidth}{c|c|c|c|c}
		& Connected & Path Connected & Local Connected & Local Path-Connected \\
		\toprule
		\bottomrule
		$\mathbb{Q}^{2}$ & no        & no             & no              & no \\
		\hline
		$T$              & yes       & no             & no              & no \\
		\hline
		$T\cup X$        & yes       & yes            & no              & no \\
		\hline
		$S$              & yes       & no             & yes             & no \\
		\hline
		$CS$             & yes       & yes            & yes             & no \\
		\hline
		$S\sqcup S$      & no        & no             & yes             & no \\
		\hline
		\makecell{disconnected \\ manifolds}              & no        & no             & yes             & yes \\
		\hline
		\makecell{nonempty \\ connected \\ manifolds}              & yes       & yes            & yes             & yes
	\end{tabular*}
	\caption{Combinations of connected properties with examples. The other combinations violate Theorem 4.15 or Proposition 4.26(a,e).}
\end{table}

\begin{proof}
	\begin{enumerate}[label={(\alph*)}]
		\item Define $A = \set{ \tuple{x, y}\in \mathbb{Q}^{2} : x > \sqrt{2} }$ and $B = \set{ \tuple{x, y}\in \mathbb{Q}^{2} : x < \sqrt{2} }$. These are open subsets of $\mathbb{Q}^{2}$ since $A = \mathbb{Q}^{2} \cap (\openinterval{\sqrt{2}, \infty} \times \mathbb{R})$ and $B = \mathbb{Q}^{2} \cap (\openinterval{-\infty, \sqrt{2}} \times \mathbb{R})$. On the other hand, $A$ and $B$ are disjoint. Therefore $A, B$ disconnect $\mathbb{Q}^{2}$, which means $\mathbb{Q}^{2}$ is not connected. Consequently, $\mathbb{Q}^{2}$ is not path-connected.

		      Any subset of $\mathbb{Q}^{2}$ containing at least two elements is disconnected (see Example 4.19 (c)). Hence the nonempty connected subsets of $\mathbb{Q}^{2}$ are singletons. On the other hand, the singletons of $\mathbb{Q}^{2}$ are not open. Therefore $\mathbb{Q}^{2}$ is not locally connected or locally path-connected.
		\item $T$ is connected, but not path-connected.

		      $T$ is not locally connected, so it is not locally path-connected.
		\item Denote the $x$-axis by $X$ and the union of $T$ and $X$ by $T'$.

		      $T_{0} \cup X$ is path-connected because $T_{0}, X$ are path-connected and have a common point.

		      $T_{+}\cup X$ is path-connected because of the same reason.

		      Hence $T' = T\cup X = (T_{0} \cup X)\cup (T_{+}\cup X)$ is path-connected, and also connected.

		      Assume that $T'$ is locally connected. The proof is similar to that of Problem~\ref{problem:4-13}, but we use the point $\tuple{0,1}$ instead of $\tuple{0,0}$.

		      The open rectangle $U = \openinterval{-r, r} \times \openinterval{0, 1+\varepsilon}$ where $r, \varepsilon > 0$ is open in $\mathbb{R}^{2}$ and contains $\tuple{0,1}$, so $U \cap T'$ is a neighborhood of $\tuple{0,1}$ in $T'$. Because $T'$ is locally connected, there is a connected neighborhood $V$ such that $\tuple{0,1}\subseteq V \subseteq U\cap T'$. Since $U$ doesn't intersect the $x$-axis, then so does $V$. Any nonempty subset of $T_{0}$ is not open in $T'$, so $V$ is not a subset of $T_{0}$, therefore $V$ intersects $T_{+}$. Let $\tuple{c, \sin(1/c)}$ be a point of $V\cap T_{+}$. If there is $0 < d < c$ such that $\tuple{d, \sin(1/d)} \notin V\cap T_{+}$, then $V$ is disconnected by the following sets
		      \begin{itemize}
			      \item $V \cap (T_{0} \cup \set{ \tuple{x,0} : x < d } \cup \set{ \tuple{x, \sin(1/x)} : x < d })$.

			            This is open in $V$ (with the subspace topology) because
			            \begin{equation*}
				            T_{0} \cup \set{\tuple{x,0} : x < d} \cup \set{\tuple{x, \sin(1/x)} : x < d} = T' \cap (\openinterval{-\infty, d} \times\mathbb{R})
			            \end{equation*}

			            which is open in $T'$.
			      \item $V \cap (\set{\tuple{x,0} : x > d} \cup \set{ \tuple{x, \sin(1/x)} : x > d })$.

			            This is open in $V$ (with the subspace topology) because
			            \begin{equation*}
				            \set{\tuple{x,0} : x > d} \cup \set{\tuple{x, \sin(1/x)} : x > d} = T' \cap (\openinterval{d, \infty} \times\mathbb{R})
			            \end{equation*}

			            which is open in $T'$.
		      \end{itemize}

		      Hence $V$ contains every point $\tuple{d, \sin(1/d)}$ where $0 < d < c$. There exists a positive integer $n$ such that $\frac{1}{2n\pi} < c$, then $\tuple{\frac{1}{2n\pi}, \sin(2n\pi)} = \tuple{\frac{1}{2n\pi}, 0} \in V$. However, this is a contradiction because due to the definition of $U$ (a superset of $V$), every point of $U$ (and so is $V$) has $x$-ordinate greater than 0. Therefore $T'$ is not locally connected.

		      Thus $T\cup X$ is not locally connected, and consequently, it is not locally path-connected.
		\item $S$ is connected but not path-connected.

		      $S$ is locally connected but not locally path-connected.
		\item $CS$ is path-connected, so it is connected.

		      $S$ is locally connected then so is $CS$. $S$ is not locally path-connected then neither is $CS$.
		\item Let $S_{1}, S_{2}$ be disjoint copies of $S$.

		      $S\sqcup S \approx S_{1}\cup S_{2}$. $S_{1}, S_{2}$ are disjoint open subsets of $S_{1}\cup S_{2}$, so $S\sqcup S$ is not connected. Therefore $S\sqcup S$ is not path-connected.

		      $S$ is locally connected so $S_{1}, S_{2}$ are locally connected. Let $\mathscr{B}_{1}, \mathscr{B}_{2}$ be the basis for the topologies on $S_{1}, S_{2}$, correspondingly, where every element of them are connected. Denote $\mathscr{B} = \mathscr{B}_{1} \cup \mathscr{B}_{2}$ and let $U$ be an open subset of $S_{1}\cup S_{2}$. $U = (U\cap S_{1}) \cup (U\cap S_{2})$. Since $U\cap S_{1}$ and $U\cap S_{2}$ are open, they can be expressed as unions of elements of $\mathscr{B}_{1}, \mathscr{B}_{2}$. Hence $\mathscr{B}$ is a connected neighborhood for $S_{1}\cup S_{2}$, which means $S\sqcup S$ is locally connected.

		      Assume $S_{1}\cup S_{2}$ is locally path-connected, then every open subset of $S_{1}\cup S_{2}$ is locally path-connected. Therefore $S_{1}, S_{2}$ are locally path-connected, which is a contradiction. So $S\sqcup S$ is not locally path-connected.
		\item Let $M$ be a disconnected manifold.

		      $M$ is locally path-connected and locally connected.

		      In a local path-connected spaces, connectedness and path-connected are equivalent, so $M$ is not path-connected.
		\item Let $M$ be a nonempty connected manifold.

		      $M$ is locally path-connected and locally connected.

		      In a local path-connected spaces, connectedness and path-connected are equivalent, so $M$ is path-connected.
	\end{enumerate}
\end{proof}

\begin{problem}{4-15}
Suppose $G$ is a topological group.
\begin{enumerate}[label={(\alph*)}]
	\item Show that every open subgroup of $G$ is also closed.
	\item For any neighborhood $U$ of 1, show that the subgroup $\anglebracket{U}$ generated by $U$ is open and closed in $G$.
	\item For any connected subset $U\subseteq G$ containing 1, show that $\anglebracket{U}$ is connected.
	\item Show that if $G$ is connected, then every neighborhood of 1 generated $G$.
\end{enumerate}
\end{problem}

\begin{proof}
	\begin{enumerate}[label={(\alph*)}]
		\item Let $H$ be an open subgroup of $G$. The left translation $L_{g}: G\to G$ given by $g'\mapsto gg'$ is a homeomorphism. Therefore $gH$ is an open subset of $G$ for every $g\in G$ (\textbf{every coset of an open subgroup is open}). On the other hand, $G\smallsetminus H = \bigcup_{g\in G\smallsetminus H} gH$, so the complement of $H$ is open. Therefore $H$ is closed.
		\item $1\in U$ so $U$ is nonempty. For every $g\in \anglebracket{U}$, the set $gU = \set{ gg' : g'\in U }$ is open, since the left translation $L_{g}$ is a homeomorphism. On the other hand, $\anglebracket{U} = \bigcup_{g\in \anglebracket{U}}gU$, which is the union of open sets, so $\anglebracket{U}$ is open. According to part (a), $\anglebracket{U}$ is closed. Hence $\anglebracket{U}$ is open and closed in $G$.
		\item We prove the following statements. We use the theorem: \textbf{the union of connected sets with a common point is connected.}

		      \textbf{Statement 1.} $\bigcup^{k}_{i=0} g^{i}U$ is connected for every $g\in U$, every $k\in \mathbb{Z}_{\geq 0}$.

		      This is true for $k = 0$. Assume that it is true for $k = n - 1$. $g^{n}$ is a common point of $g^{n}U$ and $g^{n-1}U$, so $\bigcup^{n-1}_{i=0}g^{i}U$ and $g^{n}U$ have a common point. The left translation is a homeomorphism so $g^{n}U$ is connected. Due to the inductive hypothesis, $\bigcup^{n-1}_{i=0}g^{i}U$ is connected. Therefore $\bigcup^{n}_{i=0}g^{i}U$ is connected. By the principle of mathematical induction, statement 1 is true.

		      \textbf{Statement 2.} $\bigcup^{k}_{i=0}g^{-i}U$ is connected for every $g\in U$, every $k\in \mathbb{Z}_{\geq 0}$.

		      This is true for $k = 0$. Assume that it is true for $k = n - 1$. $g^{1-n}$ is a common point of $g^{-n}U$ and $g^{1-n}U$ (because $g^{1-n} = g^{1-n}1 = g^{-n}g$), so $\bigcup^{n-1}_{i=0}g^{-i}U$ and $g^{-n}U$ have a common point. The left translation is a homeomorphism so $g^{-n}U$ is connected. Due to the inductive hypothesis, $\bigcup^{n-1}_{i=0}g^{-i}U$ is connected. Therefore $\bigcup^{n}_{i=0}g^{-i}U$ is connected. By the principle of mathematical induction, statement 2 is true.

		      \textbf{Statement 3.} $\bigcup_{k\in\mathbb{Z}}g^{k}U$ is connected for every $g\in U$.
		      \begin{equation*}
			      \bigcup_{k\in\mathbb{Z}}g^{k}U = \bigcup_{k\in\mathbb{Z}_{\geq 0}}\left(\bigcup^{k}_{i=0}g^{i}U\right) \cup \bigcup_{k\in\mathbb{Z}_{\geq 0}}\left(\bigcup^{k}_{i=0}g^{-i}U\right).
		      \end{equation*}

		      From statments 1, 2, and the above equality, we deduce that $\bigcup_{k\in\mathbb{Z}}g^{k}U$ is the union of connected sets with common point (they all contain the nonempty set $U$). Therefore $\bigcup_{k\in\mathbb{Z}}g^{k}U$ is connected.

		      \textbf{Statement 4.} $m$ is a positive integer. For any $m$ elements (not necessarily distinct) $g_{1}, \ldots, g_{m}$ of $U$, the set
		      \begin{equation*}
			      \bigcup_{k_{m}\in\mathbb{Z}}\cdots \bigcup_{k_{1}\in\mathbb{Z}} g_{1}^{k_{1}}\cdots g_{m}^{k_{m}}U
		      \end{equation*}

		      is connected.

		      When $m = 1$, the statement is true because it is statement 3. Assume the statement is true for $m = n - 1$. Consider $n$ elements $g_{1}, \ldots, g_{n}$ of $U$. Denote
		      \begin{equation*}
			      V = \bigcup_{k_{n-1}\in\mathbb{Z}}\cdots \bigcup_{k_{1}\in\mathbb{Z}} g_{1}^{k_{1}}\cdots g_{n-1}^{k_{n-1}}U
		      \end{equation*}

		      then $V$ is connected by the inductive hypothesis. Therefore
		      \begin{equation*}
			      \bigcup_{k_{n}\in\mathbb{Z}}\cdots \bigcup_{k_{1}\in\mathbb{Z}} g_{1}^{k_{1}}\cdots g_{n}^{k_{n}}U = \bigcup_{k_{n}\in\mathbb{Z}}g_{n}^{k_{n}}V
		      \end{equation*}

		      is connected, according to statement 3. By the principle of mathematical induction, statement 3 is true.

		      \textbf{Main result.} $\anglebracket{U}$ is connected.

		      $\anglebracket{U}$ is the set of all finite products of integral powers of elements of $U$, so $\anglebracket{U}$ is the union of the sets of the form
		      \begin{equation*}
			      \bigcup_{k_{m}\in\mathbb{Z}}\cdots \bigcup_{k_{1}\in\mathbb{Z}} g_{1}^{k_{1}}\cdots g_{m}^{k_{m}}U.
		      \end{equation*}

		      where $g_{1}, \ldots, g_{m}$ are any $m$ elements of $U$, not necessarily distinct. On the other hand, these sets have common points (since they all contain the nonempty set $U$) and are connected, so the union of them are connected, which means $\anglebracket{U}$ is connected.
		\item Let $U$ be a neighborhood of 1. According to part (b), $\anglebracket{U}$ is an open and closed subgroup of $G$. $G$ is connected, $\anglebracket{U}$ is a nonempty subset of $G$ which is both open and closed, to $\anglebracket{U} = G$. Thus $U$ generates $G$.
	\end{enumerate}
\end{proof}

\begin{problem}{4-16}\label{problem:4-16}
A topological space is said to be \textbf{$\boldsymbol{\sigma}$-compact} if it can be expressed as a union of countably many compact subspaces. Show that a locally Euclidean Hausdorff space is a topological manifold if and only if it is $\sigma$-compact.
\end{problem}

\begin{proof}
	Let $M$ be a locally Euclidean (of dimension $n$) Hausdorff space.

	Suppose $M$ is a topological manifold, then $M$ is has a countable basis $\mathscr{B}$ of regular coordinate balls. Every regular coordinate ball is a precompact open set, so $\overline{B}$ is compact for every $B\in\mathscr{B}$. $M = \bigcup_{B\in\mathscr{B}}B \subseteq \bigcup_{B\in\mathscr{B}}\overline{B}$ and $\bigcup_{B\in\mathscr{B}}\overline{B} \subseteq M$, so $M = \bigcup_{B\in\mathscr{B}}\overline{B}$, which means $M$ is $\sigma$-compact.

	Conversely, suppose $M$ is $\sigma$-compact. Since $M$ is $\sigma$-compact, there is a countable collection $\mathscr{K}$ of compact subspaces of $M$ that covers $M$.

	Let $K \in \mathscr{K}$. For every $p\in K$, there is a neighborhood $B_{p}$ of $p$ which is homeomorphic to an open ball of $\mathbb{R}^{n}$. The collection of $B_{p}$ covers $K$. Since $K$ is compact, there exists $p_{1}, \ldots, p_{m}\in K$ such that $B_{p_{1}}, \ldots, B_{p_{m_{K}}}$ cover $K$. The collection of $B_{p_{1}}, \ldots, B_{p_{m_{K}}}$ of all $K \in \mathscr{K}$ is then a countable open cover of $M$. Denote this countable open cover by $\mathscr{B}$. Since every element of the open cover $\mathscr{B}$ is homeomorphic to an open ball of $\mathbb{R}^{n}$ (which is second countable), every element of $\mathscr{B}$ as a subspace of $M$ is second countable. According to Problem~\ref{problem:2-19}, $M$ is second countable. Therefore $M$ is an $n$-manifold by definition (local Euclidean of dimension $n$, Hausdorff, and second countable).

	Thus $M$ is a topological manifold if and only if it is $\sigma$-compact.
\end{proof}

\begin{problem}{4-17}\label{problem:4-17}
Suppose $M$ is a manifold of dimension $n\geq 1$, and $B\subseteq M$ is a regular coordinate ball. Show that $M\smallsetminus B$ is an $n$-manifold with boundary, whose boundary is homeomorphic to $\mathbb{S}^{n-1}$. (You may use the theorem on invariance of the boundary.)
\end{problem}

\begin{proof}
	$M$ is a manifold so $M\smallsetminus B$ is also Hausdorff and second-countable. It remains to prove that $M\smallsetminus B$ is locally Euclidean of dimension $n$.

	Since $B$ is a regular coordinate ball, $\overline{B}$ has a neighborhood $B'$ that admits a homeomorphism $\varphi: B' \to B_{r'}(x) \subseteq \mathbb{R}^{n}$ that $\varphi$ takes $B$ to $B_{r}(x)$ and $\overline{B}$ to $\overline{B}_{r}(x)$. Consider a point $p$ in $M\smallsetminus B$.

	If $p \in M\smallsetminus \overline{B}$ then it has a neighborhood that is homeomorphic to $\mathbb{R}^{n}$, as $M\smallsetminus \overline{B}$ is open in $M$.

	Otherwise, $p \notin M\smallsetminus \overline{B}$, so $p \in (M\smallsetminus B) \smallsetminus (M\smallsetminus \overline{B}) = \overline{B} \smallsetminus B$ (this is true since $B \subseteq \overline{B} \subseteq M$). Because $\varphi$ is a homeomorphism hence it is bijective, so
	\begin{align*}
		\varphi(\overline{B}\smallsetminus B) = \varphi(\overline{B}) \smallsetminus \varphi(B) = \overline{B}_{r}(x)\smallsetminus B_{r}(x) = S_{r}(x)
	\end{align*}

	where $S_{r}(x) := \set{ y \in \mathbb{R}^{n} : \abs{x - y} = r }$ and $S_{r}(x)$ is homeomorphic to $\mathbb{S}^{n-1}$.

	Here comes the technical part: \textit{Show that $p$ has a neighborhood $U$ in $M\smallsetminus B$ such that there exists a homeomorphism $\psi$ from $U$ onto an open set of $\mathbb{H}^{n}$ and $\psi$ takes $p$ to $\partial\mathbb{H}^{n}$.}
	\begin{figure}[htp]
		\centering
		\begin{tikzpicture}
			\tikzmath{\r = 2.5; \R = 4.9; \rotate = 60;}

			\coordinate [label=45:$x$] (O) at (0, 0);
			\coordinate [label=-60:$P$] (P) at (0, \r);
			\coordinate [label=-45:$N$] (N) at (0, -\r);
			\filldraw (O) circle[radius=1pt];
			\filldraw (P) circle[radius=1pt];
			\filldraw (N) circle[radius=1pt];
			\draw [dashed] (P) -- (N);
			\draw [dashed] (O) circle (\r);
			\draw [dashed] (O) circle (\R);
			\coordinate (A) at ({\r*cos(\rotate)}, {\r*sin(\rotate)});
			\coordinate (B) at ({-\r*cos(\rotate)}, {\r*sin(\rotate)});

			\draw [dashed] (P) let \p1 = ($ (P) - (A) $) in
			circle ({veclen(\x1, \y1)});

			\draw (-\R, 0) -- (\R, 0);
			\fill [thin, pattern=grid] (A)
			let \p1 = ($ (P) - (A) $) in
			arc[radius={veclen(\x1, \y1)}, start angle={-(90 - \rotate)/2}, end angle={(450 - \rotate)/2}]
			arc[radius={\r}, start angle={\rotate + 2 * (90 - \rotate)}, end angle={\rotate}] -- cycle;
			\draw [thick, dotted] (A)
			let \p1 = ($ (P) - (A) $) in
			arc[radius={veclen(\x1, \y1)}, start angle={-(90 - \rotate)/2}, end angle={(450 - \rotate)/2}];
			\draw [thick] (A) arc [radius={\r}, start angle={\rotate}, end angle={\rotate + 2 * (90 - \rotate)}];

			\coordinate (A1) at ({\r*(1 - sin(\rotate))/cos(\rotate)}, 0);
			\coordinate (B1) at ({-\r*(1 - sin(\rotate))/cos(\rotate)}, 0);
			\coordinate (P1) at (0, {\r * (1 - sin(\rotate))/(1 + sin(\rotate))});
			\draw [dashed] (A1)
			let \p1 = ($ (P1) - (A1) $) in
			arc[radius={veclen(\x1, \y1)}, start angle={(\rotate - 90)/2}, end angle={180 + (90 - \rotate)/2}];
			\fill [thin, pattern=grid] (A1)
			let \p1 = ($ (P1) - (A1) $) in
			arc[radius={veclen(\x1, \y1)}, start angle={(\rotate - 90)/2}, end angle={(\rotate - 90)/2 - 180 + 90 - \rotate}] -- cycle;

			\draw [very thick, dotted] (A1)
			let \p1 = ($ (P1) - (A1) $) in
			arc[radius={veclen(\x1, \y1)}, start angle={(\rotate - 90)/2}, end angle={(\rotate - 90)/2 - 180 + 90 - \rotate}];

			\draw [dotted] ({\r*sqrt(2)}, {-\r}) arc[radius={\r*sqrt(2)}, start angle=0, end angle=180];

			\draw [dotted] (N) -- (A1) -- (A);
			\draw [dotted] (N) -- (B1) -- (B);
		\end{tikzpicture}
		\caption{$B_{r}(x), B_{r'}(x)$ (concentric open balls), $P = \varphi(p)$, $B_{\varepsilon}(P)$ and its image under the inversion $\mathbf{I}^{2r^{2}}_{N}$.}\label{fig:4-17}
	\end{figure}

	\begin{quotation}
		See Figure~\ref{fig:4-17}. Denote $P = \varphi(p)$, $N$ is the antipode of $P$ on the $(n-1)$-sphere $S_{r}(x)$. There exists $\varepsilon > 0$ such that $\overline{B}_{\varepsilon}(M) \subseteq B_{r'}(x)$, we can even assume that $\varepsilon' < r$.

		It suffices to construct a homeomorphism from a neighborhood of $P$ in $B_{r'}(x)\smallsetminus B_{r}(x)$ to an open subset of $\mathbb{H}^{n}$ and this homeomorphism takes $P$ to $\partial\mathbb{H}^{n}$.

		Consider the inversion $\mathbf{I}^{2r^{2}}_{N}: \mathbb{R}^{n} \smallsetminus \set{N} \to \mathbb{R}^{n} \smallsetminus \set{N}$. This inversion is bijective and continuous, it maps
		\begin{itemize}
			\item $P$ to $x$,
			\item $S_{r}(x)\smallsetminus \set{N}$ to the hyperspace containing $x$ and orthogonal to $\overrightarrow{NP}$,
			\item $B_{\varepsilon}(P)$ to an open ball containing $x$,
			\item $\overline{B}_{\varepsilon}(P)$ to a closed ball containing $x$.
		\end{itemize}

		Denote by $f: \overline{B}_{\varepsilon}(P) \to \mathbf{I}^{2r^{2}}_{N}(\overline{B}_{\varepsilon}(M))$ the restriction of $\mathbf{I}^{2r^{2}}_{N}$ to $\overline{B}_{\varepsilon}(P)$. $\overline{B}_{\varepsilon}(P)$ is compact according to Heine-Borel's theorem and $f(\overline{B}_{\varepsilon}(P))$ is Hausdorff (because it is a subspace of $\mathbb{R}^{n}$), and $f$ is continuous so $f$ is a closed map due to the closed map lemma. $f$ is also bijective, hence $f$ is a homeomorphism.

		The set $U = B_{\varepsilon}(P) \cap (B_{r'}(x)\smallsetminus B_{r}(x))$ is a neighborhood of $P$ in $M\smallsetminus B$. The map $\rho: U \to \psi(U) = f(U)$ defined as the restriction of $f$ to $U$ is a homeomorphism, in which $\psi(U)$ is an open set of the half-space whose boundary is $\mathbf{I}^{2r^{2}}_{N}(S_{r}(x))$ and $\psi$ takes $P$ to $\mathbf{I}^{2r^{2}}_{N}(S_{r}(x))$. This half-space is homeomorphic to $\mathbb{H}^{n}$ as all $n$-dimensional half-spaces are homeomorphic. Hence there is a homemorphism $\psi$ from $U$ onto an open set of $\mathbb{H}^{n}$ such that $\psi(P) \in \partial\mathbb{H}^{n}$.
	\end{quotation}

	Hence $M\smallsetminus B$ is an $n$-manifold with boundary. Phew!

	$M\smallsetminus B$ is a manifold with boundary, every point of $\overline{B}\smallsetminus B$ is a boundary point of $M\smallsetminus B$, every point of $M\smallsetminus \overline{B}$ is an interior point of $M\smallsetminus B$. $M\smallsetminus\overline{B}$ and $\overline{B}\smallsetminus B$ constitute a partition of $M\smallsetminus B$. Due to the invariance of the boundary, $M\smallsetminus \overline{B}$ is the interior of $M\smallsetminus B$ and $\overline{B}\smallsetminus B$ is the boundary of $M\smallsetminus B$.

	Thus $M\smallsetminus B$ is an $n$-manifold with boundary, whose boundary is homeomorphic to $\mathbb{S}^{n-1}$.
\end{proof}

\begin{problem}{4-18}\label{problem:4-18}
Let $M_{1}$ and $M_{2}$ be $n$-manifolds. For $i = 1, 2$, let $B_{i} \subseteq M_{i}$ be regular coordinate balls, and let $M_{i}' = M_{i} \smallsetminus B_{i}$. Choose a homeomorphism $f: \partial M_{2}' \to \partial M_{1}'$ (such a homeomorphism exists by Problem~\ref{problem:4-17}). Let $M_{1}\# M_{2}$ (called a \textbf{connected sum of $M_{1}$ and $M_{2}$}) be the adjunction space $M_{1}' \cup_{f} M_{2}'$.
\begin{enumerate}[label={(\alph*)}]
	\item Show that $M_{1} \# M_{2}$ is an $n$-manifold (without boundary).
	\item Show that if $M_{1}$ and $M_{2}$ are connected and $n > 1$, then $M_{1} \# M_{2}$ is connected.
	\item Show that if $M_{1}$ and $M_{2}$ are compact, then $M_{1}\# M_{2}$ is compact.
\end{enumerate}
\end{problem}

\begin{proof}
	\begin{enumerate}[label={(\alph*)}]
		\item $M_{1}'$ and $M_{2}'$ are $n$-manifolds with boundary and their boundaries are homeomorphic to $\mathbb{S}^{n-1}$. According to Theorem 3.79, $M_{1} \# M_{2}$ is an $n$-manifold without boundary.
		\item We will prove that $M_{1}\smallsetminus B_{1}$ and $M_{2}\smallsetminus B_{2}$ are path-connected. However, it suffices to prove that $M_{1}\smallsetminus B_{1}$ is path-connected.

		      In a manifold (without or with boundary), connectedness and path-connectedness are equivalent. Let $p, q$ be two points of $M_{1}\smallsetminus B_{1}$. Because $M_{1}$ is path-connected, there exists a path function $h: \closedinterval{0, 1} \to M_{1}$ such that $h(0) = p$ and $h(1) = q$. If $h(\closedinterval{0, 1})$ is contained entirely in $M_{1}\smallsetminus B_{1}$ then there is a path connecting $p$ and $q$ in $M_{1}\smallsetminus B_{1}$.

		      Otherwise, $h(\closedinterval{0, 1})$ intersects $B_{1}$, consider the set $K = h^{-1}(\overline{B_{1}})$. Because $h$ is continuous, $K$ is closed. Moreover, $K$ is contained in the compact set $\closedinterval{0, 1}$ so $K$ is also compact, hence $K$ has a minimum $t_{1}$ and a maximum $t_{2}$. By the definition of $t_{1}, t_{2}$, it follows that $h(\closedinterval{0, t_{1}})$ and $h(\closedinterval{t_{2}, 1})$ are contained entirely in $M_{1}\smallsetminus B_{1}$.

		      We will show that $h(t_{1})$ and $h(t_{2})$ lie on $\overline{B_{1}}\smallsetminus B_{1}$. Let $U$ be an arbitrary neighborhood of $h(t_{1})$ then $h^{-1}(U)$ is a neighborhood of $t_{1}$ in $[0, 1]$. $h^{-1}(U)$ contains numbers less than $t_{1}$ whose images are not in $K$, according to the minimality of $t_{1}$, so $U$ intersects $M\smallsetminus \overline{B}$. Of course $U$ intersects $\overline{B}$ as $t_{1} \in U \cap \overline{B_{1}}$. Hence $h(t_{1})$ lies on the boundary of $\overline{B_{1}}$, which is $\overline{B_{1}}\smallsetminus B_{1}$. Analogously, $h(t_{2})$ lies on the boundary of $\overline{B_{1}}$.

		      Because the boundary of $\overline{B_{1}}$ is homeomorphic to the sphere $\mathbb{S}^{n-1}$ and it is path-connected as $n > 1$, there is a continuous function $g: [t_{1}, t_{2}] \to \mathbb{S}^{n-1}$ such that $g(t_{1}) = p$ and $g(t_{2}) = q$. By the gluing lemma, there is a continuous function $\gamma: [0, 1] \to M\smallsetminus B$ such that $\gamma(0) = p$, $\gamma(1) = q$, $\gamma\vert_{[t_{1}, t_{2}]} \equiv g$, $\gamma\vert_{[0, t_{1}]} = h\vert_{[0, t_{1}]}$ and $\gamma\vert_{[t_{2}, 1]} = h\vert_{[t_{2}, 1]}$. Hence there is a path connecting $p, q\in M\smallsetminus B$, so $M_{1}\smallsetminus B_{1}$ is path-connected. Similarly, $M_{2}\smallsetminus B_{2}$ is path-connected.

		      According to Theorem 3.79, there exist embeddings $\varphi_{1}: M_{1}' \to M_{1}' \cup_{f} M_{2}'$ and $\varphi_{2}: M_{2}' \to M_{1}' \cup_{f} M_{2}'$ such that $\varphi_{1}(M_{1}') \cup \varphi_{2}(M_{2}') = M_{1}' \cup_{f} M_{2}'$ and $\varphi_{1}(M_{1}') \cap \varphi_{2}(M_{2}') = \varphi_{1}(\partial M'_{1}) = \varphi_{2}(\partial M'_{2})$. Because $\varphi_{1}(M_{1}')$, $\varphi_{2}(M_{2}')$ are path-connected and intersecting, it follows that their union is path-connected. So $M_{1}' \cup_{f} M_{2}'$ is path-connected, hence connected. Thus $M_{1} \# M_{2}$ is connected.
		\item $M_{1}\smallsetminus B_{1}$ is a closed subset of the compact space $M_{1}$ so $M_{1}\smallsetminus B_{1}$ is compact. Similarly, $M_{2}\smallsetminus B_{2}$ is compact, so $M_{1}', M_{2}'$ are compact. $M_{1}' \amalg M_{2}'$ is compact (the union of finitely many compact spaces is compact) so $M_{1}' \cup_{f} M_{2}' = (M_{1}' \amalg M_{2}')/\sim$ is compact (quotient space of a compact space is compact). Hence $M_{1}\# M_{2}$ is compact.
	\end{enumerate}
\end{proof}

\begin{note}
	If $M$ is a connected $n$-manifold, $n > 1$, and $A$ is a finite subset of $M$ then $M\smallsetminus A$ is a connected $n$-manifold.
\end{note}

\begin{proof}
	$M\smallsetminus A$ is an open subset of $M$ so $M\smallsetminus A$ is an $n$-manifold.

	$M\smallsetminus A$ is path-connected if $A = \emptyset$.

	If $A$ is a singleton, let $A = \set{x}$. Let $p, q \in M\smallsetminus A$. There exists a regular coordinate ball $B$ containing $x$ but not $p, q$. According to the proof of Problem~\ref{problem:4-18} (b), $M\smallsetminus B$ is path-connected, so there is a path in $M\smallsetminus B \subseteq M\smallsetminus A$ connecting $p$ and $q$. Therefore $M\smallsetminus A$ is path-connected.

	Assume the statement is true when $\abs{A} = k$ for $k \geq 1$. Suppose $\abs{A} = k + 1$, let $x$ be an element of $A$ then $M \smallsetminus (A\smallsetminus \set{x})$ is path-connected according to the inductive hypothesis. From the case of singleton subset, it follows that $M\smallsetminus A$ is path-connected.

	By the principle of mathematical induction, $M\smallsetminus A$ is a connected $n$-manifold.
\end{proof}

\begin{problem}{4-19}
Let $M_{1} \# M_{2}$ be a connected sum of $n$-manifolds $M_{1}$ and $M_{2}$. Show that there are open subsets $U_{1}, U_{2} \subseteq M_{1} \# M_{2}$ and points $p_{i} \in M_{i}$ such that $U_{i} \approx M_{i}\smallsetminus \set{p_{i}}$, $U_{1} \cap U_{2} \approx \mathbb{R}^{n}\smallsetminus \set{0}$, and $U_{1} \cup U_{2} = M_{1} \# M_{2}$.
\end{problem}

\begin{quotation}
	Remind that $M_{1} \# M_{2} = M_{1}' \cup_{f} M_{2}'$ where $M_{1}' = M_{1}\smallsetminus B_{1}$, $M_{2}' = M_{2}\smallsetminus B_{2}$; $B_{1} \subseteq M_{1}$, $B_{1} \subseteq M_{2}$ are regular coordinate balls; $f: \partial M'_{2} \to \partial M'_{1}$ is a homeomorphism.
\end{quotation}

% Unsolved

\begin{proof}
\end{proof}

\begin{problem}{4-20}
Consider the topology on the set of integers described in Problem~\ref{problem:2-17}. Show that $\mathbb{Z}$ with this topology is limit point compact but not compact.
\end{problem}

\begin{proof}
	Let $A$ be an infinite subset of $\mathbb{Z}$.

	If $A = \mathbb{Z}$. Every nonzero element $x$ of $A$ is a limit point of $A$, because every neighborhood of $x$ contains $x$ and $-x$, hence every neighborhood of $x$ intersects $A\smallsetminus\set{x}$.

	Otherwise, $A \ne \mathbb{Z}$. Let $x\in A$ such that $x\ne 0$ (such an element $x$ exists because $A$ is an infinite subset of $\mathbb{Z}$), then $-x$ is a limit point of $\mathbb{Z}$ as every neighborhood of $-x$ intersects $A\smallsetminus\set{-x}$ (it contains $x$).

	Therefore $A$ contains a limit point of $\mathbb{Z}$. Because $A$ is an arbitrary infinite subset of $\mathbb{Z}$, we conclude that $\mathbb{Z}$ is limit point compact.

	$\set{ \set{\pm n} \mid n\in\mathbb{Z}_{\geq 0} }$ is an open cover of $\mathbb{Z}$ which is infinite and the elements of this open cover are pairwise disjoint, so it doesn't have a finite subcover. Therefore $\mathbb{Z}$ is not compact.
\end{proof}

\begin{problem}{4-21}
Let $V$ be a finite-dimensional real vector space. A \textbf{norm} on $V$ is a real-valued function on $V$, written $x\mapsto \abs{x}$, satisfying the following properties:
\begin{itemize}
	\item \textsc{Positivity}: $\abs{x} \geq 0$, and $\abs{x} = 0$ if and only if $x = 0$.
	\item \textsc{Homogeneity}: $\abs{cx} = \abs{c}\abs{x}$ for all $c\in \mathbb{R}$ and $x\in V$.
	\item \textsc{Triangle inequality}: $\abs{x + y} \leq \abs{x} + \abs{y}$.
\end{itemize}

A norm determines a metric by $d(x, y) = \abs{x - y}$. Show that all norms determine the same topology on $V$. [Hint: first consider the case $V = \mathbb{R}^{n}$, and consider the restriction of the norm to the unit sphere.]
\end{problem}

\begin{proof}
	\textbf{Firstly, we prove that every norm is a pointwise continuous function.}

	For every $x\in V$, $\varepsilon > 0$, let $\delta(\varepsilon) = \varepsilon$, then whenever $y\in V$ satisfies $\abs{x - y} < \delta(\varepsilon)$, we have $\abs{\abs{x} - \abs{y}} \leq \abs{x - y} < \delta(\varepsilon) = \varepsilon$. Hence $x\mapsto \abs{x}$ is a pointwise continuous function.

	\textbf{Secondly, we prove that every norm on $\mathbb{R}^{n}$ is equivalent to the Euclidean norm.}

	Consider $V = \mathbb{R}^{n}$. Denote the Euclidean norm by $\abs{\cdot}_{2}$ and an arbitrary norm by $\abs{\cdot}$. Since $x\mapsto \abs{x}$ is continuous, then image of the unit sphere $\mathbb{S}^{n-1}$ (which is compact) under the norm is compact. By the extremum value theorem, the norms of vector on the unit sphere can attain maximum and minimum. Moreover, due to the positivity of norm, $\abs{\frac{x}{\abs{x}_{2}}}$ is nonzero for every nonzero $x$ in $V$. Hence there exist positive number $c_{1}, c_{2}$ such that $c_{1} \leq \abs{\frac{x}{\abs{x}_{2}}} \leq c_{2}$ for all $x \in \mathbb{R}^{n}\smallsetminus \set{0}$. Equivalently, $c_{1}\abs{x}_{2} \leq \abs{x} \leq c_{2}\abs{x}_{2}$ for all $x \in \mathbb{R}^{n}$ (The case $x = 0$ is obvious.) This means all norms on $\mathbb{R}^{n}$ are equivalent.

	\textbf{Lastly, we prove that all norms on a finite-dimensional real vector space are equivalent.}

	Let $V$ be an $n$-dimensional real vector space then $V$ is isomorphic to $\mathbb{R}^{n}$ (because all finite-dimensional vector spaces of the same dimension and on the same field are isomorphic). Let $f: V \to \mathbb{R}^{n}$ be an isomorphism, then $f$ and $f^{-1}$ are linear. Using $f$, we construct an one-to-one correspondence between norms on $V$ and norms on $\mathbb{R}^{n}$ as follows.

	Denote by $\abs{\cdot}_{V}$ a norm on $V$, then we define a real-value function $\abs{\cdot}: \mathbb{R}^{n} \to \mathbb{R}$ as follows: $\abs{x} = \abs{f^{-1}(x)}_{V}$. We will check whether this is a norm.
	\begin{itemize}
		\item $\abs{x} = \abs{f^{-1}(x)}_{V} \geq 0$ for all $x\in \mathbb{R}^{n}$. $\abs{x} = 0$ if and only if $\abs{f^{-1}(x)}_{V} = 0$, $\abs{f^{-1}(x)}_{V} = 0$ if and only if $f^{-1}(x) = 0$, $f^{-1}(x) = 0$ if and only if $x = 0$.
		\item For every $c\in \mathbb{R}, x\in\mathbb{R}^{n}$, $\abs{cx} = \abs{f^{-1}(cx)}_{V} = \abs{cf^{-1}(x)}_{V} = \abs{c}\abs{f^{-1}(x)}_{V} = \abs{c}\abs{x}$.
		\item For every $x, y\in \mathbb{R}^{n}$
		      \begin{equation*}
			      \abs{x + y} = \abs{f^{-1}(x + y)}_{V} = \abs{f^{-1}(x) + f^{-1}(y)}_{V} \leq \abs{f^{-1}(x)}_{V} + \abs{f^{-1}(y)}_{V} = \abs{x} + \abs{y}
		      \end{equation*}
	\end{itemize}

	so $\abs{\cdot}$ is indeed a norm on $\mathbb{R}^{n}$.

	Conversely, if $\abs{\cdot}$ is a norm on $\mathbb{R}^{n}$, $\abs{\cdot}_{V}: V\to \mathbb{R}$ given by $\abs{v}_{V} = \abs{f(v)}$ is a norm. Proof for this is similar.
	\begin{itemize}
		\item $\abs{v}_{V} = \abs{f(v)} \geq 0$ for all $v\in V$. $\abs{v}_{V} = 0$ if and only if $\abs{f(v)} = 0$, $\abs{f(v)} = 0$ if and only if $f(v) = 0$, $f(v) = 0$ if and only if $v = 0$.
		\item For every $c\in \mathbb{R}, v\in V$, $\abs{cv}_{V} = \abs{f(cv)} = \abs{cf(v)} = \abs{c}\abs{f(v)} = \abs{c}\abs{v}_{V}$.
		\item For every $v, w\in V$
		      \begin{equation*}
			      \abs{v + w}_{V} = \abs{f(v + w)} = \abs{f(v) + f(w)} \leq \abs{f(v)} + \abs{f(w)} = \abs{v}_{V} + \abs{w}_{V}.
		      \end{equation*}
	\end{itemize}

	Hence there is a one-to-one correspondence between norms on $V$ and norms on $\mathbb{R}^{n}$. Moreover, every norm on $\mathbb{R}^{n}$ is equivalent to the Euclidean norm, so all norms on $V$ are equivalent as they are equivalent to the corresponding norm of the Euclidean norm.

	Because all norms on $V$ are equivalent, they determine the same topology (see Exercise~\ref{exercise:2.4}).
\end{proof}

\begin{problem}{4-22}
Let $X = (\mathbb{R} \times \mathbb{Z})/_{\sim}$, where $\sim$ is the equivalence relation generated by $\tuple{x, n} \sim \tuple{x, m}$ for all $n, m \in \mathbb{Z}$ and all $x \ne 0$. Show that $X$ is locally compact but does not have a basis of precompact open subsets. [The space $X$ is called the \textbf{line with infinitely many origins}.]
\end{problem}

\begin{proof}
	Let $q: \mathbb{R}\times \mathbb{Z} \to (\mathbb{R}\times \mathbb{Z})/_{\sim}$ be the associated quotient map that induces the quotient topology on $X$. Consider a point $q(\tuple{x, n})$ in $X$. The following cases are exhaustive
	\begin{enumerate}[label={\textbf{Case \arabic*.}}, itemindent=1cm]
		\item $x > 0$

		      There exists $a, b, a_{0}, b_{0} > 0$ such that $a_{0} < a < b < b_{0}$ and $x \in \openinterval{a, b} \subseteq \openinterval{a_{0}, b_{0}}$.

		      The sets $\openinterval{a_{0}, b_{0}} \times \mathbb{Z}$ and $\openinterval{a, b} \times \mathbb{Z}$ are saturated open sets under $q$, so there images are open in $X$. On the other hand, $q(\openinterval{a_{0}, b_{0}} \times \mathbb{Z})$ is homeomorphic to the open interval $\openinterval{a_{0}, b_{0}}$ by the homeomorphism that maps $q(\set{s} \times \mathbb{Z})$ to $s$ for every $s\in \openinterval{a_{0}, b_{0}}$. Therefore $q(\closedinterval{a, b} \times \mathbb{Z}) \approx \closedinterval{a, b}$ (hence compact) is the closure of $q(\openinterval{a, b}\times\mathbb{Z})$.
		\item $x < 0$ (this case is similar to the previous one)
		\item $x = 0$

		      Let $\varepsilon > 0$. The following set
		      \begin{align*}
			      q^{-1}(q(\openinterval{-\varepsilon, \varepsilon} \times \set{n})) & = (\openinterval{-\varepsilon, 0} \times \mathbb{Z}) \cup (\set{0} \times \set{n}) \cup (\openinterval{0, \varepsilon} \times \mathbb{Z})                                                                                \\
			                                                                         & = (\openinterval{-\varepsilon, 0} \times \set{n}) \cup (\set{0} \times \set{n}) \cup (\openinterval{0, \varepsilon} \times \set{n})                                                                                      \\
			                                                                         & \phantom{=} \cup (\openinterval{-\varepsilon, 0} \times (\mathbb{Z}\smallsetminus\set{n})) \cup (\openinterval{0, \varepsilon} \times (\mathbb{Z}\smallsetminus\set{n}))                                                 \\
			                                                                         & = (\openinterval{-\varepsilon, \varepsilon} \times \set{n}) \cup (\openinterval{-\varepsilon, 0} \times (\mathbb{Z}\smallsetminus\set{n})) \cup (\openinterval{0, \varepsilon} \times (\mathbb{Z}\smallsetminus\set{n}))
		      \end{align*}

		      is open in $\mathbb{R}\times\mathbb{Z}$, so $q(\openinterval{-\varepsilon, \varepsilon} \times \set{n})$ is open in $X$. Hence $q(\openinterval{-\varepsilon, \varepsilon} \times \set{n})$ is a neighborhood of $q(\tuple{0, n})$.

		      For every $r > 0$, $\closedinterval{-r, r} \times \set{n}$ is a compact subset of $\mathbb{R}\times\mathbb{Z}$, so its image under the quotient map $q$ is compact. Therefore $q(\closedinterval{-r, r} \times \set{n})$ is compact. We can choose $r$ such that $r > \varepsilon$, then $q(\closedinterval{-r, r} \times \set{n})$ is a compact set containing $q(\tuple{0, n})$ and neighborhood $q(\openinterval{-\varepsilon, \varepsilon} \times \set{n})$ of $q(\tuple{0, n})$.
	\end{enumerate}

	Hence $X$ is locally compact, as every point of $X$ has a neighborhood contained in a compact subset of $X$.

	To prove that $X$ doesn't have a basis of precompact open sets, we will show that every neighborhood of $q(\tuple{0, n})$ is not precompact. Suppose on the contrary that $q(\tuple{0, n})$ has a precompact neighborhood $V$, then there exists $\varepsilon > 0$ such that $q(\openinterval{-\varepsilon, \varepsilon} \times \set{n}) \subseteq V$, where $q(\openinterval{-\varepsilon, \varepsilon} \times \set{n})$ is another neighborhood of $q(\tuple{0, n})$, as shown above.

	The closure of $q(\openinterval{-\varepsilon, \varepsilon} \times \set{n})$ is closed and contained in $\overline{V}$ hence it is compact. On the other hand, the closure of $q(\openinterval{-\varepsilon, \varepsilon} \times \set{n})$ is
	\begin{align*}
		q(\closedinterval{-\varepsilon, \varepsilon} \times \set{n}) \cup \bigcup_{k\in\mathbb{Z}} \tuple{0, k}
	\end{align*}

	which is not compact, since the open cover ${\left(\openinterval{-2\varepsilon, 2\varepsilon}\times\set{k}\right)}_{k\in\mathbb{Z}}$ of the closure of $q(\openinterval{-\varepsilon, \varepsilon} \times \set{n})$ doesn't have a finite subcover, because when we remove an open set $\openinterval{-2\varepsilon, 2\varepsilon} \times \set{k}$ from the open cover, the point $\tuple{0, k}$ will be no longer covered. So we established a contradiction.

	Therefore $q(\tuple{0,n})$ has no precompact neighborhood, hence $X$ doesn't have a basis of precompact open sets.
\end{proof}

\begin{problem}{4-23}\label{problem:4-23}
Let $X$ be a locally compact Hausdorff space. The \textbf{one-point compactification of $X$} is the topological space $X^{*}$ defined as follows. Let $\infty$ be some object not in $X$ and let $X^{*} = X \amalg \set{\infty}$ with the following topology:
\begin{align*}
	\mathscr{T} = \set{\text{open subsets of $X$}} \cup \set{U \subseteq X^{*} : X^{*} \smallsetminus U \,\text{is a compact subset of $X$}}.
\end{align*}
\begin{enumerate}[label={(\alph*)}]
	\item Show that $\mathscr{T}$ is a topology.
	\item Show that $X^{*}$ is a compact Hausdorff space.
	\item Show that a sequence of points in $X$ diverges to infinity if and only if it converges to $\infty$ in $X^{*}$.
	\item Show that $X$ is open in $X^{*}$ and has the subspace topology.
	\item Show that $X$ is dense in $X^{*}$ if and only if $X$ is noncompact.
\end{enumerate}
\end{problem}

\begin{proof}
	\begin{enumerate}[label={(\alph*)}]
		\item $\varnothing \in \mathscr{T}$ by definition as $\empty$ is an open subset of $X$. $X^{*} \in \mathscr{T}$ by definition as $X^{*}\smallsetminus X^{*} = \varnothing$ is a compact subset of $X$.

		      Let's consider the collection ${(U_{\alpha})}_{\alpha\in A}$ in which $U_{\alpha}\in \mathscr{T}$ for all $\alpha\in A$. Define
		      \begin{align*}
			      I & = \set{\alpha \in A : \text{$U_{\alpha}$ is an open subset of $X$}}                       \\
			      J & = \set{\alpha \in A : \text{$X^{*}\smallsetminus U_{\alpha}$ is a compact subset of $X$}}
		      \end{align*}

		      then $\bigcup_{\alpha\in I}U_{\alpha}$ is an open subset of $X$.

		      If $J = \varnothing$ then $\bigcup_{\alpha\in A}U_{\alpha} = \bigcup_{\alpha\in I}U_{\alpha} \in \mathscr{T}$. Otherwise, $J\ne \varnothing$ then $X^{*}\smallsetminus U_{\alpha}$ is a compact subset of $X$ for all $\alpha\in J$, hence $X^{*}\smallsetminus U_{\alpha}$ is closed since $X$ is Hausdorff. Moreover
		      \begin{align*}
			      X^{*}\smallsetminus \bigcup_{\alpha\in A}U_{\alpha} & = \bigcap_{\alpha\in A}(X^{*}\smallsetminus U_{\alpha})                                                                                                                                                   \\
			                                                          & = \underbrace{\bigcap_{\alpha\in I}(X^{*} \smallsetminus U_{\alpha})}_{\text{closed subset of $X$}} \cap \underbrace{\bigcap_{\alpha\in J}(X^{*}\smallsetminus U_{\alpha})}_{\text{closed subset of $X$}}
		      \end{align*}

		      is a closed subset of $X$ and a subset of some compact set $X^{*}\smallsetminus U_{\alpha}$ in which $\alpha\in J$, hence $X^{*}\smallsetminus \bigcup_{\alpha\in A}U_{\alpha}$ is a compact subset of $X$, so $\bigcup_{\alpha\in A}U_{\alpha} \in \mathscr{T}$.

		      Let $U, V \in \mathscr{T}$. If $U, V$ are open subsets of $X$ then so is $U\cap V$. If $X^{*}\smallsetminus U$ and $X^{*}\smallsetminus V$ are compact subsets of $X$ then so is $X^{*}\smallsetminus (U\cap V) = (X^{*}\smallsetminus U) \cup (X^{*}\smallsetminus V)$ because the union of finitely many compact sets is compact.

		      If $U$ is an open subset of $X$ and $V$ is not an open subset of $X$ then $X^{*}\smallsetminus V$ is a compact subset of $X$ and $V$ contains $\infty$. $X$ is Hausdorff and $X^{*}\smallsetminus V$ is a compact subset of $X$ so $X^{*}\smallsetminus V$ is a closed subset of $X$. Because $X^{*}\smallsetminus V = X\smallsetminus (V\smallsetminus \set{\infty})$, $V\smallsetminus \set{\infty}$ is an open subset of $X$. Therefore $U\cap V = U \cap (V\smallsetminus \set{\infty})$ is an open subset of $X$.

		      In any cases, $U\cap V \in \mathscr{T}$.

		      Thus $\mathscr{T}$ is a topology on $X^{*}$.
		\item Firstly, we show that $X^{*}$ is Hausdorff.

		      If $x, y \in X$ then $x, y$ have disjoint neighborhoods in $X$ because $X$ is Hausdorff.

		      If $x\in X$ and $y = \infty$ then there exists a compact subset $K\subseteq X$ and an open subset $U\subseteq X$ such that $x\in U\subseteq K$, since $X$ is locally compact. Let $V = X^{*}\smallsetminus K$ then $V$ is a neighborhood of $y$ and $U, V$ are disjoint. Therefore $X^{*}$ is Hausdorff.

		      Secondly, we show that $X^{*}$ is compact.

		      Let ${(U_{\alpha})}_{\alpha\in A}$ be an arbitrary open cover of $X^{*}$. Define
		      \begin{align*}
			      I & = \set{\alpha \in A : \text{$U_{\alpha}$ is an open subset of $X$}},                       \\
			      J & = \set{\alpha \in A : \text{$X^{*}\smallsetminus U_{\alpha}$ is a compact subset of $X$}}.
		      \end{align*}

		      Because ${(U_{\alpha})}_{\alpha\in A}$ covers $X^{*}$, the set $J$ is not empty (otherwise, $\infty$ is not covered). Let $\beta$ be an element of $J$, then $X^{*}\smallsetminus U_{\beta}$ is compact. ${(U_{\alpha})}_{\alpha\in A}$ covers the compact set $X^{*}\smallsetminus U_{\beta}$ so ${(U_{\alpha})}_{\alpha\in A}$ has a finite subcover that covers $X^{*}\smallsetminus U_{\beta}$. This finite subcover, together with $U_{\beta}$, covers the entire $X^{*}$. Therefore $X^{*}$ is compact.

		      Thus $X^{*}$ is a compact Hausdorff space.
		\item Let ${(x_{i})}$ be a sequence of points in $X$.

		      $(\Longrightarrow)$ ${(x_{i})}$ diverges to infinity.

		      By the definition of divergence to infinity, for every compact subset $K\subseteq X$, there are at most finitely many $i\in\mathbb{N}$ such that $x_{i} \in K$. Let $N$ be a positive integer that is larger than any of those $i$ that $x_{i} \in K$. Therefore $X^{*}\smallsetminus K$ contains $x_{i}$ for every $i \geq N$. On the other hand, $X^{*}\smallsetminus K$ is a neighborhood of $\infty$. Therefore, as a sequence in $X^{*}$, $x_{i}$ converges to $\infty$.

		      $(\Longleftarrow)$ As a sequence in $X^{*}$, $x_{i}$ converges to $\infty$.

		      Let $K$ be a compact subset of $X$, then $X^{*}\smallsetminus K$ is a neighborhood of $\infty$ in $X^{*}$. By the definition of convergence, there exists a positive integer $N$ such that $X^{*}\smallsetminus K$ contains $x_{i}$ whenever $i\geq N$. Therefore there are at most finitely many $i\in \mathbb{N}$ such that $x_{i} \in K$. Since $K$ is an arbitrary compact subset of $X$, it follows that ${(x_{i})}$ diverges to infinity, as a sequence in $X$.
		\item $X$ is an open subset of $X$ so $X\in\mathscr{T}$, which implies $X$ is open in $X^{*}$.

		      Let $U$ be an open subset of $X^{*}$ then by the definition of $\mathscr{T}$, then
		      \begin{itemize}
			      \item either $U$ is an open subset of $X$

			            $U\cap X = U$ is an open subset of $X$.
			      \item or $U$ is not an open subset of $X$

			            $U$ contains $\infty$ and $X^{*}\smallsetminus U$ is a compact subset of $X$, so $X^{*}\smallsetminus U$ is closed in $X$ since $X$ is Hausdorff. Moreover, $X^{*}\smallsetminus U = X\smallsetminus (U\smallsetminus \set{\infty})$, so $U\smallsetminus \set{\infty}$ is open in $X$, which means $U \cap X = U\smallsetminus \set{\infty}$ is open in $X$.
		      \end{itemize}

		      Therefore $X$ has the subspace topology inherited from $X^{*}$.
		\item If $X$ is dense in $X^{*}$ then $\overline{X} = X^{*}$, therefore $X$ is not closed, because $X \subsetneq \overline{X}$. Any compact subset of a Hausdorff space is closed, so $X$ is noncompact.

		      Conversely, if $X$ is noncompact then $\overline{X} = X^{*}$ since any neighborhood of $\infty$ intersects $X$ (so $\infty$ is a limit point of $X$). Therefore $X$ is dense in $X^{*}$.
	\end{enumerate}
\end{proof}

\begin{problem}{4-24}\label{problem:4-24}
Show that a topological space is a locally compact Hausdorff space if and only if it is homeomorphic to an open subset of a compact Hausdorff space.
\end{problem}

\begin{proof}
	Let $X$ be a topological space.

	$(\Longrightarrow)$ $X$ is locally compact Hausdorff.

	According to Problem~\ref{problem:4-23}, $X$ has an one-point compactification $X^{*}$ which is compact Hausdorff. $X$ is an open subset of $X^{*}$ and the topology on $X$ coincides with the subspace topology inherited from $X^{*}$. Therefore $X$ is homeomorphic to an open subset of a compact Hausdorff space.

	$(\Longleftarrow)$ $X$ is homeomorphic to an open subset of a compact Hausdorff space.

	Let $Y$ be a compact Hausdorff space such that there is an open subset $U$ of $Y$ such that $X$ is homeomorphic to it. Because $U$ is Hausdorff (subspace of a Hausdorff space is Hausdorff) so $X$ is Hausdorff. Compactness implies local compactness, so $Y$ is locally compact. $U$ is an open subset of a locally compact Hausdorff space so $U$ is a locally compact Hausdorff space (Proposition 4.66), hence $X$ is a locally compact Hausdorff space, as $X$ is homeomorphic to $U$.

	Thus $X$ is locally compact Hausdorff if and only if it is homeomorphic to an open subset of a compact Hausdorff space.
\end{proof}

\begin{note}
	One-point compactification of a locally compact Hausdorff space is unique up to a homeomorphism.
\end{note}

\begin{problem}{4-25}\label{problem:4-25}
Let $\sigma: \mathbb{S}^{n}\smallsetminus\set{N} \to \mathbb{R}^{n}$ be the stereographic projection, as defined in Example 3.21. Show that $\sigma$ extends to a homeomorphism of $\mathbb{S}^{n}$ with the one-point compactification of $\mathbb{R}^{n}$.
\end{problem}

\begin{quotation}
	$N = \tuple{0, \ldots, 0, 1} \in \mathbb{R}^{n+1}$. The stereographic production $\sigma: \mathbb{S}^{n}\smallsetminus\set{N} \to \mathbb{R}^{n}$ maps a point $x \in \mathbb{S}^{n}\smallsetminus\set{N}$ to a point $U$ such that $U = (u, 0)\in \mathbb{R}^{n+1}$, $x$ and $N$ are collinear. The formula of $\sigma$ is
	\begin{align*}
		\sigma(x_{1}, \ldots, x_{n+1}) = \frac{1}{1 - x_{n+1}}\tuple{x_{1}, \ldots, x_{n}}
	\end{align*}
\end{quotation}

\begin{proof}
	Denote by ${(\mathbb{R}^{n})}^{*}$ be the one-point compactification of $\mathbb{R}^{n}$. Define $f: \mathbb{S}^{n} \to {(\mathbb{R}^{n})}^{*}$ by
	\begin{align*}
		f\vert_{\mathbb{S}^{n}\smallsetminus\set{N}} & \equiv \sigma \\
		f(N)                                         & = \infty
	\end{align*}

	$f$ is bijective by definition and because $\sigma$ is bijective. According to the closed map lemma, $f$ is closed. Let $U$ be an open subset of ${(\mathbb{R}^{n})}^{*}$ then either $U$ is an open subset of $\mathbb{R}^{n}$ or not.

	If $U$ is an open subset of $\mathbb{R}^{n}$ then $f^{-1}(U) = \sigma^{-1}(U)$ is an open subset of $\mathbb{S}^{n}\smallsetminus\set{N}$, hence an open subset of $\mathbb{S}^{n}$.

	If $U$ is not an open subset of $\mathbb{R}^{n}$ then ${(\mathbb{R}^{n})}^{*}\smallsetminus U$ is a compact subset of $\mathbb{R}^{n}$.
	\begin{align*}
		f^{-1}(U) & = f^{-1}({(\mathbb{R}^{n})}^{*} \smallsetminus ({(\mathbb{R}^{n})}^{*} \smallsetminus U))      \\
		          & = f^{-1}({(\mathbb{R}^{n})}^{*}) \smallsetminus f^{-1}({(\mathbb{R}^{n})}^{*}\smallsetminus U) \\
		          & = \mathbb{S}^{n} \smallsetminus f^{-1}({(\mathbb{R}^{n})}^{*}\smallsetminus U)
	\end{align*}

	Because $f$ is bijective and $f$ is closed, it follows that $f^{-1}$ is continuous. By the main theorem on compactness, $f^{-1}({(\mathbb{R}^{n})}^{*}\smallsetminus U)$ is compact. $f^{-1}({(\mathbb{R}^{n})}^{*}\smallsetminus U)$ is a compact subset of the Hausdorff space $\mathbb{S}^{n}$ so it is closed. Therefore $\mathbb{S}^{n} \smallsetminus f^{-1}({(\mathbb{R}^{n})}^{*}\smallsetminus U)$ is open in $\mathbb{S}^{n}$, which means $f^{-1}(U)$ is open in $\mathbb{S}^{n}$. Therefore $f$ is continuous.

	$f$ is bijective, closed, and continuous so $f$ is a homeomorphism. Thus $\sigma$ extends to $f$, a homeomorphism of $\mathbb{S}^{n}$ with the one-point compactification of $\mathbb{R}^{n}$.
\end{proof}

\begin{problem}{4-26}\label{problem:4-26}
Let $M$ be a compact manifold of positive dimension, and let $p\in M$. Show that $M$ is homeomorphic to the one-point compactification of $M\smallsetminus \set{p}$.
\end{problem}

\begin{proof}
	$M$ is Hausdorff (because $M$ is a manifold) so $\set{p}$ is a closed subset of $M$ and $M\smallsetminus \set{p}$ is an open subset of $M$. According to Problem~\ref{problem:4-24}, $M\smallsetminus \set{p}$ is a locally compact Hausdorff space so it has an one-point compactification.

	Denote by ${(M\smallsetminus \set{p})}^{*}$ the one-point compactification of $M\smallsetminus \set{p}$. The map $f: M \to {(M\smallsetminus \set{p})}^{*}$ given by $f\vert_{M\smallsetminus \set{p}} \equiv \operatorname{Id}_{M\smallsetminus \set{p}}$ and $f(p) = \infty$. By definition, $f$ is bijective, so $f$ has an inverse. According to the closed map lemma, $f$ is closed. Therefore $f^{-1}$ is continuous.

	Let $U$ be an open subset of ${(M\smallsetminus \set{p})}^{*}$. If $U$ is an open subset of $M\smallsetminus \set{p}$ then $f^{-1}(U) = U$. Otherwise, $U$ is not an open subset of $M\smallsetminus \set{p}$, then ${(M\smallsetminus \set{p})}^{*} \smallsetminus U$ is a compact subset of $M\smallsetminus \set{p}$. Due to the main theorem on compactness, $f^{-1}({(M\smallsetminus \set{p})}^{*} \smallsetminus U)$ is compact. $M$ is Hausdorff, so the compact subset $f^{-1}({(M\smallsetminus \set{p})}^{*} \smallsetminus U) \subseteq M$ is closed. Hence the set
	\begin{align*}
		f^{-1}(U) & = f^{-1}({(M\smallsetminus\set{p})}^{*} \smallsetminus ({(M\smallsetminus\set{p})}^{*} \smallsetminus U))       \\
		          & = f^{-1}({(M\smallsetminus\set{p})}^{*}) \smallsetminus f^{-1}({(M\smallsetminus\set{p})}^{*} \smallsetminus U) \\
		          & = M \smallsetminus f^{-1}({(M\smallsetminus\set{p})}^{*} \smallsetminus U)
	\end{align*}

	is open in $M$. So $f$ is bijective, closed, continuous, which means $f$ is a homeomorphism.

	Thus $M$ is homeomorphic to the one-point compactification of $M\smallsetminus \set{p}$.
\end{proof}

\begin{problem}{4-27}
Suppose $X$ and $Y$ are locally compact Hausdorff spaces, and $X^{*}$ and $Y^{*}$ are their one-point compactifications. Show that a continuous map $f: X\to Y$ is proper if and only if it extends to a continuous map $f^{*}: X^{*} \to Y^{*}$ taking $\infty \in X^{*}$ to $\infty \in Y^{*}$.
\end{problem}

\begin{proof}
	We will prove that the continuous map $f$ is proper if and only if $f^{*}$ is continuous.

	$(\Longrightarrow)$ $f$ is proper.

	Let $U$ be an open subset of $Y^{*}$. If $U \subseteq Y$ then ${(f^{*})}^{-1}(U) = f^{-1}(U)$, which is open in $X$ and then $X^{*}$ ($X$ is an open subset of $X^{*}$). Otherwise, $U \subsetneq Y$ then $Y^{*}\smallsetminus U$ is a compact subset of $Y$ (see the definition of the topology on $Y^{*}$ in Problem~\ref{problem:4-23}). Because $f$ is proper, $f^{-1}(Y^{*}\smallsetminus U)$ is a compact subset of $X$ and hence compact subset of $X^{*}$. $X^{*}$ is Hausdorff, so $f^{-1}(Y^{*}\smallsetminus U)$ is closed in $X^{*}$, hence the set
	\begin{align*}
		{(f^{*})}^{-1}(U) & = {(f^{*})}^{-1}(Y^{*} \smallsetminus (Y^{*}\smallsetminus U))               \\
		                  & = {(f^{*})}^{-1}(Y^{*}) \smallsetminus {(f^{*})}^{-1}(Y^{*}\smallsetminus U) \\
		                  & = X^{*} \smallsetminus f^{-1}(Y^{*}\smallsetminus U).
	\end{align*}

	is open in $X^{*}$. Therefore ${(f^{*})}^{-1}(U)$ is open in $X^{*}$ whenever $U$ is open in $Y^{*}$, which means $f^{*}$ is continuous.

	$(\Longleftarrow)$ $f^{*}$ is continuous.

	Let $K$ be a compact subset of $Y$. $K\subseteq Y$ and $f^{*}(\infty_{X}) = \infty_{Y}$ so ${(f^{*})}^{-1}(K) = f^{-1}(K)$.

	According to the definition of the topology on $Y^{*}$, $Y^{*}\smallsetminus K$ is an open subset of $Y^{*}$. Therefore ${(f^{*})}^{-1}(Y^{*}\smallsetminus K)$ is open in $X^{*}$. On the other hand
	\begin{align*}
		{(f^{*})}^{-1}(Y^{*}\smallsetminus K) = {(f^{*})}^{-1}(Y^{*}) \smallsetminus {(f^{*})}^{-1}(K) = X^{*} \smallsetminus {(f^{*})}^{-1}(K)
	\end{align*}

	According to the definition of the topology on $X^{*}$, ${(f^{*})}^{-1}(K) = X^{*} \smallsetminus (X^{*} \smallsetminus {(f^{*})}^{-1}(K))$ is a compact subset of $X$.

	Hence $f^{-1}(K)$ is a compact subset of $X$ whenever $K$ is a compact subset of $Y$, so $f$ is proper.
\end{proof}

\begin{problem}{4-28}
Suppose $M$ is a noncompact manifold of dimension $n\geq 1$. Show that its one-point compactification is an $n$-manifold if and only if there exists a precompact open subset $U \subseteq M$ such that $M\smallsetminus U$ is homeomorphic to $\mathbb{R}^{n} \smallsetminus \mathbb{B}^{n}$. Given an example of a noncompact manifold whose one-point compactification is not a manifold. [Hint: you may find the inversion map $\mathscr{I}: \mathbb{R}^{n} \smallsetminus \mathbb{B}^{n} \to \overline{\mathbb{B}}^{n}$ defined by $\mathscr{I}(x) = x/\abs{x}^{2}$ useful.]
\end{problem}

% Unsolved

\begin{proof}
	Denote by $M^{*}$ the one-point compactification of $M$, where $M^{*} = M \cup \set{\infty}$. $M$ is locally compact Hausdorff so $M^{*}$ is compact Hausdorff, according to Problem~\ref{problem:4-23}.

	Because $M$ is a manifold, $M$ has a countable basis ${(U_{i})}_{i\in\mathbb{N}}$ consisting of regular coordinate balls. $M$ is paracompact and Hausdorff so there is an indexed family ${(V_{i})}_{i\in\mathbb{N}}$ which is a locally finite open refinement of ${(U_{i})}_{i\in\mathbb{N}}$ such that $\overline{V_{i}} \subseteq U_{i}$ for each $i$ (Lemma~\ref{lemma:4.65}). Because $\overline{V_{i}} \subseteq U_{i} \subseteq \overline{U_{i}}$ and $\overline{U_{i}}$ is compact ($U_{i}$ is a regular coordinate ball) for each $i$, then $V_{i}$ is a precompact open set for each $i$. Therefore ${(V_{i})}_{i\in\mathbb{N}}$ is a countable basis of $M$ consisting of precompact open sets and this basis (as an indexed family) is locally finite.

	$(\Longrightarrow)$ $M^{*}$ is an $n$-manifold.

	$(\Longleftarrow)$ There exists a precompact open subset $U\subseteq M$ such that $M\smallsetminus U$ is homeomorphic to $\mathbb{R}^{n}\smallsetminus\mathbb{B}^{n}$.

	\textbf{Counterexample.} $M = \set{1/n : n\in\mathbb{N}}$ is a noncompact 0-manifold (the open cover consisting of the singletons $\set{1/n}$ doesn't have any finite subcover). Define $M^{*} = M \cup \set{0}$ then $M^{*}$ is compact. $M^{*}$ is not an $n$-manifold for any $n \geq 1$ because every neighborhood of any point of $M^{*}$ is not homeomorphic to any open subset of $\mathbb{R}^{n}$ for any fixed $n\geq 1$. Moreover, every neighborhood of 0 in $M^{*}$ is not homeomorphic to any open subset of $\mathbb{R}^{0} = \set{0}$ (because every neighborhood of 0 in $M^{*}$ contains countably infinite points of $M^{*}$). Hence $M^{*}$ is not a 0-manifold, so $M^{*}$ is not a manifold.
\end{proof}

\begin{problem}{4-29}
Let $X$ be a complete metric space or a locally compact Hausdorff space. Show that every nonempty countable closed subset of $X$ contains at least one isolated point. [Hint: use the Baire category theorem.]
\end{problem}

\begin{proof}
	Let $A$ be a nonempty countable closed subset of $X$.

	If $X$ is a complete metric space, then $A$ is also a metric space with the subspace topology according to Exercise~\ref{exercise:3.3}. Let ${(p_{i})}$ be a Cauchy sequence in $A$ then ${(p_{i})}$ is a Cauchy sequence in $X$ so it converges in $X$. Because $A$ is closed and $X$ is first countable, then $A$ contains the limit of ${(p_{i})}$ according to the sequence lemma, which means ${(p_{i})}$ converges in $A$, so $A$ is complete. Therefore $A$ is a complete metric space.

	If $X$ is locally compact Hausdorff then so is $A$ with the subspace topology, according to Proposition 4.66 (any open or closed subset of a locally compact Hausdorff space is a locally compact Hausdorff space with respect to the subspace topology).

	Therefore $A$ is a complete metric space or a locally compact Hausdorff space, which means $A$ is a Baire space, according to Baire category theorem.

	If $A$ is singleton then the only point of $A$ is isolated. Assume that $A$ has more than one element.

	Suppose on the contrary that $A$ has no isolated point, then every point of $A$ is a limit point. For every $x\in A$, $A\smallsetminus \set{x}$ is an open dense subset of $A$. According to the Baire category theorem, $\bigcap_{x\in A}(A\smallsetminus \set{x})$ is dense in $A$. However, $\bigcap_{x\in A}(A\smallsetminus \set{x}) = \varnothing$, which is a contradiction. Hence $A$ has at least one isolated point.

	Thus $A$ has at least one isolated point.
\end{proof}

\begin{problem}{4-30}\label{problem:4-30}
Prove the following generalization of the gluing lemma: suppose $X$ is a topological space and ${(X_{\alpha})}_{\alpha\in A}$ is a locally finite closed cover of $X$. If for each $\alpha\in A$ we are given a continuous map $f_{\alpha}: X_{\alpha} \to Y$ such that $f_{\alpha}\vert_{X_{\alpha}\cap X_{\beta}} = f_{\beta}\vert_{X_{\alpha}\cap X_{\beta}}$ for all $\alpha$ and $\beta$, then there exists a unique continuous map $f: X\to Y$ whose restriction to each $X_{\alpha}$ is $f_{\alpha}$.
\end{problem}

\begin{proof}
	There exists a map $f: X\to Y$ such that $f\vert_{X_{\alpha}} = f_{\alpha}$ for each $\alpha\in A$. It remains to prove that $f$ is continuous and $f$ is unique.

	\textbf{Prove that $f$ is continuous.}

	Let $C$ be a closed subset of $Y$. $f_{\alpha}^{-1}(C)$ is closed  because $f_{\alpha}$ is continuous for every $\alpha\in A$. $f^{-1}(C) \cap X_{\alpha} = f_{\alpha}^{-1}(C)$ for every $\alpha\in A$, so
	\begin{align*}
		f^{-1}(C) & = f^{-1}(C) \cap \bigcup_{\alpha\in A}X_{\alpha}   \\
		          & = \bigcup_{\alpha\in A} (f^{-1}(C)\cap X_{\alpha}) \\
		          & = \bigcup_{\alpha\in A} f_{\alpha}^{-1}(C).
	\end{align*}

	Because ${(X_{\alpha})}_{\alpha\in A}$ is locally finite, then ${(f_{\alpha}^{-1}(C))}_{\alpha\in A}$ is also locally finite since $f_{\alpha}^{-1}(C) \subseteq X_{\alpha}$ for each $\alpha\in A$.
	\begin{align*}
		\overline{\bigcup_{\alpha\in A} f_{\alpha}^{-1}(C)} & = \bigcup_{\alpha\in A} \overline{f_{\alpha}^{-1}(C)} & \text{(Lemma 4.75)}                                            \\
		                                                    & = \bigcup_{\alpha\in A} f_{\alpha}^{-1}(C)            & \text{($f_{\alpha}^{-1}(C)$ is closed for each $\alpha\in A$)}
	\end{align*}

	so $\bigcup_{\alpha\in A} f_{\alpha}^{-1}(C)$ is closed in $X$, which implies $f^{-1}(C)$ is closed in $X$. Hence $f$ is continuous.

	\textbf{Prove that $f$ is unique.}

	Assume that $g$ is a continuous map from $X$ to $Y$ such that $g\vert_{X_{\alpha}} = f_{\alpha}$ for each $\alpha\in A$. For each $x\in X$, there is $\alpha\in A$ such that $x\in X_{\alpha}$, so $g(x) = f_{\alpha}(x) = f(x)$. Hence $g \equiv f$.

	Thus there exists a unique continuous map $f: X\to Y$ whose restriction to each $X_{\alpha}$ is $f_{\alpha}$.
\end{proof}

\begin{note}[Locally finite cover by precompact open sets]\label{note:star-finite-locally-finite-cover-by-precompact-open-sets}
	Let $\mathcal{U}$ be a locally finite cover by precompact open sets of $X$. Then every $U\in\mathcal{U}$ intersects finitely many elements of $\mathcal{U}$.
\end{note}

\begin{proof}
	$\mathcal{U}$ is locally finite so by Lemma 4.74, $\overline{\mathcal{U}} = \set{ \overline{U} : U\in\mathcal{U} }$ is also locally finite.

	Let $U$ be a nonempty element of $\mathcal{U}$. For each $x\in \overline{U}$, there is a neighborhood $V_{x}$ of $x$ that intersects only finitely many elements of $\mathcal{U}$. The collection of these neighborhoods $V_{x}$ is an open cover of $\overline{U}$. $\overline{U}$ is compact so this collection has a finite subcover $\mathcal{W}$ that covers $\overline{U}$ (hence covers $U$). The set $\bigcup_{V_{x}\in\mathcal{W}} V_{x}$ intersects finitely many elements of $\mathcal{U}$ as $\mathcal{W}$ is finite and each $V_{x}\in\mathcal{W}$ intersects finitely many elements of $\mathcal{U}$. Moreover, $U \subseteq \bigcup_{V_{x}\in\mathcal{W}} V_{x}$ so $U$ intersects only finitely many elements of $\mathcal{U}$.
\end{proof}

\begin{note}\label{note:connected-chain}
	Suppose $\mathcal{U}$ is an open cover of a connected space $X$. For every $U_{0}, U' \in \mathcal{U}$, there is a finite sequence $U_{0}, U_{1}, \ldots, U_{k}$ in $\mathcal{U}$ such that $U_{k} = U'$ and $U_{i-1}\cap U_{i} \ne \emptyset$ for $i = 1, \ldots, k$.
\end{note}

\begin{proof}
	We define the relation $\sim$ on $X$ as follows:
	\begin{quotation}
		$x\sim y$ if and only if there exists a finite sequence $U_{0}, U_{1}, \ldots, U_{k}$ of sets in $\mathcal{U}$ such that $U_{i} \cap U_{i-1} \ne \varnothing$ for $i = 1, \ldots, k$ and $x\in U_{0}, y\in U_{k}$.
	\end{quotation}

	From this definition, we can prove that $\sim$ is an equivalence relation on $X$.

	Let $x$ be a point of $X$. Consider the equivalence class ${[x]}_{\sim}$ of $x$.

	Let $a$ be a point of ${[x]}_{\sim}$ then there is a finite sequence $U_{0}, U_{1}, \ldots, U_{k}$ of sets in $\mathcal{U}$ such that $U_{i} \cap U_{i-1} \ne \varnothing$ for $i = 1, \ldots, k$ and $x\in U_{0}, a\in U_{k}$. Any point of $U_{k}$ is equivalent to $x$ by the definition of $\sim$ so $U_{k}$ is a neighborhood of $a$ contained in ${[x]}_{\sim}$. Therefore ${[x]}_{\sim}$ is open.

	Let $y$ be a point in the closure of ${[x]}_{\sim}$ then either
	\begin{itemize}
		\item $y$ is in ${[x]}_{\sim}$
		\item or $y$ is not in ${[x]}_{\sim}$ then $y$ is a boundary point of ${[x]}_{\sim}$. There is an element $U$ of $\mathcal{U}$ containing $y$ (since $\mathcal{U}$ covers $X$). This element $U$ is a neighborhood of $y$ and $y$ is the boundary point of ${[x]}_{\sim}$ so it intersects ${[x]}_{\sim}$. Let $z$ be a point in this intersection then $x\sim z$ and $z\sim y$, which means $x\sim y$. Hence $y$ is in ${[x]}_{\sim}$.
	\end{itemize}

	Hence ${[x]}_{\sim}$ is equal to its closure, which means ${[x]}_{\sim}$ is closed.

	${[x]}_{\sim}$ is a nonempty clopen subset of the connected space $X$ so ${[x]}_{\sim} = X$. Thus the result follows.
\end{proof}

\begin{note}\label{note:locally-finite-cover-by-precompact-open-sets-in-connected-spaces}
	Locally finite cover by precompact open sets in a connected space is countable.
\end{note}

\begin{proof}
	Let $\mathcal{U}$ be a locally finite cover of (nonempty) precompact open sets of a connected space $X$.

	Choose $U_{0}$ in $\mathcal{U}$. Define $\mathcal{V}_{0} = \set{ U_{0} }$ and $\mathcal{V}_{n}$ recursively as follows:
	\begin{align*}
		\mathcal{V}_{n+1} := \set{ U\in\mathcal{U}: \text{there exists $V \in \mathcal{V}_{n}$ such that $V$ intersects $U$} }
	\end{align*}

	for every $n\geq 0$.

	$\mathcal{V}_{0}$ is finite since it is a singleton. Assume that $\mathcal{V}_{n}$ is finite, then from Note~\ref{note:star-finite-locally-finite-cover-by-precompact-open-sets} and the definition of $\mathcal{V}_{n+1}$, it follows that $\mathcal{V}_{n+1}$ is finite. Hence $\mathcal{V}_{n}$ is finite for every nonnegative integer $n$.

	Therefore $\mathcal{V} = \bigcup^{\infty}_{i=0}\mathcal{V}_{i}$ is countable. $\mathcal{V} \subseteq \mathcal{U}$ according to the definition of $\mathcal{V}_{n}$. Let $U\in \mathcal{U}$. According to Note~\ref{note:connected-chain}, there is a finite sequence $U_{0}, \ldots, U_{k}$ such that $U_{i-1}\cap U_{i}\ne \emptyset$ for $i = 1, \ldots, k$ and $U_{k} = U$ (the set $U_{0}$ is the same as what we have chosen initially). Therefore $U_{1} \in \mathcal{V}_{1}, U_{2} \in \mathcal{V}_{2}, \ldots, U_{k} \in \mathcal{V}_{k}$, which implies that $U\in \mathcal{V}$. Hence $\mathcal{U} \subseteq \mathcal{U}$. Thus $\mathcal{U}$ is countable as $\mathcal{U} = \mathcal{V}$.
\end{proof}

\begin{problem}{4-31}
Suppose $X$ is Hausdorff, locally Euclidean of dimension $n$, and paracompact. Show that $X$ is an $n$-manifold if and only if it has countably many components, as follows.
\begin{enumerate}[label={(\alph*)},itemsep=0pt]
	\item Show that it suffices to assume $X$ is connected.
	\item Show that $X$ has a locally finite cover $\mathscr{U}$ by precompact open sets that are $n$-manifolds.
	\item ($X$ is connected) Choose an arbitrary nonempty $U_{0} \in \mathscr{U}$, and say a set $U' \in \mathscr{U}$ is \textbf{finitely connected to $U_{0}$} if there is a finite sequence $U_{0}, U_{1}, \ldots, U_{k}$ of sets in $\mathscr{U}$ such that $U_{k} = U'$ and $U_{i} \cap U_{i-1} \ne \varnothing$ for $i = 1, \ldots, k$. Show that every nonempty element of $\mathscr{U}$ is finitely connected to $U_{0}$, and conclude that $\mathscr{U}$ is countable.
\end{enumerate}
\end{problem}

\begin{proof}
	\begin{enumerate}[label={(\alph*)}]
		\item $X$ is locally Euclidean of dimension $n$ so $X$ is locally path-connected (hence locally connected).

		      Assume that the statement holds for connected manifolds.

		      If $X$ is an $n$-manifold then it has countably many components, according to Problem~\ref{problem:4-9}. Conversely, if $X$ has countably many components, then each component is Hausdorff, locally Euclidean of dimension $n$. Every component of $X$ is a closed subset of $X$, $X$ is paracompact so every closed subset of it is also paracompact, so each component of $X$ is paracompact (Problem~\ref{problem:4-32}). Therefore each component of $X$ is Hausdorff, locally Euclidean of dimension $n$, and paracompact, which implies $X$ is an $n$-manifold due to the assumption.

		      Hence it suffices to assume $X$ is connected.
		\item $X$ is locally Euclidean of dimension $n$ so $X$ has a cover $\mathscr{B}$ consisting of open sets that are homeomorphic to $\mathbb{B}^{n}$ where $\mathbb{B}^{n}$ is the open $n$-ball.

		      For each $U\in \mathscr{B}$, there is a homeomorphism $\varphi_{U}: U \to \mathbb{B}^{n}$ and the collection of preimages $\set{ \varphi_{U}^{-1}(B_{r}(0)) : 0 < r < 1 }$ is an open cover of $U$ and consists of precompact open sets, since $\overline{\varphi_{U}^{-1}(B_{r}(0))} = \varphi_{U}^{-1}(\bar{B}_{r}(0))$ is compact for every $0 < r < 1$.

		      Hence $X$ has an open cover of precompact open sets
		      \begin{align*}
			      \mathscr{C} = \set{ \varphi_{U}^{-1}(B_{r}(0)) : 0 < r < 1, U\in \mathscr{B} }
		      \end{align*}

		      and each of these sets is an $n$-manifold because $\varphi_{U}^{-1}(B_{r}(0))$ is homeomorphic to $B_{r}(0)$.

		      $X$ is paracompact so $\mathscr{C}$ has a locally finite open refinement $\mathscr{U}$. Each $U\in\mathscr{U}$ is an open subset of some $A\in \mathscr{C}$. $A$ is an $n$-manifold and precompact so $U$ is an $n$-manifold and precompact. Hence $\mathscr{U}$ is a locally finite cover of $X$ by precompact open sets that are $n$-manifolds.
		\item From the construction in part (ii), $\mathscr{U}$ is a locally finite cover of $X$ by precompact open sets that are connected $n$-manifolds. Let $U_{0}, U'$ be nonempty elements of $\mathscr{U}$.

		      Every nonempty element of $\mathscr{U}$ is finitely connected to $U_{0}$ according to Note~\ref{note:connected-chain}. According to Note~\ref{note:locally-finite-cover-by-precompact-open-sets-in-connected-spaces}, $\mathscr{U}$ is countable.
	\end{enumerate}

	$\mathscr{U}$ is countable and consists of precompact open sets so $X$ is covered by countably many compact sets ($\overline{U}$'s where $U \in \mathscr{U}$), which means $X$ is $\sigma$-compact. From Problem~\ref{problem:4-16}, we conclude that $X$ is second-countable, hence an $n$-manifold.
\end{proof}

\begin{problem}{4-32}\label{problem:4-32}
Prove that every closed subspace of a paracompact space is paracompact.
\end{problem}

\begin{proof}
	Suppose $X$ is a paracompact space and $K$ is a closed subset of $X$.

	Let $\set{ U_{\alpha}: \alpha\in A }$ be an open cover of $K$ in the subspace $K$. For each $\alpha\in A$, there is an open subset $V_{\alpha}\subseteq X$ such that $U_{\alpha} = V_{\alpha}\cap K$ (due to the definition of subspace topology). The collection $\set{ V_{\alpha} : \alpha\in K } \cup \set{ X\smallsetminus K }$ is an open cover of the paracompact space $X$. Therefore this open cover has a locally finite open refinement $\mathcal{O}$. In the open cover $\mathcal{O}$, let $\mathscr{U} = \set{ U \in \mathcal{O} : \text{$U \subseteq V_{\alpha}$ for some $\alpha\in A$} }$ then $\mathscr{U}$ is a locally finite open cover of $K$. Moreover, for each $U\in \mathscr{U}$, $U \subseteq V_{\alpha}$ for some $\alpha\in A$ and $U\subseteq K$ so $U \subseteq U_{\alpha} = V_{\alpha}\cap K$. Therefore $\mathscr{U}$ is a locally finite open refinement of the open cover $\set{ U_{\alpha}: \alpha\in A }$ of $K$. Hence $K$, as a closed subspace of $X$, is paracompact.
\end{proof}

\begin{problem}{4-33}\label{problem:4-33}
Suppose $X$ is a topological space with the property that for every open cover of $X$, there exists a partition of unity subordinate to it. Prove that $X$ is paracompact.
\end{problem}

\begin{proof}
	Let ${(U_{\alpha})}_{\alpha\in A}$ is an indexed open cover of $X$. Due to the hypothesis, ${(U_{\alpha})}_{\alpha\in A}$ has a partition of unity subordinate to it, which is a family of continuous functions $\psi_{\alpha}: X\to \mathbb{R}$ indexed by $A$ with the properties:
	\begin{enumerate}[label={(\arabic*)},itemsep=0pt]
		\item $0 \leq \psi_{\alpha}(p) \leq 1$ for all $\alpha\in A$ and all $p\in X$.
		\item $\operatorname{supp} \psi_{\alpha} \subseteq U_{\alpha}$ for all $\alpha\in A$.
		\item The indexed family ${(\operatorname{supp} \psi_{\alpha})}_{\alpha\in A}$ is locally finite.
		\item $\sum_{\alpha\in A}\psi_{A}(p) = 1$ for all $p\in X$.
	\end{enumerate}

	By the definition of support, $\operatorname{supp} \psi_{\alpha} = \overline{\psi_{\alpha}^{-1}(\mathbb{R}\smallsetminus \set{0})}$. Because the indexed family ${(\operatorname{supp} \psi_{\alpha})}_{\alpha\in A}$ is locally finite (property (iii)), the indexed family ${(\psi_{\alpha}^{-1}(\mathbb{R}\smallsetminus \set{0}))}_{\alpha\in A}$ is also locally finite. Let $p$ be a point of $X$. According to properties (i) and (iv), there exists $\beta\in A$ such that $\psi_{\beta}(p) > 0$, which means $p \in \psi_{\beta}^{-1}(\mathbb{R}\smallsetminus \set{0})$. $\psi_{\alpha}^{-1}(\mathbb{R}\smallsetminus \set{0})$ is open for every $\alpha\in A$ due to the continuity of $\psi_{\alpha}$. Hence the indexed family ${(\psi_{\alpha}^{-1}(\mathbb{R}\smallsetminus \set{0}))}_{\alpha\in A}$ is an open cover of $X$. Moreover $\psi_{\alpha}^{-1}(\mathbb{R}\smallsetminus \set{0}) \subseteq \operatorname{supp}\psi_{\alpha} \subseteq U_{\alpha}$ for all $\alpha\in A$ (property (ii)).

	Thus the indexed family ${(\psi_{\alpha}^{-1}(\mathbb{R}\smallsetminus \set{0}))}_{\alpha\in A}$ is a locally finite open refinement of the indexed open cover ${(U_{\alpha})}_{\alpha\in A}$. Therefore $X$ is paracompact.
\end{proof}

\begin{quotation}
	A direct corollary of Problem~\ref{problem:4-33} and Theorem~\ref{theorem:4.85} is that a Hausdorff space is paracompact if and only if every open cover admits a subordinate partition of unity.
\end{quotation}

\begin{problem}{4-34}
Suppose $M$ is an $n$-manifold that admits an injective continuous map into $\mathbb{R}^{k}$ for some $k$. Show that $M$ admits a proper embedding into $\mathbb{R}^{k+1}$. [Hint: use an exhaustion function.]
\end{problem}

\begin{proof}
	Let $f: M\to \mathbb{R}^{k}$ be an injective continuous map. According to Theorem~\ref{theorem:4.90}, $M$ admits a positive exhaustion function $g: M \to \mathbb{R}$. Every exhaustion function is a proper map by definition so $g$ is a proper map.

	Define $\varphi: M \to \mathbb{R}^{k+1}$ by $\varphi(x) = (f(x), g(x))$. $\varphi$ is continuous because the product map $f\times g = \varphi$ is continuous. If $\varphi(x) = \varphi(x')$ then $f(x) = f(x')$, which implies $x = x'$ since $f$ is injective. Therefore $\varphi$ is injective. We will show that $\varphi$ is a closed map using Theorem 4.95.

	Let $K$ be a compact subset of $\mathbb{R}^{k+1}$ then $K$ is closed (compact subsets of a Hausdorff space are closed). $\varphi^{-1}(K)$ is closed because $K$ is closed and $\varphi$ is continuous. Let $\pi_{k+1}: \mathbb{R}^{k+1} \to \mathbb{R}$ be the $(k+1)$-th canonical projection. $\pi_{k+1}$ is continuous so $\pi_{k+1}(K)$ is compact. Note that $g^{-1}(\pi_{k+1}(K))$ is a compact subset of $M$ because $g$ is a proper map and $\varphi^{-1}(K)$ is a closed subset of $g^{-1}(\pi_{k+1}(K))$ so $\varphi^{-1}(K)$ is compact. Therefore $\varphi$ is a proper map.

	According to Theorem 4.95 (every proper continuous map from a topological space to a compactly generated Hausdorff space is a closed map), $\varphi$ is a closed map ($\mathbb{R}^{k+1}$ is a compactly generated Hausdorff space due to Lemma 4.94). Therefore $\varphi$ is a topological embedding. Moreover, $\pi_{k+1}(\varphi(x)) > 0$ so $\varphi$ is a proper embedding.
\end{proof}
