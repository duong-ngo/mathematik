% chktex-file 8
\chapter{Preliminaries: Set theory and categories}

\section{Naive set theory}

\begin{exercise}{1.1}
	Locate a discussion of Russell's paradox, and understand it.
\end{exercise}

\begin{proof}
	I did it.
\end{proof}

\begin{exercise}{1.2}
	Prove that if $\sim$ is an equivalence relation on a set $S$, then the corresponding family $\mathscr{P}_{\sim}$ defined in $\S{1.5}$ is indeed a partion of $S$: that is, its elements are nonempty, disjoint, and their union is $S$.
\end{exercise}

\begin{proof}
	Every element of $\mathscr{P}_{\sim}$ is an equivalence class ${[x]}_{\sim}$ where $x\in S$, hence a nonempty subset of $S$.

	If ${[x]}_{\sim}$ and ${[y]}_{\sim}$ are not disjoint, then there exists $z\in S$ such that $z \in {[x]}_{\sim}$ and $z \in {[y]}_{\sim}$. $s\in {[x]}_{\sim}$ iff $s \sim x$, $s\in {[y]}_{\sim}$ iff $s \sim y$. Together with $z \sim x$ and $z \sim y$, we obtain that $s\in {[x]}_{\sim}$ iff $s \sim z$, $s\in {[y]}_{\sim}$ iff $s \sim z$. Hence $s\in {[x]}_{\sim}$ iff $s\in {[y]}_{\sim}$, which means ${[x]}_{\sim} = {[y]}_{\sim}$. Hence distinct elements of $\mathscr{P}_{\sim}$ are disjoint sets.

	For every $x\in S$, $x \in {[x]}_{\sim}$, so $S \subseteq \bigcup_{x\in S}{[x]}_{\sim} = \bigcup_{P\in \mathscr{P}_{\sim}}P$. Let $x\in \bigcup_{P\in \mathscr{P}_{\sim}}P$ then there is $P\in \mathscr{P}_{\sim}$ such that $x\in P$. Moreover, $P\subseteq S$ so $x\in S$, it follows that $\bigcup_{P\in \mathscr{P}_{\sim}}P \subseteq S$. Hence $S = \bigcup_{P\in \mathscr{P}_{\sim}}P$.

	Thus $\mathscr{P}_{\sim}$ is a partition of $S$.
\end{proof}

\begin{exercise}{1.3}
	Given a partition $\mathscr{P}$ on a set $S$, show how to define a relation $\sim$ on $S$ such that $\mathscr{P}$ is the corresponding partition.
\end{exercise}

\begin{proof}
	Definition: Two elements $x, y$ of $S$ are called equivalent iff there exists $P\in \mathscr{P}$ such that $x\in P$ and $y\in P$.
\end{proof}

\begin{exercise}{1.4}
	How many different equivalence relations may be defined on the set $\set{1, 2, 3}$?
\end{exercise}

\begin{proof}
	Because an equivalence relation on a given set is uniquely determined by one of the set's partition, the number of equivalence relations may be defined on a set is equal to the number of possible partitions on the set. $\set{1, 2, 3}$ has 5 possible partition, namely $\set{\set{1}, \set{2}, \set{3}}$, $\set{\set{1}, \set{2, 3}}$, $\set{\set{2}, \set{1, 3}}$, $\set{\set{3}, \set{1, 2}}$, $\set{\set{1, 2, 3}}$. Hence there are totally 5 different equivalence relations can be defined on the set $\set{1, 2, 3}$.
\end{proof}

\begin{exercise}{1.5}
	Give an example of a relation that is reflexive and symmetric but not transitive. What happens if you attempt to use this relation to define a partition on the set?
\end{exercise}

\begin{proof}
	On $\mathbb{Z}$, we define the relation $R$ as follows: $xRy$ iff $x - y$ is divisible by $2$ or $3$. By this definition, $R$ is reflexive and symmetric. However, $1R3$ and $3R6$ but it is not the case that $1R6$ so $R$ is not transitive. If we define a partition on the set, there might be elements of the partition class which are not disjoint.
\end{proof}

\begin{exercise}{1.6}\label{exercise:1-1.6}
	Define a relation $\sim$ on the set $\mathbb{R}$ of real numbers by setting $a\sim b \Longleftarrow b - a\in\mathbb{Z}$. Prove that this is an equivalence relation, and find a `compelling' description for $\mathbb{R}/\sim$. Do the same for the relation $\approx$ on the plane $\mathbb{R}\times\mathbb{R}$ defined by declaring $\tuple{a_{1}, a_{2}} \approx \tuple{b_{1}, b_{2}} \Longleftrightarrow b_{1} - a_{1} \in \mathbb{Z}$ and $b_{2} - a_{2}\in\mathbb{Z}$.
\end{exercise}

\begin{proof}
	For every $a\in \mathbb{R}$, $a - a = 0 \in \mathbb{Z}$ so $a\sim a$.

	For every $a, b\in\mathbb{R}$, if $a\sim b$ then $a - b\in \mathbb{Z}$ and $b - a\in \mathbb{R}$, which implies that $b\sim a$.

	For every $a, b, c\in\mathbb{R}$, if $a\sim b$ and $b\sim c$ then $a - c = (a - b) + (b - c) \in \mathbb{Z}$, so $a\sim c$.

	Hence $\sim$ is an equivalence relation on $\mathbb{R}$. We can describe the quotient of $\mathbb{R}$ with respect to $\sim$ like this: $\mathbb{R}/_{\sim} = \set{{[x]}_{\sim} \mid 0\leq x < 1}$.

	\bigskip
	For every $\tuple{a_{1}, a_{2}} \in \mathbb{R}\times\mathbb{R}$, $a_{1} - a_{1} = 0\in \mathbb{Z}$ and $a_{2} - a_{2} = 0\in \mathbb{Z}$, so $\tuple{a_{1}, a_{2}} \approx \tuple{a_{1}, a_{2}}$.

	For every $\tuple{a_{1}, a_{2}}, \tuple{b_{1}, b_{2}} \in \mathbb{R}\times\mathbb{R}$, if $\tuple{a_{1}, a_{2}} \approx \tuple{b_{1}, b_{2}}$ then $b_{1} - a_{1}\in \mathbb{Z}$ and $b_{2} - a_{2}\in \mathbb{Z}$. So $a_{1} - b_{1}\in \mathbb{Z}$ and $a_{2} - b_{2}\in \mathbb{Z}$, it follows that $\tuple{b_{1}, b_{2}} \approx \tuple{a_{1}, a_{2}}$.

	For every $\tuple{a_{1}, a_{2}}, \tuple{b_{1}, b_{2}}, \tuple{c_{1}, c_{2}} \in \mathbb{R}\times\mathbb{R}$, if $\tuple{a_{1}, a_{2}} \approx \tuple{b_{1}, b_{2}}$ and $\tuple{b_{1}, b_{2}} \approx \tuple{c_{1}, c_{2}}$ then $a_{1} - b_{1} \in \mathbb{Z}$, $a_{2} - b_{2}\in \mathbb{Z}$, $b_{1} - c_{1}\in\mathbb{Z}$, $b_{2} - c_{2}\in \mathbb{Z}$. Therefore $a_{1} - c_{1} = (a_{1} - b_{1}) + (b_{1} - c_{1}) \in \mathbb{Z}$ and $a_{2} - c_{2} = (a_{2} - b_{2}) + (b_{2} - c_{2}) \in \mathbb{Z}$, which means $\tuple{a_{1}, a_{2}} \approx \tuple{c_{1}, c_{2}}$.

	Hence $\approx$ is an equivalence relation on $\mathbb{R}\times\mathbb{R}$. We can describe the quotient of $\mathbb{R}\times\mathbb{R}$ with respect to $\approx$ as follows: $(\mathbb{R}\times\mathbb{R})/_{\approx} = \set{ {[(x, y)]}_{\approx} \mid 0 \leq x < 1, 0 \leq y < 1 }$.
\end{proof}

\section{Functions between sets}

\begin{exercise}{2.1}
	How many different bijections are there between a set $S$ with $n$ elements and itself?
\end{exercise}

\begin{proof}
	This proof implicitly uses the following result: the composition of two bijections is a bijection.

	$S$ has $n$ elements, it means there is a bijection from $S$ onto $\set{1, \ldots, n}$. Each bijection from $S$ onto itself correspond one-to-one to substitution on $\set{1, \ldots, n}$. Because $\set{1, \ldots, n}$ has $\factorial{n}$ substitutions, it follows that there are $\factorial{n}$ bijections between $S$ and itself.
\end{proof}

\begin{exercise}{2.2}
	Prove statement (2) in Proposition 2.1. You may assume that given a family of disjoint nonempty subsets of a set, there is a way to choose one element in each
	member of the family.
\end{exercise}

\begin{proof}
	Statement (2) in Proposition 2.1: $f: A\to B$ where $A\ne\emptyset$ has a right-inverse if and only if it is surjective.

	$(\Longrightarrow)$ $f$ has a right-inverse. So there is $g: B\to A$ such that $f\circ g = \operatorname{id}_{B}$. Let $b$ be an arbitrary element of $B$, then $f(g(b)) = b$. Hence $f$ is surjective.

	$(\Longleftarrow)$ [This part assumes the axiom of choice] $f$ is surjective. We define $g: B\to A$ as follows: For every $b\in B$, the fiber $f^{-1}(b)$ of $b$ is not empty (because $f$ is surjective), we choose an element from $f^{-1}(b)$ and define it to be $g(b)$. From this definition, it follows that $f\circ g = \operatorname{id}_{B}$, which means $f$ has a right-inverse.

	Hence a map (which is not the empty map) has a right-inverse if and only if it is surjective.
\end{proof}

\begin{exercise}{2.3}
	Prove that the inverse of a bijection is a bijection and that the composition of two bijections is a bijection.
\end{exercise}

\begin{proof}
	Let $f: A\to B$ be a bijection. Because $f$ is both an injection and a surjection, it has a left-inverse $g_{1}$ and a right-inverse $g_{2}$. So
	\begin{align*}
		g_{1} = g_{1}\circ \operatorname{id}_{B} = g_{1}\circ (f\circ g_{2}) = (g_{1}\circ f)\circ g_{2} = \operatorname{id}_{A}\circ g_{2} = g_{2}.
	\end{align*}

	Hence $g_{1} = g_{2}$, this implies the existence and uniqueness of the inverse of the bijection $f$. Because $f^{-1}\circ f = \operatorname{id}_{A}$ and $f\circ f^{-1} = \operatorname{id}_{B}$, it follows that $f^{-1}$ is a bijection, because it has a left-inverse and a right-inverse.

	\bigskip
	Let $f: A\to B$ and $g: B\to C$ be two bijections. We have
	\begin{align*}
		(f^{-1}\circ g^{-1})\circ (g\circ f)  & = f^{-1}\circ ((g^{-1}\circ g)\circ f) = f^{-1}\circ (\operatorname{id}_{B}\circ f) = f^{-1}\circ f = \operatorname{id}_{A}, \\
		(g\circ f) \circ (f^{-1}\circ g^{-1}) & = (g\circ (f\circ f^{-1}))\circ g^{-1} = (g\circ\operatorname{id}_{B})\circ g^{-1} = g\circ g^{-1} = \operatorname{id}_{C}.
	\end{align*}

	So $g\circ f$ has a left-inverse and a right-inverse, which implies $g\circ f$ is a bijection.
\end{proof}

\begin{exercise}{2.4}
	Prove that `isomorphism' is an equivalence relation (on any set of sets).
\end{exercise}

\begin{proof}
	Let $\mathscr{S}$ be a set of sets.

	For every $A\in\mathscr{S}$, $\operatorname{id}_{A}: A\to A$ is a bijection, so $A$ is isomorphic to itself.

	For every $A, B\in\mathscr{S}$, if $A$ is isomorphic to $B$, there is a bijection $f: A\to B$. The inverse of a bijection is a bijection, so $f^{-1}: B\to A$ is a bijection, which implies $B$ is isomorphic to $A$.

	For every $A, B, C\in\mathscr{S}$, if $A$ is isomorphic to $B$ and $B$ is isomorphic to $C$, then there exist bijections $f: A\to B$ and $g: B\to C$. The composition of two bijections is a bijection, so $g\circ f: A\to C$ is a bijection, which means $A$ is isomorphic to $C$.

	Hence isomorphism is an equivalence relation.
\end{proof}

\begin{exercise}{2.5}
	Formulate a notion of \textit{epimorphism}, in the style of the notion of \textit{monomorphism} seen in $\S{2.6}$, and prove a result analogous to Proposition 2.3, for epimorphisms and surjections.
\end{exercise}

\begin{proof}
	A function $f: A\to B$ is a epimorphism if
	\begin{equation*}
		\begin{gathered}
			\text{for all sets $Z$ and all functions $\alpha', \alpha'': B\to Z$} \\
			\alpha'\circ f = \alpha''\circ f \implies \alpha' = \alpha''.
		\end{gathered}
	\end{equation*}

	A result analogous to Proposition 2.3 would be: A function is surjective if and only if it is an epimorphism.

	$(\Longrightarrow)$ $f: A\to B$ is surjective, then $f$ has a right-inverse $g: B\to A$. For all sets $Z$ and all functions $\alpha', \alpha'': B\to Z$, if $\alpha'\circ f = \alpha''\circ f$ then
	\begin{align*}
		\alpha' & = \alpha'\circ \operatorname{id}_{B} = \alpha'\circ (f\circ g)                \\
		        & = (\alpha'\circ f)\circ g = (\alpha''\circ f)\circ g                          \\
		        & = \alpha'' \circ (f\circ g) = \alpha''\circ \operatorname{id}_{B} = \alpha''.
	\end{align*}

	So $f$ is an epimorphism.

	$(\Longleftarrow)$ $f$ is an epimorphism.

	Let $\alpha': B\to \set{0, 1}$ defined by $\alpha'(b) = 1$ for every $b\in B$. Let $\alpha'': B\to \set{0, 1}$ defined by $\alpha''(b) = 1$ if and only if the fiber of $f$ over $b$ is nonempty. From these definitions, $\alpha'\circ f = \alpha''\circ f$, and it follows that $\alpha' = \alpha''$. Therefore $\alpha''(b) = 1$ for every $b\in B$, so the fiber of $f$ over any element of $b$ is nonempty, which means $f$ is surjective.

	Hence a function is surjective if and only if it is an epimorphism.
\end{proof}

\begin{exercise}{2.6}
	With notation as in Example 2.4, explain how any function $f: A\to B$ determines a section of $\pi_{A}$.
\end{exercise}

\begin{proof}
	Let $\Gamma_{f}$ be the graph of $f$, then $\Gamma_{f}\subseteq A\times B$. For every $a\in A$, $(a, f(a)) \in \Gamma_{f}$ and $\pi_{A}$ maps $(a, f(a))$ to $a$. Hence every function $f: A\to B$ determines a section of $\pi_{A}$.
\end{proof}

\begin{exercise}{2.7}
	Let $f: A\to B$ be any function. Prove that the graph $\Gamma_{f}$ of $f$ is isomorphic to $A$.
\end{exercise}

\begin{proof}
	Let's define $\varphi: A\to \Gamma_{f}$ by $\varphi(a) = (a, f(a))$. Let $\psi$ be the restriction of $\pi_{A}$ to $\Gamma_{f}$ then $\psi\circ\varphi = \operatorname{id}_{A}$ and $\varphi\circ\psi = \operatorname{id}_{\Gamma_{f}}$. Therefore $\varphi$ is a bijection, which implies that the graph $\Gamma_{f}$ of $f$ is isomorphic to $A$.
\end{proof}

\begin{exercise}{2.8}
	Describe as explicitly as you can all terms in the canonical decomposition of the function $\mathbb{R}\to \mathbb{C}$ defined by $r\mapsto e^{2\pi ir}$. (This exercise matches one assigned previously. Which one?)
\end{exercise}

\begin{proof}
	On $\mathbb{R}$, we define the relation $\sim$ as follows: $a\sim b$ if and only if $e^{2\pi ia} = e^{2\pi ib}$. Because $e^{2\pi ia} = e^{2\pi ib}$ if and only if $b - a\in\mathbb{Z}$, it follows that $a\sim b$ if and only if $b - a\in\mathbb{Z}$. This is identical to the relation defined in Exercise~\ref{exercise:1-1.6}.

	The image of $f$ is the unit circle $\mathbb{S}^{1}$. So the canonical decomposition of $f$ is
	\begin{figure}[htp]
		\centering
		\renewcommand{\thefigure}{1-2.8}
		\centering
		\begin{tikzpicture}[>=angle 90, every edge/.style={draw, thick}]
			\matrix (m) [matrix of math nodes, row sep=3em, column sep=3em] {
				\mathbb{R} & {\mathbb{R}/\mathbb{Z}} & {\mathbb{S}^{1}} & \mathbb{C} \\
			};
			\path[->>] (m-1-1) edge (m-1-2);
			\path[right hook->] (m-1-3) edge (m-1-4);
			\path[->] (m-1-2) edge node[above] {$\small\sim$} node[below] {$\overline{f}$} (m-1-3);
			\path[->] (m-1-1) edge[bend left=30] node[above] {$f$} (m-1-4);
		\end{tikzpicture}
		\caption{}
	\end{figure}
\end{proof}

\begin{exercise}{2.9}
	Show that if $A'\cong A''$ and $B'\cong B''$, and further $A'\cap B' = \varnothing$ and $A''\cap B'' = \varnothing$, then $A'\cup B' \cong A''\cup B''$. Conclude that the operation $A\coprod B$ (as described in $\S{1.4}$) is well-defined \textit{up to isomorphism}.
\end{exercise}

\begin{proof}
	Let $f$ be a bijection from $A'$ onto $A''$ and $g$ be a bijection from $B'$ onto $B''$. Let's define $h: A'\cup B' \to A''\cup B''$ and $k: A''\cup B''\to A'\cup B'$ as follows:
	\begin{align*}
		h(x) = \begin{cases}
			       f(x) & \text{if $x\in A'$} \\
			       g(x) & \text{if $x\in B'$}
		       \end{cases}
		\qquad
		k(y) = \begin{cases}
			       f^{-1}(y) & \text{if $y\in A''$} \\
			       g^{-1}(y) & \text{if $y\in B''$}
		       \end{cases}.
	\end{align*}

	From this definition, it follows that $k\circ h = \operatorname{id}_{A'\cup B'}$ and $h\circ k = \operatorname{id}_{A''\cup B''}$. Therefore $h, k$ are bijections, which implies $A'\cup B'$ and $A''\cup B''$ are isomorphic.

	Since $A\coprod B$ is defined as the union of two disjoint copies of $A$ and $B$, the proved result implies that the definition of $A\coprod B$ is well-defined up to isomorphism.
\end{proof}

\begin{exercise}{2.10}\label{exercise:1-2.10}
	Show that if $A$ and $B$ are finite sets, then $\card{B^{A}} = {\card{B}}^{\card{A}}$.
\end{exercise}

\begin{proof}
	A function is identified with its graph. Let's count how many graphs can be constructed: for every $a\in A$, any element of $B$ can be defined as the image of $a$, which means there are $\card{B}$ choices. Therefore, there are ${\card{B}}^{\card{A}}$ possible graphs. Hence $\card{B^{A}} = {\card{B}}^{\card{A}}$.
\end{proof}

\begin{exercise}{2.11}
	In view of Exercise 2.10, it is not unreasonable to use $2^{A}$ to denote the set of functions from an arbitrary set $A$ to a set with 2 elements (say $\set{0, 1}$). Prove that there is a bijection between $2^{A}$ and the \textit{power set} of $A$.
\end{exercise}

\begin{proof}
	Denote the power set of $A$ by $\mathscr{P}(A)$. Let's define $\varphi: 2^{A}\to \mathscr{P}(A)$ and $\psi: \mathscr{P}(A)\to 2^{A}$ as follows:
	\begin{align*}
		\varphi(f) & = \set{x \mid x\in A \text{ and } f(x) = 1},                      \\
		\psi(S)    & = f \qquad\text{such that $f(x) = 1 \Longleftrightarrow x\in S$},
	\end{align*}

	where $f$ is a function from $A$ to $\set{0, 1}$ and $S$ is a subset of $A$. From this definition, $\psi\circ\varphi = \operatorname{id}_{2^{A}}$ and $\varphi\circ\psi = \operatorname{id}_{\mathscr{P}(A)}$. Therefore $\varphi$ is a bijection, so there is a bijection between $2^{A}$ and the power set of $A$.
\end{proof}

\section{Categories}

\begin{exercise}{3.1}
	Let $\mathsf{C}$ be a category. Consider a structure ${\mathsf{C}}^{op}$ with
	\begin{itemize}
		\item $\operatorname{Obj}({\mathsf{C}}^{op}) := \operatorname{Obj}(\mathsf{C})$;
		\item for $A, B$ objects of ${\mathsf{C}}^{op}$ (hence objects of $\mathsf{C}$), $\operatorname{Hom}_{{\mathsf{C}}^{op}}(A, B) := \operatorname{Hom}_{\mathsf{C}}(B, A)$.
	\end{itemize}

	Show how to make this into a category.
\end{exercise}

\begin{proof}
	We have to see whether this structure satisfies the morphism conditions.
	\begin{itemize}
		\item Every object $A$ in ${\mathsf{C}}^{op}$ is also an object in $\mathsf{C}$, so $1_{A} \in \operatorname{Hom}_{\mathsf{C}}(A, A) = \operatorname{Hom}_{{\mathsf{C}}^{op}}(A, A)$.
		\item If $f\in \operatorname{Hom}_{{\mathsf{C}}^{op}}(A, B)$ and $g\in \operatorname{Hom}_{{\mathsf{C}}^{op}}(B, C)$ then $f\in \operatorname{Hom}_{\mathsf{C}}(B, A)$ and $g\in \operatorname{Hom}_{\mathsf{C}}(C, B)$. $\varphi_{{\mathsf{C}}^{op}}(f, g) = \varphi_{\mathsf{C}}(g, f) = fg\in \operatorname{Hom}_{\mathsf{C}}(C, A) = \operatorname{Hom}_{{\mathsf{C}}^{op}}(A, C)$. Note that $\varphi_{\mathsf{C}}: \operatorname{Hom}_{\mathsf{C}}(A, B)\times \operatorname{Hom}_{\mathsf{C}}(B, C)\to \operatorname{Hom}_{\mathsf{C}}(A, C)$ is the composition map.
		\item If $f\in \operatorname{Hom}_{{\mathsf{C}}^{op}}(A, B)$, $g\in \operatorname{Hom}_{{\mathsf{C}}^{op}}(B, C)$, $h\in \operatorname{Hom}_{{\mathsf{C}}^{op}}(C, D)$ then
		      \begin{align*}
			      \varphi_{{\mathsf{C}}^{op}}(\varphi_{{\mathsf{C}}^{op}}(f, g), h) = \varphi_{{\mathsf{C}}^{op}}(\varphi_{\mathsf{C}}(g, f), h) = \varphi_{\mathsf{C}}(h, \varphi_{\mathsf{C}}(g, f)) \\
			      \varphi_{{\mathsf{C}}^{op}}(f, \varphi_{{\mathsf{C}}^{op}}(g, h)) = \varphi_{{\mathsf{C}}^{op}}(f, \varphi_{\mathsf{C}}(h, g)) = \varphi_{\mathsf{C}}(\varphi_{\mathsf{C}}(h, g), f)
		      \end{align*}

		      and $\varphi_{\mathsf{C}}(h, \varphi_{\mathsf{C}}(g, f)) = \varphi_{\mathsf{C}}(\varphi_{\mathsf{C}}(h, g), f)$ so the composition operation is associative.
		\item If $f\in \operatorname{Hom}_{{\mathsf{C}}^{op}}(A, B)$ then $\varphi_{{\mathsf{C}}^{op}}(1_{A}, f) = \varphi_{\mathsf{C}}(f, 1_{A}) = f$ and $\varphi_{{\mathsf{C}}^{op}}(f, 1_{B}) = \varphi_{\mathsf{C}}(1_{B}, f) = f$.
	\end{itemize}

	Hence ${\mathsf{C}}^{op}$ is a category.
\end{proof}

\begin{exercise}{3.2}
	If $A$ is a finite set, how large is $\operatorname{End}_{\mathsf{Set}}(A)$?
\end{exercise}

\begin{proof}
	Because $\operatorname{End}_{\mathsf{Set}}(A) = \operatorname{Hom}_{\mathsf{Set}}(A, A) = A^{A}$, the number of morphisms in $\operatorname{End}_{\mathsf{Set}}(A)$ is $\card{A^{A}} = {\card{A}}^{\card{A}}$ (according to Exercise~\ref{exercise:1-2.10}).
\end{proof}

\begin{exercise}{3.3}
	Formulate precisely what it means to say that $1_{a}$ is an identity with respect to composition in Example 3.3, and prove this assertion.
\end{exercise}

\begin{proof}
	If $(a, b)\in \operatorname{Hom}_{\mathsf{C}}(a, b)$ then
	\begin{align*}
		(a, b)1_{a} = (a, b)(a, a) = (a, b), \\
		1_{b}(a, b) = (b, b)(a, b) = (a, b).
	\end{align*}

	So $1_{a}$ is an identity with respect to composition.
\end{proof}

\begin{exercise}{3.4}
	Can we define a category in the style of Example 3.3 using the relation $<$ on the set $\mathbb{Z}$?
\end{exercise}

\begin{proof}[Answer]
	No, because the relation $<$ on $\mathbb{Z}$ is not reflexive, so there will be no endomorphism.
\end{proof}

\begin{exercise}{3.5}
	Explain in what sense Example 3.4 is an instance of the categories considered in Example 3.3.
\end{exercise}

\begin{proof}[Answer]
	Example 3.4 is an instance of the categories in Example 3.3 because the relation $\subseteq$ on $\mathscr{P}(S)$ is reflexive ($A\subseteq A$ for every $A\in \mathscr{P}(S)$) and transitive ($A\subseteq B, B\subseteq C \implies A\subseteq C$).
\end{proof}

\begin{exercise}{3.6}
	Define a category $\mathsf{V}$ by taking $\operatorname{Obj}(\mathsf{V}) = \mathbb{N}$ and letting $\operatorname{Hom}_{\mathsf{V}}(n, m) =$ the set of $m\times n$ matrices with real entries, for all $n, m\in\mathbb{N}$. Use product of matrices to define composition. Does this category `feel' familiar?
\end{exercise}

\begin{proof}
	Let's check whether $\mathsf{V}$ is a category.
	\begin{itemize}
		\item If $n = 0$ and $m\in\mathbb{N}$, $\operatorname{Hom}_{\mathsf{V}}(n, m)$ is a singleton, it consists of the empty matrix. If $n\in\mathbb{N}^{*}$ and $m = 0$, $\operatorname{Hom}_{\mathsf{V}}(n, m) = \emptyset$. Otherwise, $\operatorname{Hom}_{\mathsf{V}}(n, m)$ consists of $n$-by-$m$ matrices with real entries.
		\item For every $n\in\mathbb{N}$, there is an identity matrix $1_{n} = I_{n}$ (an $n$-by-$n$ matrix whose entries on the diagonal are $1$ and the other are $0$).
		\item If $A\in \operatorname{Hom}_{\mathsf{V}}(n, m)$ and $B\in \operatorname{Hom}_{\mathsf{V}}(p, n)$, we define the composition by matrix multiplication, then $\varphi_{\mathsf{V}}(A, B) = AB \in \operatorname{Hom}_{\mathsf{V}}(p, m)$.
		\item If $A\in \operatorname{Hom}_{\mathsf{V}}(n, m), B\in \operatorname{Hom}_{\mathsf{V}}(p, n)$, and $C\in \operatorname{Hom}_{\mathsf{V}}(q, p)$ then $(AB)C = A(BC) \in \operatorname{Hom}_{\mathsf{V}}(q, m)$ (because matrix multiplication is associative).
		\item If $A\in \operatorname{Hom}_{\mathsf{V}}(n, m)$ then $AI_{m} = A = I_{n}A$.
	\end{itemize}

	So $\mathsf{V}$ is a category. This category feels a lot like Example 3.3.
\end{proof}

\begin{exercise}{3.7}
	Define carefully objects and morphisms in Example 3.7, and draw the diagram corresponding to composition.
\end{exercise}

\begin{proof}
	Let $\mathsf{C}$ be a category and $A$ is a fixed object in $\mathsf{C}$.

	We define ${\mathsf{C}}^{A}$ is defined as follows:
	\begin{itemize}
		\item $\operatorname{Obj}({\mathsf{C}}^{A})$ is the class of morphisms in $\mathsf{C}$ whose source is $A$.
		\item A morphism from $A\to Z_{1}$ to $A\to Z_{2}$ is the commutative diagram
		      \begin{figure}[htp]
			      \centering
			      \begin{tikzcd}
				      & A \arrow{ld}[above left]{f_{1}} \arrow{rd}{f_{2}} & \\
				      Z_{1} \arrow{rr}[below]{\sigma} & & Z_{2}
			      \end{tikzcd}
		      \end{figure}
		\item For every $f: A\to Z$, there is an identity
		      \begin{figure}[htp]
			      \centering
			      \begin{tikzcd}
				      A \arrow{d}{f} \\
				      Z \arrow[loop below]{d}{1_{Z}}
			      \end{tikzcd}
		      \end{figure}
		\item The composition law is defined by
		      \begin{figure}[htp]
			      \centering
			      \begin{tikzcd}
				      & A \arrow{ld}[above left]{f_{1}} \arrow{d}{f_{2}} \arrow{rd}[above right]{f_{3}} & \\
				      Z_{1} \arrow{r}[below]{\sigma} & Z_{2} \arrow{r}[below]{\tau} & Z_{3}
			      \end{tikzcd}
			      \qquad
			      \begin{tikzcd}
				      & A \arrow{ld}[above left]{f_{1}} \arrow{rd}[above right]{f_{3}} & \\
				      Z_{1} \arrow{rr}[below]{\tau\sigma} & & Z_{3}
			      \end{tikzcd}
		      \end{figure}
		\item The composition operation (in $\mathsf{C}^{A}$) is associative because that on $\mathsf{C}$ is associative.
		\item Finally the identity morphisms are identities with respect to composition because the following diagram commutes
		      \begin{figure}[htp]
			      \centering
			      \begin{tikzcd}
				      & A \arrow{ld}[above left]{f} \arrow{rd}[above right]{f} & \\
				      Z \arrow{rr}[below]{1_{Z}} & & Z
			      \end{tikzcd}
		      \end{figure}
	\end{itemize}
\end{proof}

\begin{exercise}{3.8}
	A subcategory $\mathsf{C}'$ of a category $\mathsf{C}$ consists of a collection of objects of $\mathsf{C}$, with morphisms $\operatorname{Hom}_{\mathsf{C}'}(A, B) \subseteq \operatorname{Hom}_{\mathsf{C}}(A, B)$ for all objects $A, B$ in $\operatorname{Obj}(\mathsf{C}')$, such that identities and compositions in $\mathsf{C}$ make $\mathsf{C}'$ into a category. A subcategory $\mathsf{C}'$ is \textit{full} if $\operatorname{Hom}_{\mathsf{C}'}(A, B) = \operatorname{Hom}_{\mathsf{C}}(A, B)$ for all $A, B$ in $\operatorname{Obj}(\mathsf{C}')$. Construct a category of \textit{infinite sets} and explain how it may be viewed as a full subcategory of $\mathsf{Set}$.
\end{exercise}

\begin{proof}
	Let's define $\mathsf{InfiniteSet}$.
	\begin{itemize}
		\item $\operatorname{Obj}(\mathsf{InfiniteSet})$ is the class of infinite sets.
		\item For every pair of infinite sets $A, B$, define $\operatorname{Hom}_{\mathsf{InfiniteSet}}(A, B) = B^{A}$.
		\item The law of composition on morphisms in $\operatorname{Obj}(\mathsf{InfiniteSet})$ is the same as that in $\operatorname{Obj}(\mathsf{Set})$.
	\end{itemize}

	$\mathsf{InfiniteSet}$ is a category because its morphisms satisfy the definition of morphisms of a category. It is a subcategory of $\mathsf{Set}$ because every object in $\mathsf{InfiniteSet}$ is also in $\mathsf{Set}$ and $\operatorname{Hom}_{\mathsf{InfiniteSet}}(A, B)\subseteq \operatorname{Hom}_{\mathsf{Set}}(A, B)$. It is a full subcategory because for every $A, B$ in $\operatorname{Obj}(\mathsf{InfiniteSet})$
	\begin{align*}
		\operatorname{Hom}_{\mathsf{InfiniteSet}}(A, B) = B^{A} = \operatorname{Hom}_{\mathsf{Set}}(A, B).
	\end{align*}
\end{proof}

\begin{exercise}{3.9}\label{exercise:1-3.9}
	An alternative to the notion of multiset introduced in $\S{2.2}$ is obtained by considering sets endowed with equivalence relations; equivalent elements are taken to the multiple instances of elements `of the same kind'. Define a notion of morphism between such enhanced sets, obtaining a category $\mathsf{MSet}$ containing (a `copy' of) $\mathsf{Set}$ as a full subcategory. (There may be more than one reasonable way to do this! This is intentionally an open-ended exercise.) Which objects in $\mathsf{MSet}$ determine ordinary multisets as defined in $\S{2.2}$ and how? Spell out what a morphism of multisets would be from this point of view. (There are several natural notions of morphisms of multisets. Try to define morphisms in $\mathsf{MSet}$ so that the notion you obtain for ordinary multisets captures your intuitive understanding of these objects.)
\end{exercise}

\begin{proof}[Answer]
	Let $\operatorname{Obj}(\mathsf{MSet})$ be the class of multisets (ordinary sets with an equivalence relation).

	For every two objects $(A, \sim_{A}), (B, \sim_{B})$ in $\mathsf{MSet}$, $\operatorname{Hom}_{\mathsf{MSet}}((A, \sim_{A}), (B, \sim_{B}))$ to be $\operatorname{Hom}_{\mathsf{Set}}(\mathscr{P}_{\sim_{A}}, \mathscr{P}_{\sim_{B}})$ where $\mathscr{P}_{\sim_{A}}$, $\mathscr{P}_{\sim_{B}}$ are the sets of equivalence classes of $\sim_{A}$, $\sim_{B}$, respectively. The law of composition is the same as that of set-functions.
\end{proof}

\begin{exercise}{3.10}
	Since the objects of a category $\mathsf{C}$ are not (necessarily) sets, it is not clear how to make sense of a notation of `subobject' in general. In some situation it \textit{does} make sense to talk about subobjects, and the subobjects of any given object $A$ in $\mathsf{C}$ are in one-to-one correspondence with the morphisms $A\to \Omega$ for a fixed, special object $\Omega$ of $\mathsf{C}$, called a \textit{subobject classifier}. Show that $\mathsf{Set}$ has a subobject classifier.
\end{exercise}

\begin{proof}
	In the category $\mathsf{Set}$, $\Omega = \set{\emptyset, \set{\emptyset}}$ is a fixed object of $\mathsf{Set}$.

	Let $A$ be an object in $\mathsf{Set}$. Every subset $S$ of $A$ corresponds one-to-one with a morphism $\omega: A\to \Omega$ defined by
	\begin{align*}
		\omega(x) = \begin{cases}
			            \emptyset       & \text{if $x\notin A$}, \\
			            \set{\emptyset} & \text{if $x\in A$}.
		            \end{cases}
	\end{align*}

	Hence the category $\mathsf{Set}$ has a subobject classifier.
\end{proof}

\begin{exercise}{3.11}
	Draw the relevant diagrams and define composition and identities for the category ${\mathsf{C}}^{A, B}$ mentioned in Example 3.9. Do the same for the category ${\mathsf{C}}^{\alpha,\beta}$ mentioned in Example 3.10.
\end{exercise}

\begin{proof}
	For the category ${\mathsf{C}}^{A, B}$, the objects are
	\begin{figure}[htp]
		\centering
		\begin{tikzcd}
			& A \arrow{ld}[above left]{f} \\
			Z & \\
			& B \arrow{lu}[below left]{g}
		\end{tikzcd}
	\end{figure}

	the morphisms
	\begin{figure}[htp]
		\centering
		\begin{tikzcd}
			& A \arrow{ld}[above left]{f_{1}} \\
			Z_{2}  & \\
			& B \arrow{lu}[below left]{g_{1}}
		\end{tikzcd}
		$\longrightarrow$
		\begin{tikzcd}
			& A \arrow{ld}[above left]{f_{2}} \\
			Z_{2}  & \\
			& B \arrow{lu}[below left]{g_{2}}
		\end{tikzcd}
	\end{figure}

	are the commutative diagrams
	\begin{figure}[htp]
		\centering
		\begin{tikzcd}
			& & A \arrow[bend right=30]{lld}[above left]{f_{1}} \arrow{ld}{f_{2}} \\
			Z_{1} \arrow{r}{\sigma} & Z_{2} & \\
			& & B \arrow[bend left=30]{llu}[below left]{g_{1}} \arrow{ul}{g_{2}}
		\end{tikzcd}
	\end{figure}

	for every $\sigma\in \operatorname{Hom}_{\mathsf{C}}(Z_{1}, Z_{2})$ such that $f_{2} = \sigma f_{1}$ and $g_{2} = \sigma g_{1}$.

	\newpage

	For the category ${\mathsf{C}}^{\alpha,\beta}$, the objects are commutative diagrams
	\begin{figure}[htp]
		\centering
		\begin{tikzcd}
			& A \arrow{rd}[above right]{f} & \\
			C \arrow{ru}[above left]{\alpha} \arrow{rd}[below left]{\beta} & & Z \\
			& B \arrow{ru}[below right]{g} &
		\end{tikzcd}
	\end{figure}

	The morphisms
	\begin{figure}[htp]
		\centering
		\begin{tikzcd}
			& A \arrow{rd}[above right]{f_{1}} & \\
			C \arrow{ru}[above left]{\alpha} \arrow{rd}[below left]{\beta} & & Z_{1} \\
			& B \arrow{ru}[below right]{g_{1}} &
		\end{tikzcd}
		$\longrightarrow$
		\begin{tikzcd}
			& A \arrow{rd}[above right]{f_{2}} & \\
			C \arrow{ru}[above left]{\alpha} \arrow{rd}[below left]{\beta} & & Z_{2} \\
			& B \arrow{ru}[below right]{g_{2}} &
		\end{tikzcd}
	\end{figure}

	are the commutative diagrams
	\begin{figure}[htp]
		\centering
		\begin{tikzcd}
			& A \arrow{rd}[above right]{f_{1}} \arrow[bend left=30]{rrd}[above right]{f_{2}} & \\
			C \arrow{ru}[above left]{\alpha} \arrow{rd}[below left]{\beta} & & Z_{1} \arrow{r}[above]{\sigma} & Z_{2} \\
			& B \arrow{ru}[below right]{g_{1}} \arrow[bend right=30]{rru}[below right]{g_{2}} &
		\end{tikzcd}
	\end{figure}

	for every $\sigma\in \operatorname{Hom}_{\mathsf{C}}(Z_{1}, Z_{2})$ such that $f_{2} = \sigma f_{1}$ and $g_{2} = \sigma g_{1}$.
\end{proof}

\section{Morphisms}

\begin{exercise}{4.1}
	Composition is defined for two morphisms. If more than two morphisms are given, e.g.,
	\begin{tikzcd}
		A \arrow{r}{f} & B \arrow{r}{g} & C \arrow{r}{h} & D \arrow{r}{i} & E,
	\end{tikzcd}

	then on may compose them in several ways, for example:
	\begin{align*}
		(ih)(gf),\quad (i(hg))f,\quad i((hg)f),\quad etc.
	\end{align*}

	so that at every step one is only composing two morphisms. Prove that the result of any such nested composition is independent of the placement of the parentheses.
\end{exercise}

\begin{proof}
	We will show that for every nested composition of $f_{n}, \ldots, f_{1}$, the final result is
	\begin{align*}
		((\cdots ((f_{n}f_{n-1})f_{n-2})\cdots)f_{1}).
	\end{align*}

	The result holds for three morphisms because of associativity.

	Assume the result holds for $n - 1$ composable morphisms, where $n\geq 4$. Let $f_{n}, \ldots, f_{1}$ be composable morphisms (the target of $f_{i-1}$ is the source of $f_{i}$). Consider a nested composition (roughly speaking, a placement of the parentheses). At each step, we compose exactly two morphism, and after that, the number of pairs of parentheses decrease by one. So there are exactly $n - 1$ steps.

	Perform $n - 1$ steps and observe $f_{1}$. Either $f_{1}$ takes part in one step (the last one) of multiple steps. If the former is the case, then the result follows from the inductive hypothesis. Otherwise, the latter is the case then there exists $1 < k < n$ such that the nested composition is
	\begin{align*}
		((f_{n}\cdots f_{k+1})(f_{k}\cdots f_{1})).
	\end{align*}

	By the inductive hypothesis
	\begin{align*}
		(f_{n}\cdots f_{k+1}) & = ((\cdots ((f_{n}f_{n-1})f_{n-2})\cdots)f_{k+1}), \\
		(f_{k}\cdots f_{1})   & = ((\cdots ((f_{k}f_{k-1})f_{k-2})\cdots)f_{1}).
	\end{align*}

	By associativity, we compose $f_{k+1}$ and $(\cdots ((f_{k}f_{k-1})f_{k-2})\cdots)$ and use the inductive hypothesis to obtain $((\cdots ((f_{k+1}f_{k})f_{k-1})\cdots)f_{1})$. Repeat the process until $f_{n}$, we obtain the desired placement of the parentheses: $((\cdots ((f_{n}f_{n-1})f_{n-2})\cdots)f_{1})$.
\end{proof}

\begin{exercise}{4.2}
	In Example 3.3 we have seen how to construct a category from a set endowed with a relation, provided this latter is reflexive and transitive. For what types of relations is the corresponding category a groupoid?
\end{exercise}

\begin{proof}[Answer]
	If the relation is an equivalence relation, the corresponding category is a groupoid.
\end{proof}

\begin{exercise}{4.3}
	Let $A, B$ be objects of a category $\mathsf{C}$, and let $f\in \operatorname{Hom}_{\mathsf{C}}(A, B)$ be a morphism.
	\begin{itemize}
		\item Prove that if $f$ has a right-inverse, then $f$ is an epimorphism.
		\item Show that the converse does not hold, by giving an explicit example of a category and an epimorphism without a right-inverse.
	\end{itemize}
\end{exercise}

\begin{proof}
	\begin{itemize}
		\item If $f$ has a right-inverse, then there exists $g\in \operatorname{Hom}_{\mathsf{C}}(B, A)$ such that $fg = 1_{B}$. For every $\beta', \beta'' \in \operatorname{Hom}_{\mathsf{C}}(B, Z)$, if $\beta'\circ f = \beta''\circ f$ then
		      \begin{align*}
			      \beta' & = \beta'\circ 1_{B} = \beta'\circ (f\circ g) = (\beta'\circ f)\circ g              \\
			             & = (\beta''\circ f)\circ g = \beta''\circ (f\circ g) = \beta''\circ 1_{B} = \beta''
		      \end{align*}

		      so $f$ is an epimorphism.
		\item (Take any partially ordered set would work) Let $S$ be an infinite set and $\hat{S}$ a category whose objects are elements of $\mathscr{P}(S)$, and $\operatorname{Hom}_{\hat{S}}(A, B) = \set{(A, B)}$ if $A\subseteq B$, and $\emptyset$ otherwise. From this definition, every morphism is an epimorphism. If $A\subsetneq B$, $(A, B)$ doesn't have a right-inverse.
	\end{itemize}
\end{proof}

\begin{exercise}{4.4}
	Prove that the composition of two monomorphisms is a monomorphism. Deduce that one can define a subcategory ${\mathsf{C}}_{mono}$ of a category $\mathsf{C}$ by taking the same objects as in $\mathsf{C}$ and defining $\operatorname{Hom}_{{\mathsf{C}}_{mono}}(A, B)$ to be the subset of $\operatorname{Hom}_{\mathsf{C}}(A, B)$ consisting of monomorphisms, for all objects $A, B$. Do the same for epimorphisms. Can you define a subcategory $\mathsf{C}_{nonmono}$ by restricting to morphisms that are \textit{not} monomorphisms?
\end{exercise}

\begin{proof}
	Let $f: A\to B$ and $g: B\to C$ be two monomorphisms. For every $\alpha', \alpha'' \in \operatorname{Hom}_{\mathsf{C}}(Z, A)$, if $(gf)\alpha' = (gf)\alpha''$ then it follows that $f\alpha' = f\alpha''$ (because $g$ is a monomorphism), which implies $\alpha' = \alpha''$ (because $f$ is a monomorphism). Hence $gf$ is a monomorphism.

	We can define a subcategory $\mathsf{C}_{mono}$ because the previous result implies that if we compose two monomorphisms, we get a monomorphism.

	Let $f: A\to B$ and $g: B\to C$ be two epimorphisms. For every $\beta', \beta'' \in \operatorname{Hom}_{\mathsf{C}}(C, Z)$, if $\beta'(gf) = \beta''(gf)$ then $(\beta'g)f = (\beta''g)f$. Because $f$ is an epimorphism, $\beta'g = \beta''g$. Because $g$ is an epimorphism, $\beta' = \beta''$. Hence $gf$ is an epimorphism.

	Similarly, we can define a subcategory $\mathsf{C}_{epi}$ (where $\operatorname{Hom}_{{\mathsf{C}}_{epi}}(A, B)$ is the subset of $\operatorname{Hom}_{\mathsf{C}}(A, B)$ consisting of epimorphisms) because if we compose two epimorphisms, we get an epimorphism.

	We can't define a subcategory $\mathsf{C}_{nonmono}$ because every identity is a monomorphism. However, the composition of two non-monomorphisms is a monomorphism, which is showed as follows:

	If $f: A\to B$ and $g: B\to C$ are not monomorphisms. Then there exist distinct morphisms $\alpha', \alpha''$ which are composable with $f$ such that $f\alpha' = f\alpha''$. Therefore $(gf)\alpha' = g(f\alpha') = g(f\alpha'') = (gf)\alpha''$ but $\alpha' \ne \alpha''$, which means $gf$ is not a monomorphism. However,
\end{proof}

\begin{exercise}{4.5}
	Give a concrete description of monomorphisms and epimorphisms in the category $\mathsf{MSet}$ you constructed in Exercise~\ref{exercise:1-3.9}.
\end{exercise}

\begin{proof}
	The objects of $\mathsf{MSet}$ are $(A, \sim_{A})$ where $A$ is an object of $\mathsf{Set}$ and $\sim_{A}$ is an equivalence relation on $A$. $\operatorname{Hom}_{\mathsf{MSet}}((A, \sim_{A}), (B, \sim_{B}))$ is defined to be the set of functions from the set of equivalence classes of $\sim_{A}$ to the set of equivalence classes of $\sim_{B}$.

	Monomorphisms in $\mathsf{MSet}$ are monomorphisms in $\mathsf{Set}$, and epimorphisms in $\mathsf{MSet}$ are epimorphisms in $\mathsf{Set}$.
\end{proof}

\section{Universal properties}

